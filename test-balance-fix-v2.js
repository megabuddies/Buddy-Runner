// –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Ç–µ—Å—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ faucet
// –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –ø–æ—Å–ª–µ –≤—Ö–æ–¥–∞ –≤ –∏–≥—Ä—É

console.log('üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ faucet...');

// –ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏–π
if (typeof window.gameCallFaucet === 'undefined') {
  console.log('‚ùå –§—É–Ω–∫—Ü–∏–∏ –æ—Ç–ª–∞–¥–∫–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –≤ development —Ä–µ–∂–∏–º–µ.');
} else {
  console.log('‚úÖ –§—É–Ω–∫—Ü–∏–∏ –æ—Ç–ª–∞–¥–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã');
  
  // –ü–æ–ª—É—á–∞–µ–º embedded wallet
  const embeddedWallet = window.gameGetEmbeddedWallet();
  if (embeddedWallet) {
    console.log('‚úÖ Embedded wallet –Ω–∞–π–¥–µ–Ω:', embeddedWallet.address);
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å
    console.log('üí∞ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ –±–∞–ª–∞–Ω—Å–∞...');
    window.gameCheckBalance(6342)
      .then(balance => {
        console.log('üí∞ –¢–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å:', balance, 'ETH');
        
        if (parseFloat(balance) < 0.00005) {
          console.log('‚ö†Ô∏è –ë–∞–ª–∞–Ω—Å –Ω–∏–∑–∫–∏–π, —Ç–µ—Å—Ç–∏—Ä—É–µ–º —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π faucet...');
          
          // –¢–µ—Å—Ç–∏—Ä—É–µ–º —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –≤—ã–∑–æ–≤ faucet
          return window.gameCallFaucet(embeddedWallet.address, 6342)
            .then(result => {
              console.log('‚úÖ –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π faucet —Ä–µ–∑—É–ª—å—Ç–∞—Ç:', result);
              
              // –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–µ–º –±–∞–ª–∞–Ω—Å –ø–æ—Å–ª–µ faucet
              return window.gameCheckBalance(6342);
            })
            .then(newBalance => {
              console.log('üí∞ –ë–∞–ª–∞–Ω—Å –ø–æ—Å–ª–µ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ faucet:', newBalance, 'ETH');
              
              if (parseFloat(newBalance) >= 0.00005) {
                console.log('‚úÖ –ë–∞–ª–∞–Ω—Å —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ!');
              } else {
                console.log('‚ö†Ô∏è –ë–∞–ª–∞–Ω—Å –≤—Å–µ –µ—â–µ –Ω–∏–∑–∫–∏–π –ø–æ—Å–ª–µ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ faucet');
              }
            });
        } else {
          console.log('‚úÖ –ë–∞–ª–∞–Ω—Å –¥–æ—Å—Ç–∞—Ç–æ—á–Ω—ã–π');
        }
      })
      .catch(error => {
        console.error('‚ùå –û—à–∏–±–∫–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:', error);
      });
  } else {
    console.log('‚ùå Embedded wallet –Ω–µ –Ω–∞–π–¥–µ–Ω');
  }
}

// –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
console.log('\nüìã –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:');
console.log('1. –í–æ–π–¥–∏—Ç–µ –≤ –∏–≥—Ä—É —á–µ—Ä–µ–∑ Privy');
console.log('2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –ª–æ–≥–æ–≤ –æ–± embedded wallet');
console.log('3. –ï—Å–ª–∏ –±–∞–ª–∞–Ω—Å < 0.00005 ETH, faucet –¥–æ–ª–∂–µ–Ω –≤—ã–∑—ã–≤–∞—Ç—å—Å—è –°–ò–ù–•–†–û–ù–ù–û');
console.log('4. –ë–∞–ª–∞–Ω—Å –¥–æ–ª–∂–µ–Ω –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–∞ –æ—Ç faucet');
console.log('5. Pre-signing –¥–æ–ª–∂–µ–Ω –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–º –±–∞–ª–∞–Ω—Å–æ–º');
console.log('6. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø—Ä—ã–≥–Ω—É—Ç—å - –¥–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –ø–µ—Ä–≤–æ–≥–æ —Ä–∞–∑–∞ –±–µ–∑ refresh');
console.log('7. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã');

// –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
console.log('\nüîç –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏:');
console.log('- –ò—â–∏—Ç–µ –ª–æ–≥–∏: "calling faucet SYNCHRONOUSLY..."');
console.log('- –ò—â–∏—Ç–µ –ª–æ–≥–∏: "Balance updated immediately after faucet response"');
console.log('- –ò—â–∏—Ç–µ –ª–æ–≥–∏: "Pre-signing with balance: X.XXXX ETH"');
console.log('- –ò—â–∏—Ç–µ –ª–æ–≥–∏: "Pre-signed transaction pool is now ACTIVE"');