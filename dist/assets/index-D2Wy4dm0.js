const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ccip-mKVbOKCd.js","assets/privy-C-Ell8v5.js","assets/vendor-C7A1SLig.js"])))=>i.map(i=>d[i]);
var _o=Object.defineProperty;var ni=t=>{throw TypeError(t)};var zo=(t,e,n)=>e in t?_o(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var g=(t,e,n)=>zo(t,typeof e!="symbol"?e+"":e,n),Fr=(t,e,n)=>e.has(t)||ni("Cannot "+n);var v=(t,e,n)=>(Fr(t,e,"read from private field"),n?n.call(t):e.get(t)),W=(t,e,n)=>e.has(t)?ni("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),_=(t,e,n,r)=>(Fr(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),q=(t,e,n)=>(Fr(t,e,"access private method"),n);var ri=(t,e,n,r)=>({set _(s){_(t,e,s,n)},get _(){return v(t,e,r)}});import{_ as Ho,m as $n,o as Ji,j as u,i as vs,a as Wo,X as Vo}from"./privy-C-Ell8v5.js";import{b as qo,r as F,R as Jo}from"./vendor-C7A1SLig.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Hr={},si=qo;Hr.createRoot=si.createRoot,Hr.hydrateRoot=si.hydrateRoot;class Yo{constructor(e,n,r,s,i,a,o=null){g(this,"WALK_ANIMATION_TIMER",180);g(this,"walkAnimationTimer",this.WALK_ANIMATION_TIMER);g(this,"buddyRunImages",[]);g(this,"jumpPressed",!1);g(this,"jumpInProgress",!1);g(this,"falling",!1);g(this,"JUMP_SPEED",.65);g(this,"GRAVITY",.38);g(this,"dustParticles",[]);g(this,"showDust",!1);g(this,"dustTimer",0);g(this,"touchstart",()=>{this.jumpPressed=!0});g(this,"touchend",()=>{this.jumpPressed=!1});g(this,"keydown",e=>{e.code==="Space"&&(this.jumpPressed=!0)});g(this,"keyup",e=>{e.code==="Space"&&(this.jumpPressed=!1)});this.ctx=e,this.canvas=e.canvas,this.width=n,this.height=r,this.minJumpHeight=s,this.maxJumpHeight=i,this.scaleRatio=a,this.onMovementCallback=o,this.x=10*a,this.y=this.canvas.height-this.height,this.yStandingPosition=this.y,this.standingStillImage=new Image,this.standingStillImage.src="assets/buddy_standing_still.png",this.standingStillImage.onerror=()=>console.error("Failed to load buddy_standing_still.png"),this.image=this.standingStillImage,this.jumpingImage=new Image,this.jumpingImage.src="assets/buddy_standing_still_eye_closed.png",this.jumpingImage.onerror=()=>console.error("Failed to load buddy_standing_still_eye_closed.png");const c=new Image;c.src="assets/buddy_run1.png",c.onerror=()=>console.error("Failed to load buddy_run1.png");const l=new Image;l.src="assets/buddy_run2.png",l.onerror=()=>console.error("Failed to load buddy_run2.png"),this.buddyRunImages.push(c),this.buddyRunImages.push(l),window.removeEventListener("keydown",this.keydown),window.removeEventListener("keyup",this.keyup),window.addEventListener("keydown",this.keydown),window.addEventListener("keyup",this.keyup),window.removeEventListener("touchstart",this.touchstart),window.removeEventListener("touchend",this.touchend),window.addEventListener("touchstart",this.touchstart),window.addEventListener("touchend",this.touchend)}update(e,n){this.run(e,n),this.jumpInProgress&&(this.image=this.jumpingImage),this.jump(n),this.updateDust(n)}jump(e){this.jumpPressed&&(this.jumpInProgress||this.onMovementCallback&&this.onMovementCallback(),this.jumpInProgress=!0),this.jumpInProgress&&!this.falling?this.y>this.canvas.height-this.minJumpHeight||this.y>this.canvas.height-this.maxJumpHeight&&this.jumpPressed?this.y-=this.JUMP_SPEED*e*this.scaleRatio:this.falling=!0:this.y<this.yStandingPosition?(this.y+=this.GRAVITY*e*this.scaleRatio,this.y+this.height>this.canvas.height&&(this.y=this.yStandingPosition,this.createDustEffect())):(this.falling=!1,this.jumpInProgress=!1)}createDustEffect(){this.showDust=!0,this.dustTimer=300}updateDust(e){this.showDust&&(this.dustTimer-=e,this.dustTimer<=0&&(this.showDust=!1))}run(e,n){this.walkAnimationTimer<=0&&(this.image===this.buddyRunImages[0]?this.image=this.buddyRunImages[1]:this.image=this.buddyRunImages[0],this.walkAnimationTimer=this.WALK_ANIMATION_TIMER),this.walkAnimationTimer-=n*e}draw(){if(this.image&&this.image.complete&&this.image.naturalWidth>0&&this.ctx.drawImage(this.image,this.x,this.y,this.width,this.height),this.showDust){this.ctx.fillStyle="rgba(139, 69, 19, 0.6)";const e=this.yStandingPosition+this.height;for(let n=0;n<5;n++){const r=this.x+this.width*.2+n*8*this.scaleRatio,s=(3-n*.5)*this.scaleRatio;this.ctx.beginPath(),this.ctx.arc(r,e-s,s,0,Math.PI*2),this.ctx.fill()}}}}class Xo{constructor(e,n,r,s,i){this.ctx=e,this.canvas=e.canvas,this.width=n,this.height=r,this.speed=s,this.scaleRatio=i,this.x=0,this.y=this.canvas.height-this.height,this.groundImage=new Image,this.groundImage.src="assets/ground.png",this.groundImage.onerror=()=>console.error("Failed to load ground.png")}update(e,n){this.x-=e*n*this.speed*this.scaleRatio}draw(){this.ctx.fillStyle="#7BA428",this.ctx.fillRect(0,this.y,this.canvas.width,this.height),this.ctx.fillStyle="#6B9420";for(let e=0;e<this.canvas.width;e+=3)this.ctx.fillRect(e,this.y,1,this.height);this.ctx.fillStyle="#8B4513",this.ctx.fillRect(0,this.y+this.height*.7,this.canvas.width,this.height*.3),this.x<-this.width&&(this.x=0)}reset(){this.x=0}}class Ko{constructor(e,n,r,s,i,a){this.ctx=e,this.x=n,this.y=r,this.width=s,this.height=i,this.image=a}update(e,n,r,s){this.x-=e*n*r*s}draw(){this.image&&this.image.complete&&this.image.naturalWidth>0&&this.ctx.drawImage(this.image,this.x,this.y,this.width,this.height)}collideWith(e){return e.x<this.x+this.width/1.4&&e.x+e.width/1.4>this.x&&e.y<this.y+this.height/1.4&&e.height+e.y/1.4>this.y}}class Zo{constructor(e,n,r,s){g(this,"CARROT_INTERVAL_MIN",500);g(this,"CARROT_INTERVAL_MAX",2e3);g(this,"nextCarrotInterval",null);g(this,"carrots",[]);this.ctx=e,this.canvas=e.canvas,this.carrotImages=n,this.scaleRatio=r,this.speed=s,this.setNextCarrotTime()}setNextCarrotTime(){const e=this.getRandomNumber(this.CARROT_INTERVAL_MIN,this.CARROT_INTERVAL_MAX);this.nextCarrotInterval=e}getRandomNumber(e,n){return Math.floor(Math.random()*(n-e+1)+e)}createCarrot(){const e=this.getRandomNumber(0,this.carrotImages.length-1),n=this.carrotImages[e],r=this.canvas.width*1.5,s=this.canvas.height-n.height,i=new Ko(this.ctx,r,s,n.width,n.height,n.image);this.carrots.push(i)}update(e,n){this.nextCarrotInterval<=0&&(this.createCarrot(),this.setNextCarrotTime()),this.nextCarrotInterval-=n,this.carrots.forEach(r=>{r.update(this.speed,e,n,this.scaleRatio)}),this.carrots=this.carrots.filter(r=>r.x>-r.width)}draw(){this.carrots.forEach(e=>e.draw())}collideWith(e){return this.carrots.some(n=>n.collideWith(e))}reset(){this.carrots=[]}}class Qo{constructor(e,n,r=null){g(this,"score",0);g(this,"HIGH_SCORE_KEY","highScore");this.ctx=e,this.canvas=e.canvas,this.scaleRatio=n,this.blockchainStatus=r}update(e){this.score+=e*.01}reset(){this.score=0}setHighScore(){const e=Number(localStorage.getItem(this.HIGH_SCORE_KEY));this.score>e&&localStorage.setItem(this.HIGH_SCORE_KEY,Math.floor(this.score))}draw(){const e=Number(localStorage.getItem(this.HIGH_SCORE_KEY)),n=20*this.scaleRatio,r=20*this.scaleRatio;this.ctx.font=`${r}px serif`,this.ctx.fillStyle="#6B8E6B";const s=this.canvas.width-75*this.scaleRatio,i=s-125*this.scaleRatio,a=Math.floor(this.score).toString().padStart(6,0),o=e.toString().padStart(6,0);if(this.ctx.fillText(a,s,n),this.ctx.fillText(`HI ${o}`,i,n),this.blockchainStatus){const c=n+30*this.scaleRatio,l=12*this.scaleRatio;this.ctx.font=`${l}px monospace`,this.ctx.fillStyle=this.blockchainStatus.contractAvailable?"#7FBC7F":"#FFA500",this.ctx.fillText(`⛓️ ${this.blockchainStatus.networkName}`,10*this.scaleRatio,c),this.ctx.fillStyle="#4169E1",this.ctx.fillText(`Moves: ${this.blockchainStatus.totalMovements}`,10*this.scaleRatio,c+20*this.scaleRatio),this.blockchainStatus.pendingTransactions>0&&(this.ctx.fillStyle="#FF6347",this.ctx.fillText(`Pending: ${this.blockchainStatus.pendingTransactions}`,10*this.scaleRatio,c+40*this.scaleRatio)),this.blockchainStatus.onChainScore>0&&(this.ctx.fillStyle="#32CD32",this.ctx.fillText(`On-chain: ${this.blockchainStatus.onChainScore}`,10*this.scaleRatio,c+60*this.scaleRatio))}}}const ec="6.15.0";function tc(t,e,n){const r=e.split("|").map(i=>i.trim());for(let i=0;i<r.length;i++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const s=new Error(`invalid value for type ${e}`);throw s.code="INVALID_ARGUMENT",s.argument=`value.${n}`,s.value=t,s}async function Wr(t){const e=Object.keys(t);return(await Promise.all(e.map(r=>Promise.resolve(t[r])))).reduce((r,s,i)=>(r[e[i]]=s,r),{})}function D(t,e,n){for(let r in e){let s=e[r];const i=n?n[r]:null;i&&tc(s,i,r),Object.defineProperty(t,r,{enumerable:!0,value:s,writable:!1})}}function St(t,e){if(t==null)return"null";if(e==null&&(e=new Set),typeof t=="object"){if(e.has(t))return"[Circular]";e.add(t)}if(Array.isArray(t))return"[ "+t.map(n=>St(n,e)).join(", ")+" ]";if(t instanceof Uint8Array){const n="0123456789abcdef";let r="0x";for(let s=0;s<t.length;s++)r+=n[t[s]>>4],r+=n[t[s]&15];return r}if(typeof t=="object"&&typeof t.toJSON=="function")return St(t.toJSON(),e);switch(typeof t){case"boolean":case"number":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{const n=Object.keys(t);return n.sort(),"{ "+n.map(r=>`${St(r,e)}: ${St(t[r],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function _t(t,e){return t&&t.code===e}function Yi(t){return _t(t,"CALL_EXCEPTION")}function on(t,e,n){let r=t;{const i=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error(`value will overwrite populated values: ${St(n)}`);for(const a in n){if(a==="shortMessage")continue;const o=n[a];i.push(a+"="+St(o))}}i.push(`code=${e}`),i.push(`version=${ec}`),i.length&&(t+=" ("+i.join(", ")+")")}let s;switch(e){case"INVALID_ARGUMENT":s=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":s=new RangeError(t);break;default:s=new Error(t)}return D(s,{code:e}),n&&Object.assign(s,n),s.shortMessage==null&&D(s,{shortMessage:r}),s}function M(t,e,n,r){if(!t)throw on(e,n,r)}function T(t,e,n,r){M(t,e,"INVALID_ARGUMENT",{argument:n,value:r})}function Xi(t,e,n){n==null&&(n=""),n&&(n=": "+n),M(t>=e,"missing argument"+n,"MISSING_ARGUMENT",{count:t,expectedCount:e}),M(t<=e,"too many arguments"+n,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"é".normalize("NFD")!=="é")throw new Error("broken");t.push(e)}catch{}return t},[]);function Es(t,e,n){if(n==null&&(n=""),t!==e){let r=n,s="new";n&&(r+=".",s+=" "+n),M(!1,`private constructor; use ${r}from* methods`,"UNSUPPORTED_OPERATION",{operation:s})}}function Ki(t,e,n){if(t instanceof Uint8Array)return n?new Uint8Array(t):t;if(typeof t=="string"&&t.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const r=new Uint8Array((t.length-2)/2);let s=2;for(let i=0;i<r.length;i++)r[i]=parseInt(t.substring(s,s+2),16),s+=2;return r}T(!1,"invalid BytesLike value",e||"value",t)}function We(t,e){return Ki(t,e,!1)}function Ce(t,e){return Ki(t,e,!0)}function Ge(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function nc(t){return Ge(t,!0)||t instanceof Uint8Array}const ii="0123456789abcdef";function K(t){const e=We(t);let n="0x";for(let r=0;r<e.length;r++){const s=e[r];n+=ii[(s&240)>>4]+ii[s&15]}return n}function Rt(t){return"0x"+t.map(e=>K(e).substring(2)).join("")}function kt(t,e,n){const r=We(t);return n!=null&&n>r.length&&M(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n}),K(r.slice(e??0,n??r.length))}function Zi(t,e,n){const r=We(t);M(e>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:e,offset:e+1});const s=new Uint8Array(e);return s.fill(0),n?s.set(r,e-r.length):s.set(r,0),K(s)}function rc(t,e){return Zi(t,e,!0)}function sc(t,e){return Zi(t,e,!1)}const hr=BigInt(0),ve=BigInt(1),Ot=9007199254740991;function ic(t,e){const n=pr(t,"value"),r=BigInt(Ye(e,"width"));if(M(n>>r===hr,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),n>>r-ve){const s=(ve<<r)-ve;return-((~n&s)+ve)}return n}function ac(t,e){let n=ot(t,"value");const r=BigInt(Ye(e,"width")),s=ve<<r-ve;if(n<hr){n=-n,M(n<=s,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});const i=(ve<<r)-ve;return(~n&i)+ve}else M(n<s,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return n}function Wn(t,e){const n=pr(t,"value"),r=BigInt(Ye(e,"bits"));return n&(ve<<r)-ve}function ot(t,e){switch(typeof t){case"bigint":return t;case"number":return T(Number.isInteger(t),"underflow",e||"value",t),T(t>=-Ot&&t<=Ot,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(n){T(!1,`invalid BigNumberish string: ${n.message}`,e||"value",t)}}T(!1,"invalid BigNumberish value",e||"value",t)}function pr(t,e){const n=ot(t,e);return M(n>=hr,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),n}const ai="0123456789abcdef";function Qi(t){if(t instanceof Uint8Array){let e="0x0";for(const n of t)e+=ai[n>>4],e+=ai[n&15];return BigInt(e)}return ot(t)}function Ye(t,e){switch(typeof t){case"bigint":return T(t>=-Ot&&t<=Ot,"overflow",e||"value",t),Number(t);case"number":return T(Number.isInteger(t),"underflow",e||"value",t),T(t>=-Ot&&t<=Ot,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return Ye(BigInt(t),e)}catch(n){T(!1,`invalid numeric string: ${n.message}`,e||"value",t)}}T(!1,"invalid numeric value",e||"value",t)}function oc(t){return Ye(Qi(t))}function ea(t,e){let r=pr(t,"value").toString(16);if(e==null)r.length%2&&(r="0"+r);else{const s=Ye(e,"width");for(M(s*2>=r.length,`value exceeds width (${s} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});r.length<s*2;)r="0"+r}return"0x"+r}function cc(t){const e=pr(t,"value");if(e===hr)return new Uint8Array([]);let n=e.toString(16);n.length%2&&(n="0"+n);const r=new Uint8Array(n.length/2);for(let s=0;s<r.length;s++){const i=s*2;r[s]=parseInt(n.substring(i,i+2),16)}return r}var Mt;class lc{constructor(e,n,r){g(this,"filter");g(this,"emitter");W(this,Mt);_(this,Mt,n),D(this,{emitter:e,filter:r})}async removeListener(){v(this,Mt)!=null&&await this.emitter.off(this.filter,v(this,Mt))}}Mt=new WeakMap;function uc(t,e,n,r,s){T(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",n)}function ta(t,e,n,r,s){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let i=0;for(let a=e+1;a<n.length&&n[a]>>6===2;a++)i++;return i}return t==="OVERRUN"?n.length-e-1:0}function dc(t,e,n,r,s){return t==="OVERLONG"?(T(typeof s=="number","invalid bad code point for replacement","badCodepoint",s),r.push(s),0):(r.push(65533),ta(t,e,n))}const fc=Object.freeze({error:uc,ignore:ta,replace:dc});function hc(t,e){e==null&&(e=fc.error);const n=We(t,"bytes"),r=[];let s=0;for(;s<n.length;){const i=n[s++];if(!(i>>7)){r.push(i);continue}let a=null,o=null;if((i&224)===192)a=1,o=127;else if((i&240)===224)a=2,o=2047;else if((i&248)===240)a=3,o=65535;else{(i&192)===128?s+=e("UNEXPECTED_CONTINUE",s-1,n,r):s+=e("BAD_PREFIX",s-1,n,r);continue}if(s-1+a>=n.length){s+=e("OVERRUN",s-1,n,r);continue}let c=i&(1<<8-a-1)-1;for(let l=0;l<a;l++){let d=n[s];if((d&192)!=128){s+=e("MISSING_CONTINUE",s,n,r),c=null;break}c=c<<6|d&63,s++}if(c!==null){if(c>1114111){s+=e("OUT_OF_RANGE",s-1-a,n,r,c);continue}if(c>=55296&&c<=57343){s+=e("UTF16_SURROGATE",s-1-a,n,r,c);continue}if(c<=o){s+=e("OVERLONG",s-1-a,n,r,c);continue}r.push(c)}}return r}function na(t,e){T(typeof t=="string","invalid string value","str",t);let n=[];for(let r=0;r<t.length;r++){const s=t.charCodeAt(r);if(s<128)n.push(s);else if(s<2048)n.push(s>>6|192),n.push(s&63|128);else if((s&64512)==55296){r++;const i=t.charCodeAt(r);T(r<t.length&&(i&64512)===56320,"invalid surrogate pair","str",t);const a=65536+((s&1023)<<10)+(i&1023);n.push(a>>18|240),n.push(a>>12&63|128),n.push(a>>6&63|128),n.push(a&63|128)}else n.push(s>>12|224),n.push(s>>6&63|128),n.push(s&63|128)}return new Uint8Array(n)}function pc(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function mc(t,e){return pc(hc(t,e))}const ie=32,Vr=new Uint8Array(ie),gc=["then"],Vn={},ra=new WeakMap;function ut(t){return ra.get(t)}function oi(t,e){ra.set(t,e)}function Zt(t,e){const n=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw n.error=e,n}function qr(t,e,n){return t.indexOf(null)>=0?e.map((r,s)=>r instanceof zt?qr(ut(r),r,n):r):t.reduce((r,s,i)=>{let a=e.getValue(s);return s in r||(n&&a instanceof zt&&(a=qr(ut(a),a,n)),r[s]=a),r},{})}var Lt;const jt=class jt extends Array{constructor(...n){const r=n[0];let s=n[1],i=(n[2]||[]).slice(),a=!0;r!==Vn&&(s=n,i=[],a=!1);super(s.length);W(this,Lt);s.forEach((l,d)=>{this[d]=l});const o=i.reduce((l,d)=>(typeof d=="string"&&l.set(d,(l.get(d)||0)+1),l),new Map);if(oi(this,Object.freeze(s.map((l,d)=>{const f=i[d];return f!=null&&o.get(f)===1?f:null}))),_(this,Lt,[]),v(this,Lt)==null&&v(this,Lt),!a)return;Object.freeze(this);const c=new Proxy(this,{get:(l,d,f)=>{if(typeof d=="string"){if(d.match(/^[0-9]+$/)){const m=Ye(d,"%index");if(m<0||m>=this.length)throw new RangeError("out of result range");const p=l[m];return p instanceof Error&&Zt(`index ${m}`,p),p}if(gc.indexOf(d)>=0)return Reflect.get(l,d,f);const h=l[d];if(h instanceof Function)return function(...m){return h.apply(this===f?l:this,m)};if(!(d in l))return l.getValue.apply(this===f?l:this,[d])}return Reflect.get(l,d,f)}});return oi(c,ut(this)),c}toArray(n){const r=[];return this.forEach((s,i)=>{s instanceof Error&&Zt(`index ${i}`,s),n&&s instanceof jt&&(s=s.toArray(n)),r.push(s)}),r}toObject(n){const r=ut(this);return r.reduce((s,i,a)=>(M(i!=null,`value at index ${a} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),qr(r,this,n)),{})}slice(n,r){n==null&&(n=0),n<0&&(n+=this.length,n<0&&(n=0)),r==null&&(r=this.length),r<0&&(r+=this.length,r<0&&(r=0)),r>this.length&&(r=this.length);const s=ut(this),i=[],a=[];for(let o=n;o<r;o++)i.push(this[o]),a.push(s[o]);return new jt(Vn,i,a)}filter(n,r){const s=ut(this),i=[],a=[];for(let o=0;o<this.length;o++){const c=this[o];c instanceof Error&&Zt(`index ${o}`,c),n.call(r,c,o,this)&&(i.push(c),a.push(s[o]))}return new jt(Vn,i,a)}map(n,r){const s=[];for(let i=0;i<this.length;i++){const a=this[i];a instanceof Error&&Zt(`index ${i}`,a),s.push(n.call(r,a,i,this))}return s}getValue(n){const r=ut(this).indexOf(n);if(r===-1)return;const s=this[r];return s instanceof Error&&Zt(`property ${JSON.stringify(n)}`,s.error),s}static fromItems(n,r){return new jt(Vn,n,r)}};Lt=new WeakMap;let zt=jt;function ci(t){let e=cc(t);return M(e.length<=ie,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:ie,offset:e.length}),e.length!==ie&&(e=Ce(Rt([Vr.slice(e.length%ie),e]))),e}class Xe{constructor(e,n,r,s){g(this,"name");g(this,"type");g(this,"localName");g(this,"dynamic");D(this,{name:e,type:n,localName:r,dynamic:s},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,n){T(!1,e,this.localName,n)}}var De,ht,Ut,er;class Jr{constructor(){W(this,Ut);W(this,De);W(this,ht);_(this,De,[]),_(this,ht,0)}get data(){return Rt(v(this,De))}get length(){return v(this,ht)}appendWriter(e){return q(this,Ut,er).call(this,Ce(e.data))}writeBytes(e){let n=Ce(e);const r=n.length%ie;return r&&(n=Ce(Rt([n,Vr.slice(r)]))),q(this,Ut,er).call(this,n)}writeValue(e){return q(this,Ut,er).call(this,ci(e))}writeUpdatableValue(){const e=v(this,De).length;return v(this,De).push(Vr),_(this,ht,v(this,ht)+ie),n=>{v(this,De)[e]=ci(n)}}}De=new WeakMap,ht=new WeakMap,Ut=new WeakSet,er=function(e){return v(this,De).push(e),_(this,ht,v(this,ht)+e.length),e.length};var ce,pe,pt,mt,Ze,Tt,Xr,sa;const Zs=class Zs{constructor(e,n,r){W(this,Tt);g(this,"allowLoose");W(this,ce);W(this,pe);W(this,pt);W(this,mt);W(this,Ze);D(this,{allowLoose:!!n}),_(this,ce,Ce(e)),_(this,pt,0),_(this,mt,null),_(this,Ze,r??1024),_(this,pe,0)}get data(){return K(v(this,ce))}get dataLength(){return v(this,ce).length}get consumed(){return v(this,pe)}get bytes(){return new Uint8Array(v(this,ce))}subReader(e){const n=new Zs(v(this,ce).slice(v(this,pe)+e),this.allowLoose,v(this,Ze));return _(n,mt,this),n}readBytes(e,n){let r=q(this,Tt,sa).call(this,0,e,!!n);return q(this,Tt,Xr).call(this,e),_(this,pe,v(this,pe)+r.length),r.slice(0,e)}readValue(){return Qi(this.readBytes(ie))}readIndex(){return oc(this.readBytes(ie))}};ce=new WeakMap,pe=new WeakMap,pt=new WeakMap,mt=new WeakMap,Ze=new WeakMap,Tt=new WeakSet,Xr=function(e){var n;if(v(this,mt))return q(n=v(this,mt),Tt,Xr).call(n,e);_(this,pt,v(this,pt)+e),M(v(this,Ze)<1||v(this,pt)<=v(this,Ze)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${v(this,Ze)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:Ce(v(this,ce)),offset:v(this,pe),length:e,info:{bytesRead:v(this,pt),dataLength:this.dataLength}})},sa=function(e,n,r){let s=Math.ceil(n/ie)*ie;return v(this,pe)+s>v(this,ce).length&&(this.allowLoose&&r&&v(this,pe)+n<=v(this,ce).length?s=n:M(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:Ce(v(this,ce)),length:v(this,ce).length,offset:v(this,pe)+s})),v(this,ce).slice(v(this,pe),v(this,pe)+s)};let Yr=Zs;function li(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function ia(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function ui(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function bc(t,e){ia(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const yc=t=>t instanceof Uint8Array,wc=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),xc=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!xc)throw new Error("Non little-endian hardware is not supported");function vc(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function aa(t){if(typeof t=="string"&&(t=vc(t)),!yc(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}let Ec=class{clone(){return this._cloneInto()}};function Nc(t){const e=r=>t().update(aa(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}const qn=BigInt(2**32-1),di=BigInt(32);function Tc(t,e=!1){return e?{h:Number(t&qn),l:Number(t>>di&qn)}:{h:Number(t>>di&qn)|0,l:Number(t&qn)|0}}function Pc(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:a}=Tc(t[s],e);[n[s],r[s]]=[i,a]}return[n,r]}const kc=(t,e,n)=>t<<n|e>>>32-n,Ac=(t,e,n)=>e<<n|t>>>32-n,Ic=(t,e,n)=>e<<n-32|t>>>64-n,Sc=(t,e,n)=>t<<n-32|e>>>64-n,[oa,ca,la]=[[],[],[]],Oc=BigInt(0),Qt=BigInt(1),Cc=BigInt(2),jc=BigInt(7),Rc=BigInt(256),$c=BigInt(113);for(let t=0,e=Qt,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],oa.push(2*(5*r+n)),ca.push((t+1)*(t+2)/2%64);let s=Oc;for(let i=0;i<7;i++)e=(e<<Qt^(e>>jc)*$c)%Rc,e&Cc&&(s^=Qt<<(Qt<<BigInt(i))-Qt);la.push(s)}const[Fc,Bc]=Pc(la,!0),fi=(t,e,n)=>n>32?Ic(t,e,n):kc(t,e,n),hi=(t,e,n)=>n>32?Sc(t,e,n):Ac(t,e,n);function Mc(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let a=0;a<10;a++)n[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){const o=(a+8)%10,c=(a+2)%10,l=n[c],d=n[c+1],f=fi(l,d,1)^n[o],h=hi(l,d,1)^n[o+1];for(let m=0;m<50;m+=10)t[a+m]^=f,t[a+m+1]^=h}let s=t[2],i=t[3];for(let a=0;a<24;a++){const o=ca[a],c=fi(s,i,o),l=hi(s,i,o),d=oa[a];s=t[d],i=t[d+1],t[d]=c,t[d+1]=l}for(let a=0;a<50;a+=10){for(let o=0;o<10;o++)n[o]=t[a+o];for(let o=0;o<10;o++)t[a+o]^=~n[(o+2)%10]&n[(o+4)%10]}t[0]^=Fc[r],t[1]^=Bc[r]}n.fill(0)}let Lc=class ua extends Ec{constructor(e,n,r,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,li(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=wc(this.state)}keccak(){Mc(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){ui(this);const{blockLen:n,state:r}=this;e=aa(e);const s=e.length;for(let i=0;i<s;){const a=Math.min(n-this.pos,s-i);for(let o=0;o<a;o++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,n&128&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){ui(this,!1),ia(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const a=Math.min(r-this.posOut,i-s);e.set(n.subarray(this.posOut,this.posOut+a),s),this.posOut+=a,s+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return li(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(bc(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:a}=this;return e||(e=new ua(n,r,s,a,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=a,e.destroyed=this.destroyed,e}};const Uc=(t,e,n)=>Nc(()=>new Lc(e,t,n)),Dc=Uc(1,136,256/8);let da=!1;const fa=function(t){return Dc(t)};let ha=fa;function nt(t){const e=We(t,"data");return K(ha(e))}nt._=fa;nt.lock=function(){da=!0};nt.register=function(t){if(da)throw new TypeError("keccak256 is locked");ha=t};Object.freeze(nt);const Gc=BigInt(0),_c=BigInt(36);function pi(t){t=t.toLowerCase();const e=t.substring(2).split(""),n=new Uint8Array(40);for(let s=0;s<40;s++)n[s]=e[s].charCodeAt(0);const r=We(nt(n));for(let s=0;s<40;s+=2)r[s>>1]>>4>=8&&(e[s]=e[s].toUpperCase()),(r[s>>1]&15)>=8&&(e[s+1]=e[s+1].toUpperCase());return"0x"+e.join("")}const Ns={};for(let t=0;t<10;t++)Ns[String(t)]=String(t);for(let t=0;t<26;t++)Ns[String.fromCharCode(65+t)]=String(10+t);const mi=15;function zc(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(r=>Ns[r]).join("");for(;e.length>=mi;){let r=e.substring(0,mi);e=parseInt(r,10)%97+e.substring(r.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}const Hc=function(){const t={};for(let e=0;e<36;e++){const n="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[n]=BigInt(e)}return t}();function Wc(t){t=t.toLowerCase();let e=Gc;for(let n=0;n<t.length;n++)e=e*_c+Hc[t[n]];return e}function yt(t){if(T(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=pi(t);return T(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){T(t.substring(2,4)===zc(t),"bad icap checksum","address",t);let e=Wc(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return pi("0x"+e)}T(!1,"invalid address","address",t)}function pa(t){return t&&typeof t.getAddress=="function"}async function Br(t,e){const n=await e;return(n==null||n==="0x0000000000000000000000000000000000000000")&&(M(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),T(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),yt(n)}function cn(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?yt(t):(M(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),Br(t,e.resolveName(t)));if(pa(t))return Br(t,t.getAddress());if(t&&typeof t.then=="function")return Br(t,t);T(!1,"unsupported addressable value","target",t)}const Me={};function C(t,e){let n=!1;return e<0&&(n=!0,e*=-1),new re(Me,`${n?"":"u"}int${e}`,t,{signed:n,width:e})}function z(t,e){return new re(Me,`bytes${e||""}`,t,{size:e})}const gi=Symbol.for("_ethers_typed");var gt;const Le=class Le{constructor(e,n,r,s){g(this,"type");g(this,"value");W(this,gt);g(this,"_typedSymbol");s==null&&(s=null),Es(Me,e,"Typed"),D(this,{_typedSymbol:gi,type:n,value:r}),_(this,gt,s),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return v(this,gt)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return v(this,gt)===!0?-1:v(this,gt)===!1?this.value.length:null}static from(e,n){return new Le(Me,e,n)}static uint8(e){return C(e,8)}static uint16(e){return C(e,16)}static uint24(e){return C(e,24)}static uint32(e){return C(e,32)}static uint40(e){return C(e,40)}static uint48(e){return C(e,48)}static uint56(e){return C(e,56)}static uint64(e){return C(e,64)}static uint72(e){return C(e,72)}static uint80(e){return C(e,80)}static uint88(e){return C(e,88)}static uint96(e){return C(e,96)}static uint104(e){return C(e,104)}static uint112(e){return C(e,112)}static uint120(e){return C(e,120)}static uint128(e){return C(e,128)}static uint136(e){return C(e,136)}static uint144(e){return C(e,144)}static uint152(e){return C(e,152)}static uint160(e){return C(e,160)}static uint168(e){return C(e,168)}static uint176(e){return C(e,176)}static uint184(e){return C(e,184)}static uint192(e){return C(e,192)}static uint200(e){return C(e,200)}static uint208(e){return C(e,208)}static uint216(e){return C(e,216)}static uint224(e){return C(e,224)}static uint232(e){return C(e,232)}static uint240(e){return C(e,240)}static uint248(e){return C(e,248)}static uint256(e){return C(e,256)}static uint(e){return C(e,256)}static int8(e){return C(e,-8)}static int16(e){return C(e,-16)}static int24(e){return C(e,-24)}static int32(e){return C(e,-32)}static int40(e){return C(e,-40)}static int48(e){return C(e,-48)}static int56(e){return C(e,-56)}static int64(e){return C(e,-64)}static int72(e){return C(e,-72)}static int80(e){return C(e,-80)}static int88(e){return C(e,-88)}static int96(e){return C(e,-96)}static int104(e){return C(e,-104)}static int112(e){return C(e,-112)}static int120(e){return C(e,-120)}static int128(e){return C(e,-128)}static int136(e){return C(e,-136)}static int144(e){return C(e,-144)}static int152(e){return C(e,-152)}static int160(e){return C(e,-160)}static int168(e){return C(e,-168)}static int176(e){return C(e,-176)}static int184(e){return C(e,-184)}static int192(e){return C(e,-192)}static int200(e){return C(e,-200)}static int208(e){return C(e,-208)}static int216(e){return C(e,-216)}static int224(e){return C(e,-224)}static int232(e){return C(e,-232)}static int240(e){return C(e,-240)}static int248(e){return C(e,-248)}static int256(e){return C(e,-256)}static int(e){return C(e,-256)}static bytes1(e){return z(e,1)}static bytes2(e){return z(e,2)}static bytes3(e){return z(e,3)}static bytes4(e){return z(e,4)}static bytes5(e){return z(e,5)}static bytes6(e){return z(e,6)}static bytes7(e){return z(e,7)}static bytes8(e){return z(e,8)}static bytes9(e){return z(e,9)}static bytes10(e){return z(e,10)}static bytes11(e){return z(e,11)}static bytes12(e){return z(e,12)}static bytes13(e){return z(e,13)}static bytes14(e){return z(e,14)}static bytes15(e){return z(e,15)}static bytes16(e){return z(e,16)}static bytes17(e){return z(e,17)}static bytes18(e){return z(e,18)}static bytes19(e){return z(e,19)}static bytes20(e){return z(e,20)}static bytes21(e){return z(e,21)}static bytes22(e){return z(e,22)}static bytes23(e){return z(e,23)}static bytes24(e){return z(e,24)}static bytes25(e){return z(e,25)}static bytes26(e){return z(e,26)}static bytes27(e){return z(e,27)}static bytes28(e){return z(e,28)}static bytes29(e){return z(e,29)}static bytes30(e){return z(e,30)}static bytes31(e){return z(e,31)}static bytes32(e){return z(e,32)}static address(e){return new Le(Me,"address",e)}static bool(e){return new Le(Me,"bool",!!e)}static bytes(e){return new Le(Me,"bytes",e)}static string(e){return new Le(Me,"string",e)}static array(e,n){throw new Error("not implemented yet")}static tuple(e,n){throw new Error("not implemented yet")}static overrides(e){return new Le(Me,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===gi}static dereference(e,n){if(Le.isTyped(e)){if(e.type!==n)throw new Error(`invalid type: expecetd ${n}, got ${e.type}`);return e.value}return e}};gt=new WeakMap;let re=Le;class Vc extends Xe{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,n){let r=re.dereference(n,"string");try{r=yt(r)}catch(s){return this._throwError(s.message,n)}return e.writeValue(r)}decode(e){return yt(ea(e.readValue(),20))}}class qc extends Xe{constructor(n){super(n.name,n.type,"_",n.dynamic);g(this,"coder");this.coder=n}defaultValue(){return this.coder.defaultValue()}encode(n,r){return this.coder.encode(n,r)}decode(n){return this.coder.decode(n)}}function ma(t,e,n){let r=[];if(Array.isArray(n))r=n;else if(n&&typeof n=="object"){let c={};r=e.map(l=>{const d=l.localName;return M(d,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:l},value:n}),M(!c[d],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:l},value:n}),c[d]=!0,n[d]})}else T(!1,"invalid tuple value","tuple",n);T(e.length===r.length,"types/value length mismatch","tuple",n);let s=new Jr,i=new Jr,a=[];e.forEach((c,l)=>{let d=r[l];if(c.dynamic){let f=i.length;c.encode(i,d);let h=s.writeUpdatableValue();a.push(m=>{h(m+f)})}else c.encode(s,d)}),a.forEach(c=>{c(s.length)});let o=t.appendWriter(s);return o+=t.appendWriter(i),o}function ga(t,e){let n=[],r=[],s=t.subReader(0);return e.forEach(i=>{let a=null;if(i.dynamic){let o=t.readIndex(),c=s.subReader(o);try{a=i.decode(c)}catch(l){if(_t(l,"BUFFER_OVERRUN"))throw l;a=l,a.baseType=i.name,a.name=i.localName,a.type=i.type}}else try{a=i.decode(t)}catch(o){if(_t(o,"BUFFER_OVERRUN"))throw o;a=o,a.baseType=i.name,a.name=i.localName,a.type=i.type}if(a==null)throw new Error("investigate");n.push(a),r.push(i.localName||null)}),zt.fromItems(n,r)}class Jc extends Xe{constructor(n,r,s){const i=n.type+"["+(r>=0?r:"")+"]",a=r===-1||n.dynamic;super("array",i,s,a);g(this,"coder");g(this,"length");D(this,{coder:n,length:r})}defaultValue(){const n=this.coder.defaultValue(),r=[];for(let s=0;s<this.length;s++)r.push(n);return r}encode(n,r){const s=re.dereference(r,"array");Array.isArray(s)||this._throwError("expected array value",s);let i=this.length;i===-1&&(i=s.length,n.writeValue(s.length)),Xi(s.length,i,"coder array"+(this.localName?" "+this.localName:""));let a=[];for(let o=0;o<s.length;o++)a.push(this.coder);return ma(n,a,s)}decode(n){let r=this.length;r===-1&&(r=n.readIndex(),M(r*ie<=n.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:n.bytes,offset:r*ie,length:n.dataLength}));let s=[];for(let i=0;i<r;i++)s.push(new qc(this.coder));return ga(n,s)}}class Yc extends Xe{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,n){const r=re.dereference(n,"bool");return e.writeValue(r?1:0)}decode(e){return!!e.readValue()}}class ba extends Xe{constructor(e,n){super(e,e,n,!0)}defaultValue(){return"0x"}encode(e,n){n=Ce(n);let r=e.writeValue(n.length);return r+=e.writeBytes(n),r}decode(e){return e.readBytes(e.readIndex(),!0)}}class Xc extends ba{constructor(e){super("bytes",e)}decode(e){return K(super.decode(e))}}class Kc extends Xe{constructor(n,r){let s="bytes"+String(n);super(s,s,r,!1);g(this,"size");D(this,{size:n},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(n,r){let s=Ce(re.dereference(r,this.type));return s.length!==this.size&&this._throwError("incorrect data length",r),n.writeBytes(s)}decode(n){return K(n.readBytes(this.size))}}const Zc=new Uint8Array([]);class Qc extends Xe{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,n){return n!=null&&this._throwError("not null",n),e.writeBytes(Zc)}decode(e){return e.readBytes(0),null}}const el=BigInt(0),tl=BigInt(1),nl=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class rl extends Xe{constructor(n,r,s){const i=(r?"int":"uint")+n*8;super(i,i,s,!1);g(this,"size");g(this,"signed");D(this,{size:n,signed:r},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(n,r){let s=ot(re.dereference(r,this.type)),i=Wn(nl,ie*8);if(this.signed){let a=Wn(i,this.size*8-1);(s>a||s<-(a+tl))&&this._throwError("value out-of-bounds",r),s=ac(s,8*ie)}else(s<el||s>Wn(i,this.size*8))&&this._throwError("value out-of-bounds",r);return n.writeValue(s)}decode(n){let r=Wn(n.readValue(),this.size*8);return this.signed&&(r=ic(r,this.size*8)),r}}class sl extends ba{constructor(e){super("string",e)}defaultValue(){return""}encode(e,n){return super.encode(e,na(re.dereference(n,"string")))}decode(e){return mc(super.decode(e))}}class Jn extends Xe{constructor(n,r){let s=!1;const i=[];n.forEach(o=>{o.dynamic&&(s=!0),i.push(o.type)});const a="tuple("+i.join(",")+")";super("tuple",a,r,s);g(this,"coders");D(this,{coders:Object.freeze(n.slice())})}defaultValue(){const n=[];this.coders.forEach(s=>{n.push(s.defaultValue())});const r=this.coders.reduce((s,i)=>{const a=i.localName;return a&&(s[a]||(s[a]=0),s[a]++),s},{});return this.coders.forEach((s,i)=>{let a=s.localName;!a||r[a]!==1||(a==="length"&&(a="_length"),n[a]==null&&(n[a]=n[i]))}),Object.freeze(n)}encode(n,r){const s=re.dereference(r,"tuple");return ma(n,this.coders,s)}decode(n){return ga(n,this.coders)}}function Mr(t,e){return{address:yt(t),storageKeys:e.map((n,r)=>(T(Ge(n,32),"invalid slot",`storageKeys[${r}]`,n),n.toLowerCase()))}}function il(t){if(Array.isArray(t))return t.map((n,r)=>Array.isArray(n)?(T(n.length===2,"invalid slot set",`value[${r}]`,n),Mr(n[0],n[1])):(T(n!=null&&typeof n=="object","invalid address-slot set","value",t),Mr(n.address,n.storageKeys)));T(t!=null&&typeof t=="object","invalid access list","value",t);const e=Object.keys(t).map(n=>{const r=t[n].reduce((s,i)=>(s[i]=!0,s),{});return Mr(n,Object.keys(r).sort())});return e.sort((n,r)=>n.address.localeCompare(r.address)),e}function ln(t){return nt(na(t))}function ae(t){const e=new Set;return t.forEach(n=>e.add(n)),Object.freeze(e)}const al="external public payable override",ol=ae(al.split(" ")),ya="constant external internal payable private public pure view override",cl=ae(ya.split(" ")),wa="constructor error event fallback function receive struct",xa=ae(wa.split(" ")),va="calldata memory storage payable indexed",ll=ae(va.split(" ")),ul="tuple returns",dl=[wa,va,ul,ya].join(" "),fl=ae(dl.split(" ")),hl={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},pl=new RegExp("^(\\s*)"),ml=new RegExp("^([0-9]+)"),gl=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),Ea=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),Na=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var ee,xe,On,Kr;const dr=class dr{constructor(e){W(this,On);W(this,ee);W(this,xe);_(this,ee,0),_(this,xe,e.slice())}get offset(){return v(this,ee)}get length(){return v(this,xe).length-v(this,ee)}clone(){return new dr(v(this,xe))}reset(){_(this,ee,0)}popKeyword(e){const n=this.peek();if(n.type!=="KEYWORD"||!e.has(n.text))throw new Error(`expected keyword ${n.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const n=this.peek();throw new Error(`expected ${e}; got ${n.type} ${JSON.stringify(n.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=q(this,On,Kr).call(this,v(this,ee)+1,e.match+1);return _(this,ee,e.match+1),n}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=[];for(;v(this,ee)<e.match-1;){const r=this.peek().linkNext;n.push(q(this,On,Kr).call(this,v(this,ee)+1,r)),_(this,ee,r)}return _(this,ee,e.match+1),n}peek(){if(v(this,ee)>=v(this,xe).length)throw new Error("out-of-bounds");return v(this,xe)[v(this,ee)]}peekKeyword(e){const n=this.peekType("KEYWORD");return n!=null&&e.has(n)?n:null}peekType(e){if(this.length===0)return null;const n=this.peek();return n.type===e?n.text:null}pop(){const e=this.peek();return ri(this,ee)._++,e}toString(){const e=[];for(let n=v(this,ee);n<v(this,xe).length;n++){const r=v(this,xe)[n];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}};ee=new WeakMap,xe=new WeakMap,On=new WeakSet,Kr=function(e=0,n=0){return new dr(v(this,xe).slice(e,n).map(r=>Object.freeze(Object.assign({},r,{match:r.match-e,linkBack:r.linkBack-e,linkNext:r.linkNext-e}))))};let Ee=dr;function ct(t){const e=[],n=a=>{const o=i<t.length?JSON.stringify(t[i]):"$EOI";throw new Error(`invalid token ${o} at ${i}: ${a}`)};let r=[],s=[],i=0;for(;i<t.length;){let a=t.substring(i),o=a.match(pl);o&&(i+=o[1].length,a=t.substring(i));const c={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:i,value:-1};e.push(c);let l=hl[a[0]]||"";if(l){if(c.type=l,c.text=a[0],i++,l==="OPEN_PAREN")r.push(e.length-1),s.push(e.length-1);else if(l=="CLOSE_PAREN")r.length===0&&n("no matching open bracket"),c.match=r.pop(),e[c.match].match=e.length-1,c.depth--,c.linkBack=s.pop(),e[c.linkBack].linkNext=e.length-1;else if(l==="COMMA")c.linkBack=s.pop(),e[c.linkBack].linkNext=e.length-1,s.push(e.length-1);else if(l==="OPEN_BRACKET")c.type="BRACKET";else if(l==="CLOSE_BRACKET"){let d=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const f=e.pop().text;d=f+d,e[e.length-1].value=Ye(f)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=d}continue}if(o=a.match(gl),o){if(c.text=o[1],i+=c.text.length,fl.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(Na)){c.type="TYPE";continue}c.type="ID";continue}if(o=a.match(ml),o){c.text=o[1],c.type="NUMBER",i+=c.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(a[0])} at position ${i}`)}return new Ee(e.map(a=>Object.freeze(a)))}function bi(t,e){let n=[];for(const r in e.keys())t.has(r)&&n.push(r);if(n.length>1)throw new Error(`conflicting types: ${n.join(", ")}`)}function mr(t,e){if(e.peekKeyword(xa)){const n=e.pop().text;if(n!==t)throw new Error(`expected ${t}, got ${n}`)}return e.popType("ID")}function Ve(t,e){const n=new Set;for(;;){const r=t.peekType("KEYWORD");if(r==null||e&&!e.has(r))break;if(t.pop(),n.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);n.add(r)}return Object.freeze(n)}function Ta(t){let e=Ve(t,cl);return bi(e,ae("constant payable nonpayable".split(" "))),bi(e,ae("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function ze(t,e){return t.popParams().map(n=>te.from(n,e))}function Pa(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return ot(t.pop().text);throw new Error("invalid gas")}return null}function wt(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}const bl=new RegExp(/^(.*)\[([0-9]*)\]$/);function yi(t){const e=t.match(Na);if(T(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){const n=parseInt(e[2]);T(n!==0&&n<=32,"invalid bytes length","type",t)}else if(e[3]){const n=parseInt(e[3]);T(n!==0&&n<=256&&n%8===0,"invalid numeric width","type",t)}return t}const J={},de=Symbol.for("_ethers_internal"),wi="_ParamTypeInternal",xi="_ErrorInternal",vi="_EventInternal",Ei="_ConstructorInternal",Ni="_FallbackInternal",Ti="_FunctionInternal",Pi="_StructInternal";var Dt,tr;const ge=class ge{constructor(e,n,r,s,i,a,o,c){W(this,Dt);g(this,"name");g(this,"type");g(this,"baseType");g(this,"indexed");g(this,"components");g(this,"arrayLength");g(this,"arrayChildren");if(Es(e,J,"ParamType"),Object.defineProperty(this,de,{value:wi}),a&&(a=Object.freeze(a.slice())),s==="array"){if(o==null||c==null)throw new Error("")}else if(o!=null||c!=null)throw new Error("");if(s==="tuple"){if(a==null)throw new Error("")}else if(a!=null)throw new Error("");D(this,{name:n,type:r,baseType:s,indexed:i,components:a,arrayLength:o,arrayChildren:c})}format(e){if(e==null&&(e="sighash"),e==="json"){const r=this.name||"";if(this.isArray()){const i=JSON.parse(this.arrayChildren.format("json"));return i.name=r,i.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(i)}const s={type:this.baseType==="tuple"?"tuple":this.type,name:r};return typeof this.indexed=="boolean"&&(s.indexed=this.indexed),this.isTuple()&&(s.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(s)}let n="";return this.isArray()?(n+=this.arrayChildren.format(e),n+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?n+="("+this.components.map(r=>r.format(e)).join(e==="full"?", ":",")+")":n+=this.type,e!=="sighash"&&(this.indexed===!0&&(n+=" indexed"),e==="full"&&this.name&&(n+=" "+this.name)),n}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,n){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const r=this;return e.map(s=>r.arrayChildren.walk(s,n))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const r=this;return e.map((s,i)=>r.components[i].walk(s,n))}return n(this.type,e)}async walkAsync(e,n){const r=[],s=[e];return q(this,Dt,tr).call(this,r,e,n,i=>{s[0]=i}),r.length&&await Promise.all(r),s[0]}static from(e,n){if(ge.isParamType(e))return e;if(typeof e=="string")try{return ge.from(ct(e),n)}catch{T(!1,"invalid param type","obj",e)}else if(e instanceof Ee){let o="",c="",l=null;Ve(e,ae(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(c="tuple",l=e.popParams().map(b=>ge.from(b)),o=`tuple(${l.map(b=>b.format()).join(",")})`):(o=yi(e.popType("TYPE")),c=o);let d=null,f=null;for(;e.length&&e.peekType("BRACKET");){const b=e.pop();d=new ge(J,"",o,c,null,l,f,d),f=b.value,o+=b.text,c="array",l=null}let h=null;if(Ve(e,ll).has("indexed")){if(!n)throw new Error("");h=!0}const p=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new ge(J,p,o,c,h,l,f,d)}const r=e.name;T(!r||typeof r=="string"&&r.match(Ea),"invalid name","obj.name",r);let s=e.indexed;s!=null&&(T(n,"parameter cannot be indexed","obj.indexed",e.indexed),s=!!s);let i=e.type,a=i.match(bl);if(a){const o=parseInt(a[2]||"-1"),c=ge.from({type:a[1],components:e.components});return new ge(J,r||"",i,"array",s,null,o,c)}if(i==="tuple"||i.startsWith("tuple(")||i.startsWith("(")){const o=e.components!=null?e.components.map(l=>ge.from(l)):null;return new ge(J,r||"",i,"tuple",s,o,null,null)}return i=yi(e.type),new ge(J,r||"",i,i,s,null,null,null)}static isParamType(e){return e&&e[de]===wi}};Dt=new WeakSet,tr=function(e,n,r,s){if(this.isArray()){if(!Array.isArray(n))throw new Error("invalid array value");if(this.arrayLength!==-1&&n.length!==this.arrayLength)throw new Error("array is wrong length");const a=this.arrayChildren,o=n.slice();o.forEach((c,l)=>{var d;q(d=a,Dt,tr).call(d,e,c,r,f=>{o[l]=f})}),s(o);return}if(this.isTuple()){const a=this.components;let o;if(Array.isArray(n))o=n.slice();else{if(n==null||typeof n!="object")throw new Error("invalid tuple value");o=a.map(c=>{if(!c.name)throw new Error("cannot use object value with unnamed components");if(!(c.name in n))throw new Error(`missing value for component ${c.name}`);return n[c.name]})}if(o.length!==this.components.length)throw new Error("array is wrong length");o.forEach((c,l)=>{var d;q(d=a[l],Dt,tr).call(d,e,c,r,f=>{o[l]=f})}),s(o);return}const i=r(this.type,n);i.then?e.push(async function(){s(await i)}()):s(i)};let te=ge;class xt{constructor(e,n,r){g(this,"type");g(this,"inputs");Es(e,J,"Fragment"),r=Object.freeze(r.slice()),D(this,{type:n,inputs:r})}static from(e){if(typeof e=="string"){try{xt.from(JSON.parse(e))}catch{}return xt.from(ct(e))}if(e instanceof Ee)switch(e.peekKeyword(xa)){case"constructor":return _e.from(e);case"error":return le.from(e);case"event":return Se.from(e);case"fallback":case"receive":return Ue.from(e);case"function":return Oe.from(e);case"struct":return bt.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return _e.from(e);case"error":return le.from(e);case"event":return Se.from(e);case"fallback":case"receive":return Ue.from(e);case"function":return Oe.from(e);case"struct":return bt.from(e)}M(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}T(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return _e.isFragment(e)}static isError(e){return le.isFragment(e)}static isEvent(e){return Se.isFragment(e)}static isFunction(e){return Oe.isFragment(e)}static isStruct(e){return bt.isFragment(e)}}class gr extends xt{constructor(n,r,s,i){super(n,r,i);g(this,"name");T(typeof s=="string"&&s.match(Ea),"invalid identifier","name",s),i=Object.freeze(i.slice()),D(this,{name:s})}}function un(t,e){return"("+e.map(n=>n.format(t)).join(t==="full"?", ":",")+")"}class le extends gr{constructor(e,n,r){super(e,"error",n,r),Object.defineProperty(this,de,{value:xi})}get selector(){return ln(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const n=[];return e!=="sighash"&&n.push("error"),n.push(this.name+un(e,this.inputs)),n.join(" ")}static from(e){if(le.isFragment(e))return e;if(typeof e=="string")return le.from(ct(e));if(e instanceof Ee){const n=mr("error",e),r=ze(e);return wt(e),new le(J,n,r)}return new le(J,e.name,e.inputs?e.inputs.map(te.from):[])}static isFragment(e){return e&&e[de]===xi}}class Se extends gr{constructor(n,r,s,i){super(n,"event",r,s);g(this,"anonymous");Object.defineProperty(this,de,{value:vi}),D(this,{anonymous:i})}get topicHash(){return ln(this.format("sighash"))}format(n){if(n==null&&(n="sighash"),n==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(s=>JSON.parse(s.format(n)))});const r=[];return n!=="sighash"&&r.push("event"),r.push(this.name+un(n,this.inputs)),n!=="sighash"&&this.anonymous&&r.push("anonymous"),r.join(" ")}static getTopicHash(n,r){return r=(r||[]).map(i=>te.from(i)),new Se(J,n,r,!1).topicHash}static from(n){if(Se.isFragment(n))return n;if(typeof n=="string")try{return Se.from(ct(n))}catch{T(!1,"invalid event fragment","obj",n)}else if(n instanceof Ee){const r=mr("event",n),s=ze(n,!0),i=!!Ve(n,ae(["anonymous"])).has("anonymous");return wt(n),new Se(J,r,s,i)}return new Se(J,n.name,n.inputs?n.inputs.map(r=>te.from(r,!0)):[],!!n.anonymous)}static isFragment(n){return n&&n[de]===vi}}class _e extends xt{constructor(n,r,s,i,a){super(n,r,s);g(this,"payable");g(this,"gas");Object.defineProperty(this,de,{value:Ei}),D(this,{payable:i,gas:a})}format(n){if(M(n!=null&&n!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),n==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(n)))});const r=[`constructor${un(n,this.inputs)}`];return this.payable&&r.push("payable"),this.gas!=null&&r.push(`@${this.gas.toString()}`),r.join(" ")}static from(n){if(_e.isFragment(n))return n;if(typeof n=="string")try{return _e.from(ct(n))}catch{T(!1,"invalid constuctor fragment","obj",n)}else if(n instanceof Ee){Ve(n,ae(["constructor"]));const r=ze(n),s=!!Ve(n,ol).has("payable"),i=Pa(n);return wt(n),new _e(J,"constructor",r,s,i)}return new _e(J,"constructor",n.inputs?n.inputs.map(te.from):[],!!n.payable,n.gas!=null?n.gas:null)}static isFragment(n){return n&&n[de]===Ei}}class Ue extends xt{constructor(n,r,s){super(n,"fallback",r);g(this,"payable");Object.defineProperty(this,de,{value:Ni}),D(this,{payable:s})}format(n){const r=this.inputs.length===0?"receive":"fallback";if(n==="json"){const s=this.payable?"payable":"nonpayable";return JSON.stringify({type:r,stateMutability:s})}return`${r}()${this.payable?" payable":""}`}static from(n){if(Ue.isFragment(n))return n;if(typeof n=="string")try{return Ue.from(ct(n))}catch{T(!1,"invalid fallback fragment","obj",n)}else if(n instanceof Ee){const r=n.toString(),s=n.peekKeyword(ae(["fallback","receive"]));if(T(s,"type must be fallback or receive","obj",r),n.popKeyword(ae(["fallback","receive"]))==="receive"){const c=ze(n);return T(c.length===0,"receive cannot have arguments","obj.inputs",c),Ve(n,ae(["payable"])),wt(n),new Ue(J,[],!0)}let a=ze(n);a.length?T(a.length===1&&a[0].type==="bytes","invalid fallback inputs","obj.inputs",a.map(c=>c.format("minimal")).join(", ")):a=[te.from("bytes")];const o=Ta(n);if(T(o==="nonpayable"||o==="payable","fallback cannot be constants","obj.stateMutability",o),Ve(n,ae(["returns"])).has("returns")){const c=ze(n);T(c.length===1&&c[0].type==="bytes","invalid fallback outputs","obj.outputs",c.map(l=>l.format("minimal")).join(", "))}return wt(n),new Ue(J,a,o==="payable")}if(n.type==="receive")return new Ue(J,[],!0);if(n.type==="fallback"){const r=[te.from("bytes")],s=n.stateMutability==="payable";return new Ue(J,r,s)}T(!1,"invalid fallback description","obj",n)}static isFragment(n){return n&&n[de]===Ni}}class Oe extends gr{constructor(n,r,s,i,a,o){super(n,"function",r,i);g(this,"constant");g(this,"outputs");g(this,"stateMutability");g(this,"payable");g(this,"gas");Object.defineProperty(this,de,{value:Ti}),a=Object.freeze(a.slice()),D(this,{constant:s==="view"||s==="pure",gas:o,outputs:a,payable:s==="payable",stateMutability:s})}get selector(){return ln(this.format("sighash")).substring(0,10)}format(n){if(n==null&&(n="sighash"),n==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(n))),outputs:this.outputs.map(s=>JSON.parse(s.format(n)))});const r=[];return n!=="sighash"&&r.push("function"),r.push(this.name+un(n,this.inputs)),n!=="sighash"&&(this.stateMutability!=="nonpayable"&&r.push(this.stateMutability),this.outputs&&this.outputs.length&&(r.push("returns"),r.push(un(n,this.outputs))),this.gas!=null&&r.push(`@${this.gas.toString()}`)),r.join(" ")}static getSelector(n,r){return r=(r||[]).map(i=>te.from(i)),new Oe(J,n,"view",r,[],null).selector}static from(n){if(Oe.isFragment(n))return n;if(typeof n=="string")try{return Oe.from(ct(n))}catch{T(!1,"invalid function fragment","obj",n)}else if(n instanceof Ee){const s=mr("function",n),i=ze(n),a=Ta(n);let o=[];Ve(n,ae(["returns"])).has("returns")&&(o=ze(n));const c=Pa(n);return wt(n),new Oe(J,s,a,i,o,c)}let r=n.stateMutability;return r==null&&(r="payable",typeof n.constant=="boolean"?(r="view",n.constant||(r="payable",typeof n.payable=="boolean"&&!n.payable&&(r="nonpayable"))):typeof n.payable=="boolean"&&!n.payable&&(r="nonpayable")),new Oe(J,n.name,r,n.inputs?n.inputs.map(te.from):[],n.outputs?n.outputs.map(te.from):[],n.gas!=null?n.gas:null)}static isFragment(n){return n&&n[de]===Ti}}class bt extends gr{constructor(e,n,r){super(e,"struct",n,r),Object.defineProperty(this,de,{value:Pi})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return bt.from(ct(e))}catch{T(!1,"invalid struct fragment","obj",e)}else if(e instanceof Ee){const n=mr("struct",e),r=ze(e);return wt(e),new bt(J,n,r)}return new bt(J,e.name,e.inputs?e.inputs.map(te.from):[])}static isFragment(e){return e&&e[de]===Pi}}const Te=new Map;Te.set(0,"GENERIC_PANIC");Te.set(1,"ASSERT_FALSE");Te.set(17,"OVERFLOW");Te.set(18,"DIVIDE_BY_ZERO");Te.set(33,"ENUM_RANGE_ERROR");Te.set(34,"BAD_STORAGE_DATA");Te.set(49,"STACK_UNDERFLOW");Te.set(50,"ARRAY_RANGE_ERROR");Te.set(65,"OUT_OF_MEMORY");Te.set(81,"UNINITIALIZED_FUNCTION_CALL");const yl=new RegExp(/^bytes([0-9]*)$/),wl=new RegExp(/^(u?int)([0-9]*)$/);let Lr=null,ki=1024;function xl(t,e,n,r){let s="missing revert data",i=null;const a=null;let o=null;if(n){s="execution reverted";const l=We(n);if(n=K(n),l.length===0)s+=" (no data present; likely require(false) occurred",i="require(false)";else if(l.length%32!==4)s+=" (could not decode reason; invalid data length)";else if(K(l.slice(0,4))==="0x08c379a0")try{i=r.decode(["string"],l.slice(4))[0],o={signature:"Error(string)",name:"Error",args:[i]},s+=`: ${JSON.stringify(i)}`}catch{s+=" (could not decode reason; invalid string data)"}else if(K(l.slice(0,4))==="0x4e487b71")try{const d=Number(r.decode(["uint256"],l.slice(4))[0]);o={signature:"Panic(uint256)",name:"Panic",args:[d]},i=`Panic due to ${Te.get(d)||"UNKNOWN"}(${d})`,s+=`: ${i}`}catch{s+=" (could not decode panic code)"}else s+=" (unknown custom error)"}const c={to:e.to?yt(e.to):null,data:e.data||"0x"};return e.from&&(c.from=yt(e.from)),on(s,"CALL_EXCEPTION",{action:t,data:n,reason:i,transaction:c,invocation:a,revert:o})}var Qe,It;const fr=class fr{constructor(){W(this,Qe)}getDefaultValue(e){const n=e.map(s=>q(this,Qe,It).call(this,te.from(s)));return new Jn(n,"_").defaultValue()}encode(e,n){Xi(n.length,e.length,"types/values length mismatch");const r=e.map(a=>q(this,Qe,It).call(this,te.from(a))),s=new Jn(r,"_"),i=new Jr;return s.encode(i,n),i.data}decode(e,n,r){const s=e.map(a=>q(this,Qe,It).call(this,te.from(a)));return new Jn(s,"_").decode(new Yr(n,r,ki))}static _setDefaultMaxInflation(e){T(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),ki=e}static defaultAbiCoder(){return Lr==null&&(Lr=new fr),Lr}static getBuiltinCallException(e,n,r){return xl(e,n,r,fr.defaultAbiCoder())}};Qe=new WeakSet,It=function(e){if(e.isArray())return new Jc(q(this,Qe,It).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new Jn(e.components.map(r=>q(this,Qe,It).call(this,r)),e.name);switch(e.baseType){case"address":return new Vc(e.name);case"bool":return new Yc(e.name);case"string":return new sl(e.name);case"bytes":return new Xc(e.name);case"":return new Qc(e.name)}let n=e.type.match(wl);if(n){let r=parseInt(n[2]||"256");return T(r!==0&&r<=256&&r%8===0,"invalid "+n[1]+" bit length","param",e),new rl(r/8,n[1]==="int",e.name)}if(n=e.type.match(yl),n){let r=parseInt(n[1]);return T(r!==0&&r<=32,"invalid bytes length","param",e),new Kc(r,e.name)}T(!1,"invalid type","type",e.type)};let ir=fr;class vl{constructor(e,n,r){g(this,"fragment");g(this,"name");g(this,"signature");g(this,"topic");g(this,"args");const s=e.name,i=e.format();D(this,{fragment:e,name:s,signature:i,topic:n,args:r})}}class El{constructor(e,n,r,s){g(this,"fragment");g(this,"name");g(this,"args");g(this,"signature");g(this,"selector");g(this,"value");const i=e.name,a=e.format();D(this,{fragment:e,name:i,args:r,signature:a,selector:n,value:s})}}class Nl{constructor(e,n,r){g(this,"fragment");g(this,"name");g(this,"args");g(this,"signature");g(this,"selector");const s=e.name,i=e.format();D(this,{fragment:e,name:s,args:r,signature:i,selector:n})}}class Ai{constructor(e){g(this,"hash");g(this,"_isIndexed");D(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}}const Ii={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},Si={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&Ii[t.toString()]&&(e=Ii[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};var ke,Ae,Ie,ne,je,nr,rr;const dt=class dt{constructor(e){W(this,je);g(this,"fragments");g(this,"deploy");g(this,"fallback");g(this,"receive");W(this,ke);W(this,Ae);W(this,Ie);W(this,ne);let n=[];typeof e=="string"?n=JSON.parse(e):n=e,_(this,Ie,new Map),_(this,ke,new Map),_(this,Ae,new Map);const r=[];for(const a of n)try{r.push(xt.from(a))}catch(o){console.log(`[Warning] Invalid Fragment ${JSON.stringify(a)}:`,o.message)}D(this,{fragments:Object.freeze(r)});let s=null,i=!1;_(this,ne,this.getAbiCoder()),this.fragments.forEach((a,o)=>{let c;switch(a.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}D(this,{deploy:a});return;case"fallback":a.inputs.length===0?i=!0:(T(!s||a.payable!==s.payable,"conflicting fallback fragments",`fragments[${o}]`,a),s=a,i=s.payable);return;case"function":c=v(this,Ie);break;case"event":c=v(this,Ae);break;case"error":c=v(this,ke);break;default:return}const l=a.format();c.has(l)||c.set(l,a)}),this.deploy||D(this,{deploy:_e.from("constructor()")}),D(this,{fallback:s,receive:i})}format(e){const n=e?"minimal":"full";return this.fragments.map(s=>s.format(n))}formatJson(){const e=this.fragments.map(n=>n.format("json"));return JSON.stringify(e.map(n=>JSON.parse(n)))}getAbiCoder(){return ir.defaultAbiCoder()}getFunctionName(e){const n=q(this,je,nr).call(this,e,null,!1);return T(n,"no matching function","key",e),n.name}hasFunction(e){return!!q(this,je,nr).call(this,e,null,!1)}getFunction(e,n){return q(this,je,nr).call(this,e,n||null,!0)}forEachFunction(e){const n=Array.from(v(this,Ie).keys());n.sort((r,s)=>r.localeCompare(s));for(let r=0;r<n.length;r++){const s=n[r];e(v(this,Ie).get(s),r)}}getEventName(e){const n=q(this,je,rr).call(this,e,null,!1);return T(n,"no matching event","key",e),n.name}hasEvent(e){return!!q(this,je,rr).call(this,e,null,!1)}getEvent(e,n){return q(this,je,rr).call(this,e,n||null,!0)}forEachEvent(e){const n=Array.from(v(this,Ae).keys());n.sort((r,s)=>r.localeCompare(s));for(let r=0;r<n.length;r++){const s=n[r];e(v(this,Ae).get(s),r)}}getError(e,n){if(Ge(e)){const s=e.toLowerCase();if(Si[s])return le.from(Si[s].signature);for(const i of v(this,ke).values())if(s===i.selector)return i;return null}if(e.indexOf("(")===-1){const s=[];for(const[i,a]of v(this,ke))i.split("(")[0]===e&&s.push(a);if(s.length===0)return e==="Error"?le.from("error Error(string)"):e==="Panic"?le.from("error Panic(uint256)"):null;if(s.length>1){const i=s.map(a=>JSON.stringify(a.format())).join(", ");T(!1,`ambiguous error description (i.e. ${i})`,"name",e)}return s[0]}if(e=le.from(e).format(),e==="Error(string)")return le.from("error Error(string)");if(e==="Panic(uint256)")return le.from("error Panic(uint256)");const r=v(this,ke).get(e);return r||null}forEachError(e){const n=Array.from(v(this,ke).keys());n.sort((r,s)=>r.localeCompare(s));for(let r=0;r<n.length;r++){const s=n[r];e(v(this,ke).get(s),r)}}_decodeParams(e,n){return v(this,ne).decode(e,n)}_encodeParams(e,n){return v(this,ne).encode(e,n)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);T(r,"unknown error","fragment",e),e=r}return T(kt(n,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",n),this._decodeParams(e.inputs,kt(n,4))}encodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);T(r,"unknown error","fragment",e),e=r}return Rt([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);T(r,"unknown function","fragment",e),e=r}return T(kt(n,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",n),this._decodeParams(e.inputs,kt(n,4))}encodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);T(r,"unknown function","fragment",e),e=r}return Rt([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionResult(e,n){if(typeof e=="string"){const i=this.getFunction(e);T(i,"unknown function","fragment",e),e=i}let r="invalid length for result data";const s=Ce(n);if(s.length%32===0)try{return v(this,ne).decode(e.outputs,s)}catch{r="could not decode result data"}M(!1,r,"BAD_DATA",{value:K(s),info:{method:e.name,signature:e.format()}})}makeError(e,n){const r=We(e,"data"),s=ir.getBuiltinCallException("call",n,r);if(s.message.startsWith("execution reverted (unknown custom error)")){const o=K(r.slice(0,4)),c=this.getError(o);if(c)try{const l=v(this,ne).decode(c.inputs,r.slice(4));s.revert={name:c.name,signature:c.format(),args:l},s.reason=s.revert.signature,s.message=`execution reverted: ${s.reason}`}catch{s.message="execution reverted (coult not decode custom error)"}}const a=this.parseTransaction(n);return a&&(s.invocation={method:a.name,signature:a.signature,args:a.args}),s}encodeFunctionResult(e,n){if(typeof e=="string"){const r=this.getFunction(e);T(r,"unknown function","fragment",e),e=r}return K(v(this,ne).encode(e.outputs,n||[]))}encodeFilterTopics(e,n){if(typeof e=="string"){const i=this.getEvent(e);T(i,"unknown event","eventFragment",e),e=i}M(n.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:n.length,expectedCount:e.inputs.length});const r=[];e.anonymous||r.push(e.topicHash);const s=(i,a)=>i.type==="string"?ln(a):i.type==="bytes"?nt(K(a)):(i.type==="bool"&&typeof a=="boolean"?a=a?"0x01":"0x00":i.type.match(/^u?int/)?a=ea(a):i.type.match(/^bytes/)?a=sc(a,32):i.type==="address"&&v(this,ne).encode(["address"],[a]),rc(K(a),32));for(n.forEach((i,a)=>{const o=e.inputs[a];if(!o.indexed){T(i==null,"cannot filter non-indexed parameters; must be null","contract."+o.name,i);return}i==null?r.push(null):o.baseType==="array"||o.baseType==="tuple"?T(!1,"filtering with tuples or arrays not supported","contract."+o.name,i):Array.isArray(i)?r.push(i.map(c=>s(o,c))):r.push(s(o,i))});r.length&&r[r.length-1]===null;)r.pop();return r}encodeEventLog(e,n){if(typeof e=="string"){const a=this.getEvent(e);T(a,"unknown event","eventFragment",e),e=a}const r=[],s=[],i=[];return e.anonymous||r.push(e.topicHash),T(n.length===e.inputs.length,"event arguments/values mismatch","values",n),e.inputs.forEach((a,o)=>{const c=n[o];if(a.indexed)if(a.type==="string")r.push(ln(c));else if(a.type==="bytes")r.push(nt(c));else{if(a.baseType==="tuple"||a.baseType==="array")throw new Error("not implemented");r.push(v(this,ne).encode([a.type],[c]))}else s.push(a),i.push(c)}),{data:v(this,ne).encode(s,i),topics:r}}decodeEventLog(e,n,r){if(typeof e=="string"){const m=this.getEvent(e);T(m,"unknown event","eventFragment",e),e=m}if(r!=null&&!e.anonymous){const m=e.topicHash;T(Ge(r[0],32)&&r[0].toLowerCase()===m,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}const s=[],i=[],a=[];e.inputs.forEach((m,p)=>{m.indexed?m.type==="string"||m.type==="bytes"||m.baseType==="tuple"||m.baseType==="array"?(s.push(te.from({type:"bytes32",name:m.name})),a.push(!0)):(s.push(m),a.push(!1)):(i.push(m),a.push(!1))});const o=r!=null?v(this,ne).decode(s,Rt(r)):null,c=v(this,ne).decode(i,n,!0),l=[],d=[];let f=0,h=0;return e.inputs.forEach((m,p)=>{let b=null;if(m.indexed)if(o==null)b=new Ai(null);else if(a[p])b=new Ai(o[h++]);else try{b=o[h++]}catch(w){b=w}else try{b=c[f++]}catch(w){b=w}l.push(b),d.push(m.name||null)}),zt.fromItems(l,d)}parseTransaction(e){const n=We(e.data,"tx.data"),r=ot(e.value!=null?e.value:0,"tx.value"),s=this.getFunction(K(n.slice(0,4)));if(!s)return null;const i=v(this,ne).decode(s.inputs,n.slice(4));return new El(s,s.selector,i,r)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const n=this.getEvent(e.topics[0]);return!n||n.anonymous?null:new vl(n,n.topicHash,this.decodeEventLog(n,e.data,e.topics))}parseError(e){const n=K(e),r=this.getError(kt(n,0,4));if(!r)return null;const s=v(this,ne).decode(r.inputs,kt(n,4));return new Nl(r,r.selector,s)}static from(e){return e instanceof dt?e:typeof e=="string"?new dt(JSON.parse(e)):typeof e.formatJson=="function"?new dt(e.formatJson()):typeof e.format=="function"?new dt(e.format("json")):new dt(e)}};ke=new WeakMap,Ae=new WeakMap,Ie=new WeakMap,ne=new WeakMap,je=new WeakSet,nr=function(e,n,r){if(Ge(e)){const i=e.toLowerCase();for(const a of v(this,Ie).values())if(i===a.selector)return a;return null}if(e.indexOf("(")===-1){const i=[];for(const[a,o]of v(this,Ie))a.split("(")[0]===e&&i.push(o);if(n){const a=n.length>0?n[n.length-1]:null;let o=n.length,c=!0;re.isTyped(a)&&a.type==="overrides"&&(c=!1,o--);for(let l=i.length-1;l>=0;l--){const d=i[l].inputs.length;d!==o&&(!c||d!==o-1)&&i.splice(l,1)}for(let l=i.length-1;l>=0;l--){const d=i[l].inputs;for(let f=0;f<n.length;f++)if(re.isTyped(n[f])){if(f>=d.length){if(n[f].type==="overrides")continue;i.splice(l,1);break}if(n[f].type!==d[f].baseType){i.splice(l,1);break}}}}if(i.length===1&&n&&n.length!==i[0].inputs.length){const a=n[n.length-1];(a==null||Array.isArray(a)||typeof a!="object")&&i.splice(0,1)}if(i.length===0)return null;if(i.length>1&&r){const a=i.map(o=>JSON.stringify(o.format())).join(", ");T(!1,`ambiguous function description (i.e. matches ${a})`,"key",e)}return i[0]}const s=v(this,Ie).get(Oe.from(e).format());return s||null},rr=function(e,n,r){if(Ge(e)){const i=e.toLowerCase();for(const a of v(this,Ae).values())if(i===a.topicHash)return a;return null}if(e.indexOf("(")===-1){const i=[];for(const[a,o]of v(this,Ae))a.split("(")[0]===e&&i.push(o);if(n){for(let a=i.length-1;a>=0;a--)i[a].inputs.length<n.length&&i.splice(a,1);for(let a=i.length-1;a>=0;a--){const o=i[a].inputs;for(let c=0;c<n.length;c++)if(re.isTyped(n[c])&&n[c].type!==o[c].baseType){i.splice(a,1);break}}}if(i.length===0)return null;if(i.length>1&&r){const a=i.map(o=>JSON.stringify(o.format())).join(", ");T(!1,`ambiguous event description (i.e. matches ${a})`,"key",e)}return i[0]}const s=v(this,Ae).get(Se.from(e).format());return s||null};let Zr=dt;const ka=BigInt(0);function be(t){return t==null?null:t.toString()}function Tl(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=K(t.data));const n="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const s of n)!(s in t)||t[s]==null||(e[s]=ot(t[s],`request.${s}`));const r="type,nonce".split(/,/);for(const s of r)!(s in t)||t[s]==null||(e[s]=Ye(t[s],`request.${s}`));return t.accessList&&(e.accessList=il(t.accessList)),t.authorizationList&&(e.authorizationList=t.authorizationList.slice()),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),"blobVersionedHashes"in t&&t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.slice()),"kzg"in t&&(e.kzg=t.kzg),"blobs"in t&&t.blobs&&(e.blobs=t.blobs.map(s=>nc(s)?K(s):Object.assign({},s))),e}class br{constructor(e,n){g(this,"provider");g(this,"transactionHash");g(this,"blockHash");g(this,"blockNumber");g(this,"removed");g(this,"address");g(this,"data");g(this,"topics");g(this,"index");g(this,"transactionIndex");this.provider=n;const r=Object.freeze(e.topics.slice());D(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:r,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:n,blockNumber:r,data:s,index:i,removed:a,topics:o,transactionHash:c,transactionIndex:l}=this;return{_type:"log",address:e,blockHash:n,blockNumber:r,data:s,index:i,removed:a,topics:o,transactionHash:c,transactionIndex:l}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return M(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return M(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return M(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return kl(this)}}var Cn;class Pl{constructor(e,n){g(this,"provider");g(this,"to");g(this,"from");g(this,"contractAddress");g(this,"hash");g(this,"index");g(this,"blockHash");g(this,"blockNumber");g(this,"logsBloom");g(this,"gasUsed");g(this,"blobGasUsed");g(this,"cumulativeGasUsed");g(this,"gasPrice");g(this,"blobGasPrice");g(this,"type");g(this,"status");g(this,"root");W(this,Cn);_(this,Cn,Object.freeze(e.logs.map(s=>new br(s,n))));let r=ka;e.effectiveGasPrice!=null?r=e.effectiveGasPrice:e.gasPrice!=null&&(r=e.gasPrice),D(this,{provider:n,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:r,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return v(this,Cn)}toJSON(){const{to:e,from:n,contractAddress:r,hash:s,index:i,blockHash:a,blockNumber:o,logsBloom:c,logs:l,status:d,root:f}=this;return{_type:"TransactionReceipt",blockHash:a,blockNumber:o,contractAddress:r,cumulativeGasUsed:be(this.cumulativeGasUsed),from:n,gasPrice:be(this.gasPrice),blobGasUsed:be(this.blobGasUsed),blobGasPrice:be(this.blobGasPrice),gasUsed:be(this.gasUsed),hash:s,index:i,logs:l,logsBloom:c,root:f,status:d,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return Ia(this)}reorderedEvent(e){return M(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),Aa(this,e)}}Cn=new WeakMap;var et;const Qs=class Qs{constructor(e,n){g(this,"provider");g(this,"blockNumber");g(this,"blockHash");g(this,"index");g(this,"hash");g(this,"type");g(this,"to");g(this,"from");g(this,"nonce");g(this,"gasLimit");g(this,"gasPrice");g(this,"maxPriorityFeePerGas");g(this,"maxFeePerGas");g(this,"maxFeePerBlobGas");g(this,"data");g(this,"value");g(this,"chainId");g(this,"signature");g(this,"accessList");g(this,"blobVersionedHashes");g(this,"authorizationList");W(this,et);this.provider=n,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.authorizationList=e.authorizationList!=null?e.authorizationList:null,_(this,et,-1)}toJSON(){const{blockNumber:e,blockHash:n,index:r,hash:s,type:i,to:a,from:o,nonce:c,data:l,signature:d,accessList:f,blobVersionedHashes:h}=this;return{_type:"TransactionResponse",accessList:f,blockNumber:e,blockHash:n,blobVersionedHashes:h,chainId:be(this.chainId),data:l,from:o,gasLimit:be(this.gasLimit),gasPrice:be(this.gasPrice),hash:s,maxFeePerGas:be(this.maxFeePerGas),maxPriorityFeePerGas:be(this.maxPriorityFeePerGas),maxFeePerBlobGas:be(this.maxFeePerBlobGas),nonce:c,signature:d,to:a,index:r,type:i,value:be(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const r=await this.getTransaction();r&&(e=r.blockNumber)}if(e==null)return null;const n=this.provider.getBlock(e);if(n==null)throw new Error("TODO");return n}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:n,blockNumber:r}=await Wr({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return n==null||n.blockNumber==null?0:r-n.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,n){const r=e??1,s=n??0;let i=v(this,et),a=-1,o=i===-1;const c=async()=>{if(o)return null;const{blockNumber:h,nonce:m}=await Wr({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(m<this.nonce){i=h;return}if(o)return null;const p=await this.getTransaction();if(!(p&&p.blockNumber!=null))for(a===-1&&(a=i-3,a<v(this,et)&&(a=v(this,et)));a<=h;){if(o)return null;const b=await this.provider.getBlock(a,!0);if(b==null)return;for(const w of b)if(w===this.hash)return;for(let w=0;w<b.length;w++){const y=await b.getTransaction(w);if(y.from===this.from&&y.nonce===this.nonce){if(o)return null;const x=await this.provider.getTransactionReceipt(y.hash);if(x==null||h-x.blockNumber+1<r)return;let P="replaced";y.data===this.data&&y.to===this.to&&y.value===this.value?P="repriced":y.data==="0x"&&y.from===y.to&&y.value===ka&&(P="cancelled"),M(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:P==="replaced"||P==="cancelled",reason:P,replacement:y.replaceableTransaction(i),hash:y.hash,receipt:x})}}a++}},l=h=>{if(h==null||h.status!==0)return h;M(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:h.to,from:h.from,data:""},receipt:h})},d=await this.provider.getTransactionReceipt(this.hash);if(r===0)return l(d);if(d){if(r===1||await d.confirmations()>=r)return l(d)}else if(await c(),r===0)return null;return await new Promise((h,m)=>{const p=[],b=()=>{p.forEach(y=>y())};if(p.push(()=>{o=!0}),s>0){const y=setTimeout(()=>{b(),m(on("wait for transaction timeout","TIMEOUT"))},s);p.push(()=>{clearTimeout(y)})}const w=async y=>{if(await y.confirmations()>=r){b();try{h(l(y))}catch(x){m(x)}}};if(p.push(()=>{this.provider.off(this.hash,w)}),this.provider.on(this.hash,w),i>=0){const y=async()=>{try{await c()}catch(x){if(_t(x,"TRANSACTION_REPLACED")){b(),m(x);return}}o||this.provider.once("block",y)};p.push(()=>{this.provider.off("block",y)}),this.provider.once("block",y)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return M(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Ia(this)}reorderedEvent(e){return M(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),M(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Aa(this,e)}replaceableTransaction(e){T(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const n=new Qs(this,this.provider);return _(n,et,e),n}};et=new WeakMap;let Qr=Qs;function Aa(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function Ia(t){return{orphan:"drop-transaction",tx:t}}function kl(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}class Ts extends br{constructor(n,r,s){super(n,n.provider);g(this,"interface");g(this,"fragment");g(this,"args");const i=r.decodeEventLog(s,n.data,n.topics);D(this,{args:i,fragment:s,interface:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class Sa extends br{constructor(n,r){super(n,n.provider);g(this,"error");D(this,{error:r})}}var Gt;class Al extends Pl{constructor(n,r,s){super(s,r);W(this,Gt);_(this,Gt,n)}get logs(){return super.logs.map(n=>{const r=n.topics.length?v(this,Gt).getEvent(n.topics[0]):null;if(r)try{return new Ts(n,v(this,Gt),r)}catch(s){return new Sa(n,s)}return n})}}Gt=new WeakMap;var jn;class Ps extends Qr{constructor(n,r,s){super(s,r);W(this,jn);_(this,jn,n)}async wait(n,r){const s=await super.wait(n,r);return s==null?null:new Al(v(this,jn),this.provider,s)}}jn=new WeakMap;class Oa extends lc{constructor(n,r,s,i){super(n,r,s);g(this,"log");D(this,{log:i})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class Il extends Oa{constructor(e,n,r,s,i){super(e,n,r,new Ts(i,e.interface,s));const a=e.interface.decodeEventLog(s,this.log.data,this.log.topics);D(this,{args:a,fragment:s})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const Oi=BigInt(0);function Ca(t){return t&&typeof t.call=="function"}function ja(t){return t&&typeof t.estimateGas=="function"}function yr(t){return t&&typeof t.resolveName=="function"}function Ra(t){return t&&typeof t.sendTransaction=="function"}function $a(t){if(t!=null){if(yr(t))return t;if(t.provider)return t.provider}}var Rn;class Sl{constructor(e,n,r){W(this,Rn);g(this,"fragment");if(D(this,{fragment:n}),n.inputs.length<r.length)throw new Error("too many arguments");const s=vt(e.runner,"resolveName"),i=yr(s)?s:null;_(this,Rn,async function(){const a=await Promise.all(n.inputs.map((o,c)=>r[c]==null?null:o.walkAsync(r[c],(d,f)=>d==="address"?Array.isArray(f)?Promise.all(f.map(h=>cn(h,i))):cn(f,i):f)));return e.interface.encodeFilterTopics(n,a)}())}getTopicFilter(){return v(this,Rn)}}Rn=new WeakMap;function vt(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function ft(t){return t==null?null:t.provider||null}async function Fa(t,e){const n=re.dereference(t,"overrides");T(typeof n=="object","invalid overrides parameter","overrides",t);const r=Tl(n);return T(r.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),T(r.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=r.from),r}async function Ol(t,e,n){const r=vt(t,"resolveName"),s=yr(r)?r:null;return await Promise.all(e.map((i,a)=>i.walkAsync(n[a],(o,c)=>(c=re.dereference(c,o),o==="address"?cn(c,s):c))))}function Cl(t){const e=async function(a){const o=await Fa(a,["data"]);o.to=await t.getAddress(),o.from&&(o.from=await cn(o.from,$a(t.runner)));const c=t.interface,l=ot(o.value||Oi,"overrides.value")===Oi,d=(o.data||"0x")==="0x";c.fallback&&!c.fallback.payable&&c.receive&&!d&&!l&&T(!1,"cannot send data to receive or send value to non-payable fallback","overrides",a),T(c.fallback||d,"cannot send data to receive-only contract","overrides.data",o.data);const f=c.receive||c.fallback&&c.fallback.payable;return T(f||l,"cannot send value to non-payable fallback","overrides.value",o.value),T(c.fallback||d,"cannot send data to receive-only contract","overrides.data",o.data),o},n=async function(a){const o=vt(t.runner,"call");M(Ca(o),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const c=await e(a);try{return await o.call(c)}catch(l){throw Yi(l)&&l.data?t.interface.makeError(l.data,c):l}},r=async function(a){const o=t.runner;M(Ra(o),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const c=await o.sendTransaction(await e(a)),l=ft(t.runner);return new Ps(t.interface,l,c)},s=async function(a){const o=vt(t.runner,"estimateGas");return M(ja(o),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await o.estimateGas(await e(a))},i=async a=>await r(a);return D(i,{_contract:t,estimateGas:s,populateTransaction:e,send:r,staticCall:n}),i}function jl(t,e){const n=function(...l){const d=t.interface.getFunction(e,l);return M(d,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:l}}),d},r=async function(...l){const d=n(...l);let f={};if(d.inputs.length+1===l.length&&(f=await Fa(l.pop()),f.from&&(f.from=await cn(f.from,$a(t.runner)))),d.inputs.length!==l.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const h=await Ol(t.runner,d.inputs,l);return Object.assign({},f,await Wr({to:t.getAddress(),data:t.interface.encodeFunctionData(d,h)}))},s=async function(...l){const d=await o(...l);return d.length===1?d[0]:d},i=async function(...l){const d=t.runner;M(Ra(d),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const f=await d.sendTransaction(await r(...l)),h=ft(t.runner);return new Ps(t.interface,h,f)},a=async function(...l){const d=vt(t.runner,"estimateGas");return M(ja(d),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await d.estimateGas(await r(...l))},o=async function(...l){const d=vt(t.runner,"call");M(Ca(d),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const f=await r(...l);let h="0x";try{h=await d.call(f)}catch(p){throw Yi(p)&&p.data?t.interface.makeError(p.data,f):p}const m=n(...l);return t.interface.decodeFunctionResult(m,h)},c=async(...l)=>n(...l).constant?await s(...l):await i(...l);return D(c,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:n,estimateGas:a,populateTransaction:r,send:i,staticCall:s,staticCallResult:o}),Object.defineProperty(c,"fragment",{configurable:!1,enumerable:!0,get:()=>{const l=t.interface.getFunction(e);return M(l,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),l}}),c}function Rl(t,e){const n=function(...s){const i=t.interface.getEvent(e,s);return M(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:s}}),i},r=function(...s){return new Sl(t,n(...s),s)};return D(r,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:n}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{const s=t.interface.getEvent(e);return M(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),s}}),r}const ar=Symbol.for("_ethersInternal_contract"),Ba=new WeakMap;function $l(t,e){Ba.set(t[ar],e)}function he(t){return Ba.get(t[ar])}function Fl(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function ks(t,e){let n,r=null;if(Array.isArray(e)){const i=function(a){if(Ge(a,32))return a;const o=t.interface.getEvent(a);return T(o,"unknown fragment","name",a),o.topicHash};n=e.map(a=>a==null?null:Array.isArray(a)?a.map(i):i(a))}else e==="*"?n=[null]:typeof e=="string"?Ge(e,32)?n=[e]:(r=t.interface.getEvent(e),T(r,"unknown fragment","event",e),n=[r.topicHash]):Fl(e)?n=await e.getTopicFilter():"fragment"in e?(r=e.fragment,n=[r.topicHash]):T(!1,"unknown event name","event",e);n=n.map(i=>{if(i==null)return null;if(Array.isArray(i)){const a=Array.from(new Set(i.map(o=>o.toLowerCase())).values());return a.length===1?a[0]:(a.sort(),a)}return i.toLowerCase()});const s=n.map(i=>i==null?"null":Array.isArray(i)?i.join("|"):i).join("&");return{fragment:r,tag:s,topics:n}}async function sn(t,e){const{subs:n}=he(t);return n.get((await ks(t,e)).tag)||null}async function Ci(t,e,n){const r=ft(t.runner);M(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:s,tag:i,topics:a}=await ks(t,n),{addr:o,subs:c}=he(t);let l=c.get(i);if(!l){const f={address:o||t,topics:a},h=w=>{let y=s;if(y==null)try{y=t.interface.getEvent(w.topics[0])}catch{}if(y){const x=y,P=s?t.interface.decodeEventLog(s,w.data,w.topics):[];ts(t,n,P,N=>new Il(t,N,n,x,w))}else ts(t,n,[],x=>new Oa(t,x,n,w))};let m=[];l={tag:i,listeners:[],start:()=>{m.length||m.push(r.on(f,h))},stop:async()=>{if(m.length==0)return;let w=m;m=[],await Promise.all(w),r.off(f,h)}},c.set(i,l)}return l}let es=Promise.resolve();async function Bl(t,e,n,r){await es;const s=await sn(t,e);if(!s)return!1;const i=s.listeners.length;return s.listeners=s.listeners.filter(({listener:a,once:o})=>{const c=Array.from(n);r&&c.push(r(o?null:a));try{a.call(t,...c)}catch{}return!o}),s.listeners.length===0&&(s.stop(),he(t).subs.delete(s.tag)),i>0}async function ts(t,e,n,r){try{await es}catch{}const s=Bl(t,e,n,r);return es=s,await s}const Yn=["then"];var qi;qi=ar;const an=class an{constructor(e,n,r,s){g(this,"target");g(this,"interface");g(this,"runner");g(this,"filters");g(this,qi);g(this,"fallback");T(typeof e=="string"||pa(e),"invalid value for Contract target","target",e),r==null&&(r=null);const i=Zr.from(n);D(this,{target:e,runner:r,interface:i}),Object.defineProperty(this,ar,{value:{}});let a,o=null,c=null;if(s){const f=ft(r);c=new Ps(this.interface,f,s)}let l=new Map;if(typeof e=="string")if(Ge(e))o=e,a=Promise.resolve(e);else{const f=vt(r,"resolveName");if(!yr(f))throw on("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});a=f.resolveName(e).then(h=>{if(h==null)throw on("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return he(this).addr=h,h})}else a=e.getAddress().then(f=>{if(f==null)throw new Error("TODO");return he(this).addr=f,f});$l(this,{addrPromise:a,addr:o,deployTx:c,subs:l});const d=new Proxy({},{get:(f,h,m)=>{if(typeof h=="symbol"||Yn.indexOf(h)>=0)return Reflect.get(f,h,m);try{return this.getEvent(h)}catch(p){if(!_t(p,"INVALID_ARGUMENT")||p.argument!=="key")throw p}},has:(f,h)=>Yn.indexOf(h)>=0?Reflect.has(f,h):Reflect.has(f,h)||this.interface.hasEvent(String(h))});return D(this,{filters:d}),D(this,{fallback:i.receive||i.fallback?Cl(this):null}),new Proxy(this,{get:(f,h,m)=>{if(typeof h=="symbol"||h in f||Yn.indexOf(h)>=0)return Reflect.get(f,h,m);try{return f.getFunction(h)}catch(p){if(!_t(p,"INVALID_ARGUMENT")||p.argument!=="key")throw p}},has:(f,h)=>typeof h=="symbol"||h in f||Yn.indexOf(h)>=0?Reflect.has(f,h):f.interface.hasFunction(h)})}connect(e){return new an(this.target,this.interface,e)}attach(e){return new an(e,this.interface,this.runner)}async getAddress(){return await he(this).addrPromise}async getDeployedCode(){const e=ft(this.runner);M(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const n=await e.getCode(await this.getAddress());return n==="0x"?null:n}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const r=ft(this.runner);return M(r!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((s,i)=>{const a=async()=>{try{if(await this.getDeployedCode()!=null)return s(this);r.once("block",a)}catch(o){i(o)}};a()})}deploymentTransaction(){return he(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),jl(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),Rl(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,n,r){n==null&&(n=0),r==null&&(r="latest");const{addr:s,addrPromise:i}=he(this),a=s||await i,{fragment:o,topics:c}=await ks(this,e),l={address:a,topics:c,fromBlock:n,toBlock:r},d=ft(this.runner);return M(d,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await d.getLogs(l)).map(f=>{let h=o;if(h==null)try{h=this.interface.getEvent(f.topics[0])}catch{}if(h)try{return new Ts(f,this.interface,h)}catch(m){return new Sa(f,m)}return new br(f,d)})}async on(e,n){const r=await Ci(this,"on",e);return r.listeners.push({listener:n,once:!1}),r.start(),this}async once(e,n){const r=await Ci(this,"once",e);return r.listeners.push({listener:n,once:!0}),r.start(),this}async emit(e,...n){return await ts(this,e,n,null)}async listenerCount(e){if(e){const s=await sn(this,e);return s?s.listeners.length:0}const{subs:n}=he(this);let r=0;for(const{listeners:s}of n.values())r+=s.length;return r}async listeners(e){if(e){const s=await sn(this,e);return s?s.listeners.map(({listener:i})=>i):[]}const{subs:n}=he(this);let r=[];for(const{listeners:s}of n.values())r=r.concat(s.map(({listener:i})=>i));return r}async off(e,n){const r=await sn(this,e);if(!r)return this;if(n){const s=r.listeners.map(({listener:i})=>i).indexOf(n);s>=0&&r.listeners.splice(s,1)}return(n==null||r.listeners.length===0)&&(r.stop(),he(this).subs.delete(r.tag)),this}async removeAllListeners(e){if(e){const n=await sn(this,e);if(!n)return this;n.stop(),he(this).subs.delete(n.tag)}else{const{subs:n}=he(this);for(const{tag:r,stop:s}of n.values())s(),n.delete(r)}return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return await this.off(e,n)}static buildClass(e){class n extends an{constructor(s,i=null){super(s,e,i)}}return n}static from(e,n,r){return r==null&&(r=null),new this(e,n,r)}};let ns=an;function Ml(){return ns}class Ll extends Ml(){}const Ul=["function startGame()","function makeMovement()","function endGame()","function getPlayerSession(address player) view returns (tuple(address player, uint256 score, uint256 movements, uint256 startTime, bool isActive))","function getPlayerHighScore(address player) view returns (uint256)","event GameStarted(address indexed player, uint256 timestamp)","event MovementMade(address indexed player, uint256 movementCount, uint256 score)","event GameEnded(address indexed player, uint256 finalScore, uint256 totalMovements)"],Dl={6342:"0x0000000000000000000000000000000000000000",84532:"0x0000000000000000000000000000000000000000",10143:"0x0000000000000000000000000000000000000000"};class Gl{constructor(){this.provider=null,this.signer=null,this.contract=null,this.chainId=null,this.transactionQueue=[],this.isProcessingQueue=!1}async initialize(e){try{if(!e)throw new Error("No wallet provided");const n=await e.getEthersProvider();this.provider=n,this.signer=n.getSigner();const r=await n.getNetwork();this.chainId=r.chainId;const s=Dl[this.chainId];return s&&s!=="0x0000000000000000000000000000000000000000"&&(this.contract=new Ll(s,Ul,this.signer)),console.log(`Blockchain service initialized on chain ${this.chainId}`),!0}catch(n){return console.error("Failed to initialize blockchain service:",n),!1}}async startGame(){if(!this.contract)return console.warn("Contract not available on current network"),{success:!1,error:"Contract not deployed on current network"};try{const e=await this.contract.startGame();console.log("Game started, transaction:",e.hash);const n=await e.wait();return console.log("Game start confirmed:",n.transactionHash),{success:!0,txHash:n.transactionHash}}catch(e){return console.error("Failed to start game:",e),{success:!1,error:e.message}}}async makeMovement(){return this.contract?new Promise(e=>{this.transactionQueue.push({type:"movement",resolve:e,timestamp:Date.now()}),this.processQueue()}):(console.warn("Contract not available, simulating movement"),{success:!0,simulated:!0})}async processQueue(){if(!(this.isProcessingQueue||this.transactionQueue.length===0)){this.isProcessingQueue=!0;try{const n=this.transactionQueue.splice(0,2);for(const r of n)try{const s=await this.contract.makeMovement();console.log("Movement transaction sent:",s.hash),s.wait().then(i=>{console.log("Movement confirmed:",i.transactionHash)}),r.resolve({success:!0,txHash:s.hash,pending:!0})}catch(s){console.error("Movement transaction failed:",s),r.resolve({success:!1,error:s.message})}}catch(e){console.error("Error processing transaction queue:",e)}this.isProcessingQueue=!1,this.transactionQueue.length>0&&setTimeout(()=>this.processQueue(),100)}}async endGame(){if(!this.contract)return console.warn("Contract not available on current network"),{success:!1,error:"Contract not deployed on current network"};try{const e=await this.contract.endGame();console.log("Game ended, transaction:",e.hash);const n=await e.wait();return console.log("Game end confirmed:",n.transactionHash),{success:!0,txHash:n.transactionHash}}catch(e){return console.error("Failed to end game:",e),{success:!1,error:e.message}}}async getPlayerSession(e){if(!this.contract)return null;try{const n=await this.contract.getPlayerSession(e);return{player:n.player,score:n.score.toString(),movements:n.movements.toString(),startTime:n.startTime.toString(),isActive:n.isActive}}catch(n){return console.error("Failed to get player session:",n),null}}async getPlayerHighScore(e){if(!this.contract)return 0;try{return(await this.contract.getPlayerHighScore(e)).toString()}catch(n){return console.error("Failed to get high score:",n),0}}getNetworkName(){return{6342:"MegaETH Testnet",84532:"Base Sepolia",10143:"Monad Testnet",1:"Ethereum Mainnet",11155111:"Sepolia Testnet"}[this.chainId]||`Unknown Network (${this.chainId})`}isContractAvailable(){return this.contract!==null}getPendingTransactions(){return this.transactionQueue.length}}const Xn=new Gl;function _l(t,e){const n=t.exec(e);return n==null?void 0:n.groups}const ji=/^tuple(?<array>(\[(\d*)\])*)$/;function rs(t){let e=t.type;if(ji.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let s=0;s<n;s++){const i=t.components[s];e+=rs(i),s<n-1&&(e+=", ")}const r=_l(ji,t.type);return e+=`)${(r==null?void 0:r.array)??""}`,rs({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function en(t){let e="";const n=t.length;for(let r=0;r<n;r++){const s=t[r];e+=rs(s),r!==n-1&&(e+=", ")}return e}function zl(t){return t.type==="function"?`function ${t.name}(${en(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${t.outputs.length?` returns (${en(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${en(t.inputs)})`:t.type==="error"?`error ${t.name}(${en(t.inputs)})`:t.type==="constructor"?`constructor(${en(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?"fallback()":"receive() external payable"}function B(t,e,n){return r=>{var s;return((s=t[e.name||n])==null?void 0:s.call(t,r))??e(t,r)}}function qe(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new au(t.type);return`${t.name}(${wr(t.inputs,{includeName:e})})`}function wr(t,{includeName:e=!1}={}){return t?t.map(n=>Hl(n,{includeName:e})).join(e?", ":","):""}function Hl(t,{includeName:e}){return t.type.startsWith("tuple")?`(${wr(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}function Re(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function Z(t){return Re(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const Wl="1.21.3",Vl=t=>t,Ma=t=>t,ql=()=>`viem@${Wl}`;class A extends Error{constructor(e,n={}){var i;super(),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:ql()});const r=n.cause instanceof A?n.cause.details:(i=n.cause)!=null&&i.message?n.cause.message:n.details,s=n.cause instanceof A&&n.cause.docsPath||n.docsPath;this.message=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://viem.sh${s}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=e}walk(e){return La(this,e)}}function La(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t?La(t.cause,e):e?null:t}class Jl extends A{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorNotFoundError"})}}class Ri extends A{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorParamsNotFoundError"})}}class As extends A{constructor({data:e,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${wr(n,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=r}}class xr extends A{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingZeroDataError"})}}class Yl extends A{constructor({expectedLength:e,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingArrayLengthMismatchError"})}}class Xl extends A{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${Z(n)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingBytesSizeMismatchError"})}}class Kl extends A{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingLengthMismatchError"})}}class Ua extends A{constructor(e,{docsPath:n}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class Zl extends A{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureEmptyTopicsError"})}}class Ql extends A{constructor(e,{docsPath:n}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureNotFoundError"})}}class $i extends A{constructor(e,{docsPath:n}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventNotFoundError"})}}class or extends A{constructor(e,{docsPath:n}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionNotFoundError"})}}class eu extends A{constructor(e,{docsPath:n}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionOutputsNotFoundError"})}}class tu extends A{constructor(e,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${qe(e.abiItem)}\`, and`,`\`${n.type}\` in \`${qe(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItemAmbiguityError"})}}class nu extends A{constructor({expectedSize:e,givenSize:n}){super(`Expected bytes${e}, got bytes${n}.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytesSizeMismatchError"})}}class Et extends A{constructor({abiItem:e,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${wr(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=r,this.size=s}}class Wt extends A{constructor({abiItem:e,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${qe(e,{includeName:!0})}".`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class ru extends A{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiEncodingType"})}}class su extends A{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiDecodingType"})}}class iu extends A{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidArrayError"})}}class au extends A{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidDefinitionTypeError"})}}class ou extends A{constructor(e){super(`Filter type "${e}" is not supported.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FilterTypeNotSupportedError"})}}class Da extends A{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SliceOffsetOutOfBoundsError"})}}class Ga extends A{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeExceedsPaddingSizeError"})}}function Vt(t,{dir:e,size:n=32}={}){return typeof t=="string"?tt(t,{dir:e,size:n}):cu(t,{dir:e,size:n})}function tt(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new Ga({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function cu(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new Ga({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const i=e==="right";r[i?s:n-s-1]=t[i?s:t.length-s-1]}return r}class lu extends A{constructor({max:e,min:n,signed:r,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntegerOutOfRangeError"})}}class uu extends A{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidHexBooleanError"})}}class du extends A{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"})}}function $t(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,r=0;for(let s=0;s<n.length-1&&n[e==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=e==="left"?n.slice(r):n.slice(0,n.length-r),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function lt(t,{size:e}){if(Z(t)>e)throw new du({givenSize:Z(t),maxSize:e})}function vr(t,e={}){const{signed:n}=e;e.size&&lt(t,{size:e.size});const r=BigInt(t);if(!n)return r;const s=(t.length-2)/2,i=(1n<<BigInt(s)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function fu(t,e={}){let n=t;if(e.size&&(lt(n,{size:e.size}),n=$t(n)),$t(n)==="0x00")return!1;if($t(n)==="0x01")return!0;throw new uu(n)}function se(t,e={}){return Number(vr(t,e))}function hu(t,e={}){let n=Ss(t);return e.size&&(lt(n,{size:e.size}),n=$t(n,{dir:"right"})),new TextDecoder().decode(n)}const pu=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Ke(t,e={}){return typeof t=="number"||typeof t=="bigint"?U(t,e):typeof t=="string"?Is(t,e):typeof t=="boolean"?_a(t,e):dn(t,e)}function _a(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(lt(n,{size:e.size}),Vt(n,{size:e.size})):n}function dn(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=pu[t[s]];const r=`0x${n}`;return typeof e.size=="number"?(lt(r,{size:e.size}),Vt(r,{dir:"right",size:e.size})):r}function U(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const a=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<a){const c=typeof t=="bigint"?"n":"";throw new lu({max:i?`${i}${c}`:void 0,min:`${a}${c}`,signed:n,size:r,value:`${t}${c}`})}const o=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Vt(o,{size:r}):o}const mu=new TextEncoder;function Is(t,e={}){const n=mu.encode(t);return dn(n,e)}const gu=new TextEncoder;function rt(t,e={}){return typeof t=="number"||typeof t=="bigint"?yu(t,e):typeof t=="boolean"?bu(t,e):Re(t)?Ss(t,e):He(t,e)}function bu(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(lt(n,{size:e.size}),Vt(n,{size:e.size})):n}const Be={zero:48,nine:57,A:65,F:70,a:97,f:102};function Fi(t){if(t>=Be.zero&&t<=Be.nine)return t-Be.zero;if(t>=Be.A&&t<=Be.F)return t-(Be.A-10);if(t>=Be.a&&t<=Be.f)return t-(Be.a-10)}function Ss(t,e={}){let n=t;e.size&&(lt(n,{size:e.size}),n=Vt(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,i=new Uint8Array(s);for(let a=0,o=0;a<s;a++){const c=Fi(r.charCodeAt(o++)),l=Fi(r.charCodeAt(o++));if(c===void 0||l===void 0)throw new A(`Invalid byte sequence ("${r[o-2]}${r[o-1]}" in "${r}").`);i[a]=c*16+l}return i}function yu(t,e){const n=U(t,e);return Ss(n)}function He(t,e={}){const n=gu.encode(t);return typeof e.size=="number"?(lt(n,{size:e.size}),Vt(n,{dir:"right",size:e.size})):n}function wu(t){let e=!0,n="",r=0,s="",i=!1;for(let a=0;a<t.length;a++){const o=t[a];if(["(",")",","].includes(o)&&(e=!0),o==="("&&r++,o===")"&&r--,!!e){if(r===0){if(o===" "&&["event","function",""].includes(s))s="";else if(s+=o,o===")"){i=!0;break}continue}if(o===" "){t[a-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}s+=o,n+=o}}if(!i)throw new A("Unable to normalize signature.");return s}const za=t=>{const e=typeof t=="string"?t:zl(t);return wu(e)},xu=t=>za(t);function Bi(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function Ha(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function Mi(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function vu(t,e){Ha(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Kn=BigInt(2**32-1),Li=BigInt(32);function Eu(t,e=!1){return e?{h:Number(t&Kn),l:Number(t>>Li&Kn)}:{h:Number(t>>Li&Kn)|0,l:Number(t&Kn)|0}}function Nu(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:i,l:a}=Eu(t[s],e);[n[s],r[s]]=[i,a]}return[n,r]}const Tu=(t,e,n)=>t<<n|e>>>32-n,Pu=(t,e,n)=>e<<n|t>>>32-n,ku=(t,e,n)=>e<<n-32|t>>>64-n,Au=(t,e,n)=>t<<n-32|e>>>64-n;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Iu=t=>t instanceof Uint8Array,Su=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),Ou=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Ou)throw new Error("Non little-endian hardware is not supported");function Cu(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Wa(t){if(typeof t=="string"&&(t=Cu(t)),!Iu(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}class ju{clone(){return this._cloneInto()}}function Ru(t){const e=r=>t().update(Wa(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}const[Va,qa,Ja]=[[],[],[]],$u=BigInt(0),tn=BigInt(1),Fu=BigInt(2),Bu=BigInt(7),Mu=BigInt(256),Lu=BigInt(113);for(let t=0,e=tn,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],Va.push(2*(5*r+n)),qa.push((t+1)*(t+2)/2%64);let s=$u;for(let i=0;i<7;i++)e=(e<<tn^(e>>Bu)*Lu)%Mu,e&Fu&&(s^=tn<<(tn<<BigInt(i))-tn);Ja.push(s)}const[Uu,Du]=Nu(Ja,!0),Ui=(t,e,n)=>n>32?ku(t,e,n):Tu(t,e,n),Di=(t,e,n)=>n>32?Au(t,e,n):Pu(t,e,n);function Gu(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let a=0;a<10;a++)n[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){const o=(a+8)%10,c=(a+2)%10,l=n[c],d=n[c+1],f=Ui(l,d,1)^n[o],h=Di(l,d,1)^n[o+1];for(let m=0;m<50;m+=10)t[a+m]^=f,t[a+m+1]^=h}let s=t[2],i=t[3];for(let a=0;a<24;a++){const o=qa[a],c=Ui(s,i,o),l=Di(s,i,o),d=Va[a];s=t[d],i=t[d+1],t[d]=c,t[d+1]=l}for(let a=0;a<50;a+=10){for(let o=0;o<10;o++)n[o]=t[a+o];for(let o=0;o<10;o++)t[a+o]^=~n[(o+2)%10]&n[(o+4)%10]}t[0]^=Uu[r],t[1]^=Du[r]}n.fill(0)}class Os extends ju{constructor(e,n,r,s=!1,i=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Bi(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Su(this.state)}keccak(){Gu(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Mi(this);const{blockLen:n,state:r}=this;e=Wa(e);const s=e.length;for(let i=0;i<s;){const a=Math.min(n-this.pos,s-i);for(let o=0;o<a;o++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,n&128&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Mi(this,!1),Ha(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const a=Math.min(r-this.posOut,i-s);e.set(n.subarray(this.posOut,this.posOut+a),s),this.posOut+=a,s+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Bi(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(vu(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:a}=this;return e||(e=new Os(n,r,s,a,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=a,e.destroyed=this.destroyed,e}}const _u=(t,e,n)=>Ru(()=>new Os(e,t,n)),zu=_u(1,136,256/8);function oe(t,e){const n=e||"hex",r=zu(Re(t,{strict:!1})?rt(t):t);return n==="bytes"?r:Ke(r)}const Hu=t=>oe(rt(t)),Cs=t=>Hu(xu(t));class fn extends A{constructor({address:e}){super(`Address "${e}" is invalid.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}}const Wu=/^0x[a-fA-F0-9]{40}$/;function st(t){return Wu.test(t)}function Je(t){return typeof t[0]=="string"?js(t):Vu(t)}function Vu(t){let e=0;for(const s of t)e+=s.length;const n=new Uint8Array(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}function js(t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function X(t,e,n,{strict:r}={}){return Re(t,{strict:!1})?Ju(t,e,n,{strict:r}):qu(t,e,n,{strict:r})}function Ya(t,e){if(typeof e=="number"&&e>0&&e>Z(t)-1)throw new Da({offset:e,position:"start",size:Z(t)})}function Xa(t,e,n){if(typeof e=="number"&&typeof n=="number"&&Z(t)!==n-e)throw new Da({offset:n,position:"end",size:Z(t)})}function qu(t,e,n,{strict:r}={}){Ya(t,e);const s=t.slice(e,n);return r&&Xa(s,e,n),s}function Ju(t,e,n,{strict:r}={}){Ya(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return r&&Xa(s,e,n),s}function Fn(t,e){if(t.length!==e.length)throw new Kl({expectedLength:t.length,givenLength:e.length});const n=Yu({params:t,values:e}),r=$s(n);return r.length===0?"0x":r}function Yu({params:t,values:e}){const n=[];for(let r=0;r<t.length;r++)n.push(Rs({param:t[r],value:e[r]}));return n}function Rs({param:t,value:e}){const n=Er(t.type);if(n){const[r,s]=n;return Ku(e,{length:r,param:{...t,type:s}})}if(t.type==="tuple")return nd(e,{param:t});if(t.type==="address")return Xu(e);if(t.type==="bool")return Qu(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const r=t.type.startsWith("int");return ed(e,{signed:r})}if(t.type.startsWith("bytes"))return Zu(e,{param:t});if(t.type==="string")return td(e);throw new ru(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function $s(t){let e=0;for(let i=0;i<t.length;i++){const{dynamic:a,encoded:o}=t[i];a?e+=32:e+=Z(o)}const n=[],r=[];let s=0;for(let i=0;i<t.length;i++){const{dynamic:a,encoded:o}=t[i];a?(n.push(U(e+s,{size:32})),r.push(o),s+=Z(o)):n.push(o)}return Je([...n,...r])}function Xu(t){if(!st(t))throw new fn({address:t});return{dynamic:!1,encoded:tt(t.toLowerCase())}}function Ku(t,{length:e,param:n}){const r=e===null;if(!Array.isArray(t))throw new iu(t);if(!r&&t.length!==e)throw new Yl({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let s=!1;const i=[];for(let a=0;a<t.length;a++){const o=Rs({param:n,value:t[a]});o.dynamic&&(s=!0),i.push(o)}if(r||s){const a=$s(i);if(r){const o=U(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?Je([o,a]):o}}if(s)return{dynamic:!0,encoded:a}}return{dynamic:!1,encoded:Je(i.map(({encoded:a})=>a))}}function Zu(t,{param:e}){const[,n]=e.type.split("bytes"),r=Z(t);if(!n){let s=t;return r%32!==0&&(s=tt(s,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:Je([tt(U(r,{size:32})),s])}}if(r!==parseInt(n))throw new Xl({expectedSize:parseInt(n),value:t});return{dynamic:!1,encoded:tt(t,{dir:"right"})}}function Qu(t){return{dynamic:!1,encoded:tt(_a(t))}}function ed(t,{signed:e}){return{dynamic:!1,encoded:U(t,{size:32,signed:e})}}function td(t){const e=Is(t),n=Math.ceil(Z(e)/32),r=[];for(let s=0;s<n;s++)r.push(tt(X(e,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Je([tt(U(Z(e),{size:32})),...r])}}function nd(t,{param:e}){let n=!1;const r=[];for(let s=0;s<e.components.length;s++){const i=e.components[s],a=Array.isArray(t)?s:i.name,o=Rs({param:i,value:t[a]});r.push(o),o.dynamic&&(n=!0)}return{dynamic:n,encoded:n?$s(r):Je(r.map(({encoded:s})=>s))}}function Er(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}const rd=t=>oe(rt(t)),Fs=t=>X(rd(za(t)),0,4);function Bn({abi:t,args:e=[],name:n}){const r=Re(n,{strict:!1}),s=t.filter(a=>r?a.type==="function"?Fs(a)===n:a.type==="event"?Cs(a)===n:!1:"name"in a&&a.name===n);if(s.length===0)return;if(s.length===1)return s[0];let i;for(const a of s){if(!("inputs"in a))continue;if(!e||e.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==e.length)continue;if(e.every((c,l)=>{const d="inputs"in a&&a.inputs[l];return d?ss(c,d):!1})){if(i&&"inputs"in i&&i.inputs){const c=Ka(a.inputs,i.inputs,e);if(c)throw new tu({abiItem:a,type:c[0]},{abiItem:i,type:c[1]})}i=a}}return i||s[0]}function ss(t,e){const n=typeof t,r=e.type;switch(r){case"address":return st(t);case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((s,i)=>ss(Object.values(t)[i],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(s=>ss(s,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Ka(t,e,n){for(const r in t){const s=t[r],i=e[r];if(s.type==="tuple"&&i.type==="tuple"&&"components"in s&&"components"in i)return Ka(s.components,i.components,n[r]);const a=[s.type,i.type];if(a.includes("address")&&a.includes("bytes20")?!0:a.includes("address")&&a.includes("string")||a.includes("address")&&a.includes("bytes")?st(n[r]):!1)return a}}function Mn({abi:t,eventName:e,args:n}){var o;let r=t[0];if(e&&(r=Bn({abi:t,args:n,name:e}),!r))throw new $i(e,{docsPath:"/docs/contract/encodeEventTopics"});if(r.type!=="event")throw new $i(void 0,{docsPath:"/docs/contract/encodeEventTopics"});const s=qe(r),i=Cs(s);let a=[];if(n&&"inputs"in r){const c=(o=r.inputs)==null?void 0:o.filter(d=>"indexed"in d&&d.indexed),l=Array.isArray(n)?n:Object.values(n).length>0?(c==null?void 0:c.map(d=>n[d.name]))??[]:[];l.length>0&&(a=(c==null?void 0:c.map((d,f)=>Array.isArray(l[f])?l[f].map((h,m)=>Gi({param:d,value:l[f][m]})):l[f]?Gi({param:d,value:l[f]}):null))??[])}return[i,...a]}function Gi({param:t,value:e}){if(t.type==="string"||t.type==="bytes")return oe(rt(e));if(t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/))throw new ou(t.type);return Fn([t],[e])}function Nr(t,{method:e}){var r,s;const n={};return t.transport.type==="fallback"&&((s=(r=t.transport).onResponse)==null||s.call(r,({method:i,response:a,status:o,transport:c})=>{o==="success"&&e===i&&(n[a]=c.request)})),i=>n[i]||t.request}async function Za(t,{address:e,abi:n,args:r,eventName:s,fromBlock:i,strict:a,toBlock:o}){const c=Nr(t,{method:"eth_newFilter"}),l=s?Mn({abi:n,args:r,eventName:s}):void 0,d=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof i=="bigint"?U(i):i,toBlock:typeof o=="bigint"?U(o):o,topics:l}]});return{abi:n,args:r,eventName:s,id:d,request:c(d),strict:a,type:"event"}}function ye(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}function $e({abi:t,args:e,functionName:n}){let r=t[0];if(n&&(r=Bn({abi:t,args:e,name:n}),!r))throw new or(n,{docsPath:"/docs/contract/encodeFunctionData"});if(r.type!=="function")throw new or(void 0,{docsPath:"/docs/contract/encodeFunctionData"});const s=qe(r),i=Fs(s),a="inputs"in r&&r.inputs?Fn(r.inputs,e??[]):void 0;return js([i,a??"0x"])}const Qa={1:"An `assert` condition failed.",17:"Arithmic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},sd={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},id={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function Bs(t,e){const n=t.substring(2).toLowerCase(),r=oe(He(n),"bytes"),s=n.split("");for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&s[i]&&(s[i]=s[i].toUpperCase()),(r[i>>1]&15)>=8&&s[i+1]&&(s[i+1]=s[i+1].toUpperCase());return`0x${s.join("")}`}function ad(t,e){if(!st(t))throw new fn({address:t});return Bs(t)}function Tr(t,e){if(e==="0x"&&t.length>0)throw new xr;if(Z(e)&&Z(e)<32)throw new As({data:e,params:t,size:Z(e)});return od({data:e,params:t})}function od({data:t,params:e}){const n=[];let r=0;for(let s=0;s<e.length;s++){if(r>=Z(t))throw new As({data:t,params:e,size:Z(t)});const i=e[s],{consumed:a,value:o}=Ft({data:t,param:i,position:r});n.push(o),r+=a}return n}function Ft({data:t,param:e,position:n}){const r=Er(e.type);if(r){const[i,a]=r;return ld(t,{length:i,param:{...e,type:a},position:n})}if(e.type==="tuple")return pd(t,{param:e,position:n});if(e.type==="string")return hd(t,{position:n});if(e.type.startsWith("bytes"))return dd(t,{param:e,position:n});const s=X(t,n,n+32,{strict:!0});if(e.type.startsWith("uint")||e.type.startsWith("int"))return fd(s,{param:e});if(e.type==="address")return cd(s);if(e.type==="bool")return ud(s);throw new su(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}function cd(t){return{consumed:32,value:Bs(X(t,-20))}}function ld(t,{param:e,length:n,position:r}){if(!n){const a=se(X(t,r,r+32,{strict:!0})),o=se(X(t,a,a+32,{strict:!0}));let c=0;const l=[];for(let d=0;d<o;++d){const f=Ft({data:X(t,a+32),param:e,position:c});c+=f.consumed,l.push(f.value)}return{value:l,consumed:32}}if(cr(e)){const a=Er(e.type),o=!(a!=null&&a[0]);let c=0;const l=[];for(let d=0;d<n;++d){const f=se(X(t,r,r+32,{strict:!0})),h=Ft({data:X(t,f),param:e,position:o?c:d*32});c+=h.consumed,l.push(h.value)}return{value:l,consumed:32}}let s=0;const i=[];for(let a=0;a<n;++a){const o=Ft({data:t,param:e,position:r+s});s+=o.consumed,i.push(o.value)}return{value:i,consumed:s}}function ud(t){return{consumed:32,value:fu(t)}}function dd(t,{param:e,position:n}){const[r,s]=e.type.split("bytes");if(!s){const a=se(X(t,n,n+32,{strict:!0})),o=se(X(t,a,a+32,{strict:!0}));return o===0?{consumed:32,value:"0x"}:{consumed:32,value:X(t,a+32,a+32+o,{strict:!0})}}return{consumed:32,value:X(t,n,n+parseInt(s),{strict:!0})}}function fd(t,{param:e}){const n=e.type.startsWith("int");return{consumed:32,value:parseInt(e.type.split("int")[1]||"256")>48?vr(t,{signed:n}):se(t,{signed:n})}}function hd(t,{position:e}){const n=se(X(t,e,e+32,{strict:!0})),r=se(X(t,n,n+32,{strict:!0}));return r===0?{consumed:32,value:""}:{consumed:32,value:hu($t(X(t,n+32,n+32+r,{strict:!0})))}}function pd(t,{param:e,position:n}){const r=e.components.length===0||e.components.some(({name:a})=>!a),s=r?[]:{};let i=0;if(cr(e)){const a=se(X(t,n,n+32,{strict:!0}));for(let o=0;o<e.components.length;++o){const c=e.components[o],l=Ft({data:X(t,a),param:c,position:i});i+=l.consumed,s[r?o:c==null?void 0:c.name]=l.value}return{consumed:32,value:s}}for(let a=0;a<e.components.length;++a){const o=e.components[a],c=Ft({data:t,param:o,position:n+i});i+=c.consumed,s[r?a:o==null?void 0:o.name]=c.value}return{consumed:i,value:s}}function cr(t){var r;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(r=t.components)==null?void 0:r.some(cr);const n=Er(t.type);return!!(n&&cr({...t,type:n[1]}))}function md({abi:t,data:e}){const n=X(e,0,4);if(n==="0x")throw new xr;const s=[...t||[],sd,id].find(i=>i.type==="error"&&n===Fs(qe(i)));if(!s)throw new Ua(n,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:s,args:"inputs"in s&&s.inputs&&s.inputs.length>0?Tr(s.inputs,X(e,4)):void 0,errorName:s.name}}const Fe=(t,e,n)=>JSON.stringify(t,(r,s)=>{const i=typeof s=="bigint"?s.toString():s;return typeof e=="function"?e(r,i):i},n);function eo({abiItem:t,args:e,includeFunctionName:n=!0,includeName:r=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${n?t.name:""}(${t.inputs.map((s,i)=>`${r&&s.name?`${s.name}: `:""}${typeof e[i]=="object"?Fe(e[i]):e[i]}`).join(", ")})`}const gd={gwei:9,wei:18},bd={ether:-9,wei:9};function to(t,e){let n=t.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");let[s,i]=[n.slice(0,n.length-e),n.slice(n.length-e)];return i=i.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${i?`.${i}`:""}`}function Ms(t,e="wei"){return to(t,gd[e])}function ue(t,e="wei"){return to(t,bd[e])}function Ln(t){const e=Object.entries(t).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=e.reduce((r,[s])=>Math.max(r,s.length),0);return e.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class yd extends A{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeConflictError"})}}class wd extends A{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Ln(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- a Legacy Transaction with `gasPrice`"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSerializableTransactionError"})}}class xd extends A{constructor(e,{account:n,docsPath:r,chain:s,data:i,gas:a,gasPrice:o,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:d,to:f,value:h}){var p;const m=Ln({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:n==null?void 0:n.address,to:f,value:typeof h<"u"&&`${Ms(h)} ${((p=s==null?void 0:s.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:i,gas:a,gasPrice:typeof o<"u"&&`${ue(o)} gwei`,maxFeePerGas:typeof c<"u"&&`${ue(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${ue(l)} gwei`,nonce:d});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",m].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionExecutionError"}),this.cause=e}}class no extends A{constructor({blockHash:e,blockNumber:n,blockTag:r,hash:s,index:i}){let a="Transaction";r&&i!==void 0&&(a=`Transaction at block time "${r}" at index "${i}"`),e&&i!==void 0&&(a=`Transaction at block hash "${e}" at index "${i}"`),n&&i!==void 0&&(a=`Transaction at block number "${n}" at index "${i}"`),s&&(a=`Transaction with hash "${s}"`),super(`${a} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionNotFoundError"})}}class ro extends A{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionReceiptNotFoundError"})}}class vd extends A{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WaitForTransactionReceiptTimeoutError"})}}class so extends A{constructor(e,{account:n,docsPath:r,chain:s,data:i,gas:a,gasPrice:o,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:d,to:f,value:h}){var b;const m=n?ye(n):void 0,p=Ln({from:m==null?void 0:m.address,to:f,value:typeof h<"u"&&`${Ms(h)} ${((b=s==null?void 0:s.nativeCurrency)==null?void 0:b.symbol)||"ETH"}`,data:i,gas:a,gasPrice:typeof o<"u"&&`${ue(o)} gwei`,maxFeePerGas:typeof c<"u"&&`${ue(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${ue(l)} gwei`,nonce:d});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",p].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CallExecutionError"}),this.cause=e}}class Ed extends A{constructor(e,{abi:n,args:r,contractAddress:s,docsPath:i,functionName:a,sender:o}){const c=Bn({abi:n,args:r,name:a}),l=c?eo({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,d=c?qe(c,{includeName:!0}):void 0,f=Ln({address:s&&Vl(s),function:d,args:l&&l!=="()"&&`${[...Array((a==null?void 0:a.length)??0).keys()].map(()=>" ").join("")}${l}`,sender:o});super(e.shortMessage||`An unknown error occurred while executing the contract function "${a}".`,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Contract Call:",f].filter(Boolean)}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionExecutionError"}),this.abi=n,this.args=r,this.cause=e,this.contractAddress=s,this.functionName=a,this.sender=o}}class is extends A{constructor({abi:e,data:n,functionName:r,message:s}){let i,a,o,c;if(n&&n!=="0x")try{a=md({abi:e,data:n});const{abiItem:d,errorName:f,args:h}=a;if(f==="Error")c=h[0];else if(f==="Panic"){const[m]=h;c=Qa[m]}else{const m=d?qe(d,{includeName:!0}):void 0,p=d&&h?eo({abiItem:d,args:h,includeFunctionName:!1,includeName:!1}):void 0;o=[m?`Error: ${m}`:"",p&&p!=="()"?`       ${[...Array((f==null?void 0:f.length)??0).keys()].map(()=>" ").join("")}${p}`:""]}}catch(d){i=d}else s&&(c=s);let l;i instanceof Ua&&(l=i.signature,o=[`Unable to decode signature "${l}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${l}.`]),super(c&&c!=="execution reverted"||l?[`The contract function "${r}" reverted with the following ${l?"signature":"reason"}:`,c||l].join(`
`):`The contract function "${r}" reverted.`,{cause:i,metaMessages:o}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=a,this.reason=c,this.signature=l}}class Nd extends A{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionZeroDataError"})}}class Ls extends A{constructor({data:e,message:n}){super(n||""),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RawContractError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}class io extends A{constructor({body:e,details:n,headers:r,status:s,url:i}){super("HTTP request failed.",{details:n,metaMessages:[s&&`Status: ${s}`,`URL: ${Ma(i)}`,e&&`Request body: ${Fe(e)}`].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=r,this.status=s,this.url=i}}class Td extends A{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${Ma(r)}`,`Request body: ${Fe(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code}}const Pd=-1;class fe extends A{constructor(e,{code:n,docsPath:r,metaMessages:s,shortMessage:i}){super(i,{cause:e,docsPath:r,metaMessages:s||(e==null?void 0:e.metaMessages)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.code=e instanceof Td?e.code:n??Pd}}class qt extends fe{constructor(e,n){super(e,n),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class hn extends fe{constructor(e){super(e,{code:hn.code,shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ParseRpcError"})}}Object.defineProperty(hn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class pn extends fe{constructor(e){super(e,{code:pn.code,shortMessage:"JSON is not a valid request object."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRequestRpcError"})}}Object.defineProperty(pn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class mn extends fe{constructor(e){super(e,{code:mn.code,shortMessage:"The method does not exist / is not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotFoundRpcError"})}}Object.defineProperty(mn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class gn extends fe{constructor(e){super(e,{code:gn.code,shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParamsRpcError"})}}Object.defineProperty(gn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Ht extends fe{constructor(e){super(e,{code:Ht.code,shortMessage:"An internal error was received."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalRpcError"})}}Object.defineProperty(Ht,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Nt extends fe{constructor(e){super(e,{code:Nt.code,shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidInputRpcError"})}}Object.defineProperty(Nt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class bn extends fe{constructor(e){super(e,{code:bn.code,shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(bn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class yn extends fe{constructor(e){super(e,{code:yn.code,shortMessage:"Requested resource not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceUnavailableRpcError"})}}Object.defineProperty(yn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class wn extends fe{constructor(e){super(e,{code:wn.code,shortMessage:"Transaction creation failed."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionRejectedRpcError"})}}Object.defineProperty(wn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class xn extends fe{constructor(e){super(e,{code:xn.code,shortMessage:"Method is not implemented."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotSupportedRpcError"})}}Object.defineProperty(xn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class vn extends fe{constructor(e){super(e,{code:vn.code,shortMessage:"Request exceeds defined limit."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"LimitExceededRpcError"})}}Object.defineProperty(vn,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class En extends fe{constructor(e){super(e,{code:En.code,shortMessage:"Version of JSON-RPC protocol is not supported."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"JsonRpcVersionUnsupportedError"})}}Object.defineProperty(En,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Bt extends qt{constructor(e){super(e,{code:Bt.code,shortMessage:"User rejected the request."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UserRejectedRequestError"})}}Object.defineProperty(Bt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Nn extends qt{constructor(e){super(e,{code:Nn.code,shortMessage:"The requested method and/or account has not been authorized by the user."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnauthorizedProviderError"})}}Object.defineProperty(Nn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Tn extends qt{constructor(e){super(e,{code:Tn.code,shortMessage:"The Provider does not support the requested method."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedProviderMethodError"})}}Object.defineProperty(Tn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Pn extends qt{constructor(e){super(e,{code:Pn.code,shortMessage:"The Provider is disconnected from all chains."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderDisconnectedError"})}}Object.defineProperty(Pn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class kn extends qt{constructor(e){super(e,{code:kn.code,shortMessage:"The Provider is not connected to the requested chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDisconnectedError"})}}Object.defineProperty(kn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class An extends qt{constructor(e){super(e,{code:An.code,shortMessage:"An error occurred when attempting to switch chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainError"})}}Object.defineProperty(An,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class kd extends fe{constructor(e){super(e,{shortMessage:"An unknown RPC error occurred."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownRpcError"})}}const Ad=3;function In(t,{abi:e,address:n,args:r,docsPath:s,functionName:i,sender:a}){const{code:o,data:c,message:l,shortMessage:d}=t instanceof Ls?t:t instanceof A?t.walk(h=>"data"in h)||t.walk():{},f=t instanceof xr?new Nd({functionName:i}):[Ad,Ht.code].includes(o)&&(c||l||d)?new is({abi:e,data:typeof c=="object"?c.data:c,functionName:i,message:d??l}):t;return new Ed(f,{abi:e,args:r,contractAddress:n,docsPath:s,functionName:i,sender:a})}class Jt extends A{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the WalletClient."].join(`
`),{docsPath:e,docsSlug:"account"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountNotFoundError"})}}class Id extends A{constructor(e,{account:n,docsPath:r,chain:s,data:i,gas:a,gasPrice:o,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:d,to:f,value:h}){var p;const m=Ln({from:n==null?void 0:n.address,to:f,value:typeof h<"u"&&`${Ms(h)} ${((p=s==null?void 0:s.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:i,gas:a,gasPrice:typeof o<"u"&&`${ue(o)} gwei`,maxFeePerGas:typeof c<"u"&&`${ue(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${ue(l)} gwei`,nonce:d});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",m].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EstimateGasExecutionError"}),this.cause=e}}class Ct extends A{constructor({cause:e,message:n}={}){var s;const r=(s=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ExecutionRevertedError"})}}Object.defineProperty(Ct,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(Ct,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class lr extends A{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${ue(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooHigh"})}}Object.defineProperty(lr,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class as extends A{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${ue(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooLow"})}}Object.defineProperty(as,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class os extends A{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooHighError"})}}Object.defineProperty(os,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class cs extends A{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooLowError"})}}Object.defineProperty(cs,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class ls extends A{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceMaxValueError"})}}Object.defineProperty(ls,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class us extends A{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InsufficientFundsError"})}}Object.defineProperty(us,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds/});class ds extends A{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooHighError"})}}Object.defineProperty(ds,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class fs extends A{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooLowError"})}}Object.defineProperty(fs,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class hs extends A{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionTypeNotSupportedError"})}}Object.defineProperty(hs,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class ur extends A{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${ue(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${ue(r)} gwei`:""}).`].join(`
`),{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TipAboveFeeCapError"})}}Object.defineProperty(ur,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Pr extends A{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.shortMessage}`,{cause:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownNodeError"})}}function Us(t,e){const n=(t.details||"").toLowerCase(),r=t.walk(s=>s.code===Ct.code);return r instanceof A?new Ct({cause:t,message:r.details}):Ct.nodeMessage.test(n)?new Ct({cause:t,message:t.details}):lr.nodeMessage.test(n)?new lr({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):as.nodeMessage.test(n)?new as({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):os.nodeMessage.test(n)?new os({cause:t,nonce:e==null?void 0:e.nonce}):cs.nodeMessage.test(n)?new cs({cause:t,nonce:e==null?void 0:e.nonce}):ls.nodeMessage.test(n)?new ls({cause:t,nonce:e==null?void 0:e.nonce}):us.nodeMessage.test(n)?new us({cause:t}):ds.nodeMessage.test(n)?new ds({cause:t,gas:e==null?void 0:e.gas}):fs.nodeMessage.test(n)?new fs({cause:t,gas:e==null?void 0:e.gas}):hs.nodeMessage.test(n)?new hs({cause:t}):ur.nodeMessage.test(n)?new ur({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas,maxPriorityFeePerGas:e==null?void 0:e.maxPriorityFeePerGas}):new Pr({cause:t})}function Sd(t,{docsPath:e,...n}){const r=(()=>{const s=Us(t,n);return s instanceof Pr?t:s})();return new Id(r,{docsPath:e,...n})}function Ds(t,{format:e}){if(!e)return{};const n={};function r(i){const a=Object.keys(i);for(const o of a)o in t&&(n[o]=t[o]),i[o]&&typeof i[o]=="object"&&!Array.isArray(i[o])&&r(i[o])}const s=e(t||{});return r(s),n}const Od={legacy:"0x0",eip2930:"0x1",eip1559:"0x2"};function kr(t){return{...t,gas:typeof t.gas<"u"?U(t.gas):void 0,gasPrice:typeof t.gasPrice<"u"?U(t.gasPrice):void 0,maxFeePerGas:typeof t.maxFeePerGas<"u"?U(t.maxFeePerGas):void 0,maxPriorityFeePerGas:typeof t.maxPriorityFeePerGas<"u"?U(t.maxPriorityFeePerGas):void 0,nonce:typeof t.nonce<"u"?U(t.nonce):void 0,type:typeof t.type<"u"?Od[t.type]:void 0,value:typeof t.value<"u"?U(t.value):void 0}}function Un(t){const{account:e,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:i}=t,a=e?ye(e):void 0;if(a&&!st(a.address))throw new fn({address:a.address});if(i&&!st(i))throw new fn({address:i});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new yd;if(r&&r>2n**256n-1n)throw new lr({maxFeePerGas:r});if(s&&r&&s>r)throw new ur({maxFeePerGas:r,maxPriorityFeePerGas:s})}class Cd extends A{constructor(){super("`baseFeeMultiplier` must be greater than 1."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseFeeScalarError"})}}class Gs extends A{constructor(){super("Chain does not support EIP-1559 fees."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Eip1559FeesNotSupportedError"})}}class jd extends A{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${ue(e)} gwei).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MaxFeePerGasTooLowError"})}}class ao extends A{constructor({blockHash:e,blockNumber:n}){let r="Block";e&&(r=`Block at hash "${e}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlockNotFoundError"})}}const oo={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559"};function co(t){const e={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?se(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?se(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?oo[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return e.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof e.v=="bigint"){if(e.v===0n||e.v===27n)return 0;if(e.v===1n||e.v===28n)return 1;if(e.v>=35n)return e.v%2n===0n?1:0}})(),e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas,delete e.yParity),e.type==="eip2930"&&(delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e}function lo(t){var n;const e=(n=t.transactions)==null?void 0:n.map(r=>typeof r=="string"?r:co(r));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,difficulty:t.difficulty?BigInt(t.difficulty):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:e,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}async function it(t,{blockHash:e,blockNumber:n,blockTag:r,includeTransactions:s}={}){var d,f,h;const i=r??"latest",a=s??!1,o=n!==void 0?U(n):void 0;let c=null;if(e?c=await t.request({method:"eth_getBlockByHash",params:[e,a]}):c=await t.request({method:"eth_getBlockByNumber",params:[o||i,a]}),!c)throw new ao({blockHash:e,blockNumber:n});return(((h=(f=(d=t.chain)==null?void 0:d.formatters)==null?void 0:f.block)==null?void 0:h.format)||lo)(c)}async function _s(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function Rd(t,e){return uo(t,e)}async function uo(t,e){var i,a,o;const{block:n,chain:r=t.chain,request:s}=e||{};if(typeof((i=r==null?void 0:r.fees)==null?void 0:i.defaultPriorityFee)=="function"){const c=n||await B(t,it,"getBlock")({});return r.fees.defaultPriorityFee({block:c,client:t,request:s})}if(typeof((a=r==null?void 0:r.fees)==null?void 0:a.defaultPriorityFee)<"u")return(o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee;try{const c=await t.request({method:"eth_maxPriorityFeePerGas"});return vr(c)}catch{const[c,l]=await Promise.all([n?Promise.resolve(n):B(t,it,"getBlock")({}),B(t,_s,"getGasPrice")({})]);if(typeof c.baseFeePerGas!="bigint")throw new Gs;const d=l-c.baseFeePerGas;return d<0n?0n:d}}async function $d(t,e){return ps(t,e)}async function ps(t,e){var h,m;const{block:n,chain:r=t.chain,request:s,type:i="eip1559"}=e||{},a=await(async()=>{var p,b;return typeof((p=r==null?void 0:r.fees)==null?void 0:p.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:t,request:s}):((b=r==null?void 0:r.fees)==null?void 0:b.baseFeeMultiplier)??1.2})();if(a<1)throw new Cd;const c=10**(((h=a.toString().split(".")[1])==null?void 0:h.length)??0),l=p=>p*BigInt(Math.ceil(a*c))/BigInt(c),d=n||await B(t,it,"getBlock")({});if(typeof((m=r==null?void 0:r.fees)==null?void 0:m.estimateFeesPerGas)=="function")return r.fees.estimateFeesPerGas({block:n,client:t,multiply:l,request:s,type:i});if(i==="eip1559"){if(typeof d.baseFeePerGas!="bigint")throw new Gs;const p=s!=null&&s.maxPriorityFeePerGas?s.maxPriorityFeePerGas:await uo(t,{block:d,chain:r,request:s}),b=l(d.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??b+p,maxPriorityFeePerGas:p}}return{gasPrice:(s==null?void 0:s.gasPrice)??l(await B(t,_s,"getGasPrice")({}))}}async function fo(t,{address:e,blockTag:n="latest",blockNumber:r}){const s=await t.request({method:"eth_getTransactionCount",params:[e,r?U(r):n]});return se(s)}function Fd(t){if(t.type)return t.type;if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new wd({transaction:t})}async function Ar(t,e){const{account:n=t.account,chain:r,gas:s,nonce:i,type:a}=e;if(!n)throw new Jt;const o=ye(n),c=await B(t,it,"getBlock")({blockTag:"latest"}),l={...e,from:o.address};if(typeof i>"u"&&(l.nonce=await B(t,fo,"getTransactionCount")({address:o.address,blockTag:"pending"})),typeof a>"u")try{l.type=Fd(l)}catch{l.type=typeof c.baseFeePerGas=="bigint"?"eip1559":"legacy"}if(l.type==="eip1559"){const{maxFeePerGas:d,maxPriorityFeePerGas:f}=await ps(t,{block:c,chain:r,request:l});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<f)throw new jd({maxPriorityFeePerGas:f});l.maxPriorityFeePerGas=f,l.maxFeePerGas=d}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new Gs;const{gasPrice:d}=await ps(t,{block:c,chain:r,request:l,type:"legacy"});l.gasPrice=d}return typeof s>"u"&&(l.gas=await B(t,zs,"estimateGas")({...l,account:{address:o.address,type:"json-rpc"}})),Un(l),l}async function zs(t,e){var s,i,a;const n=e.account??t.account;if(!n)throw new Jt({docsPath:"/docs/actions/public/estimateGas"});const r=ye(n);try{const{accessList:o,blockNumber:c,blockTag:l,data:d,gas:f,gasPrice:h,maxFeePerGas:m,maxPriorityFeePerGas:p,nonce:b,to:w,value:y,...x}=r.type==="local"?await Ar(t,e):e,N=(c?U(c):void 0)||l;Un(e);const j=(a=(i=(s=t.chain)==null?void 0:s.formatters)==null?void 0:i.transactionRequest)==null?void 0:a.format,E=(j||kr)({...Ds(x,{format:j}),from:r.address,accessList:o,data:d,gas:f,gasPrice:h,maxFeePerGas:m,maxPriorityFeePerGas:p,nonce:b,to:w,value:y}),L=await t.request({method:"eth_estimateGas",params:N?[E,N]:[E]});return BigInt(L)}catch(o){throw Sd(o,{...e,account:r,chain:t.chain})}}async function Bd(t,{abi:e,address:n,args:r,functionName:s,...i}){const a=$e({abi:e,args:r,functionName:s});try{return await B(t,zs,"estimateGas")({data:a,to:n,...i})}catch(o){const c=i.account?ye(i.account):void 0;throw In(o,{abi:e,address:n,args:r,docsPath:"/docs/contract/estimateContractGas",functionName:s,sender:c==null?void 0:c.address})}}const _i="/docs/contract/decodeEventLog";function Dn({abi:t,data:e,strict:n,topics:r}){const s=n??!0,[i,...a]=r;if(!i)throw new Zl({docsPath:_i});const o=t.find(p=>p.type==="event"&&i===Cs(qe(p)));if(!(o&&"name"in o)||o.type!=="event")throw new Ql(i,{docsPath:_i});const{name:c,inputs:l}=o,d=l==null?void 0:l.some(p=>!("name"in p&&p.name));let f=d?[]:{};const h=l.filter(p=>"indexed"in p&&p.indexed);for(let p=0;p<h.length;p++){const b=h[p],w=a[p];if(!w)throw new Wt({abiItem:o,param:b});f[b.name||p]=Md({param:b,value:w})}const m=l.filter(p=>!("indexed"in p&&p.indexed));if(m.length>0){if(e&&e!=="0x")try{const p=Tr(m,e);if(p)if(d)f=[...f,...p];else for(let b=0;b<m.length;b++)f[m[b].name]=p[b]}catch(p){if(s)throw p instanceof As?new Et({abiItem:o,data:p.data,params:p.params,size:p.size}):p}else if(s)throw new Et({abiItem:o,data:"0x",params:m,size:0})}return{eventName:c,args:Object.values(f).length>0?f:void 0}}function Md({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(Tr([t],e)||[])[0]}function Ne(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}async function Hs(t,{address:e,blockHash:n,fromBlock:r,toBlock:s,event:i,events:a,args:o,strict:c}={}){const l=c??!1,d=a??(i?[i]:void 0);let f=[];d&&(f=[d.flatMap(m=>Mn({abi:[m],eventName:m.name,args:o}))],i&&(f=f[0]));let h;return n?h=await t.request({method:"eth_getLogs",params:[{address:e,topics:f,blockHash:n}]}):h=await t.request({method:"eth_getLogs",params:[{address:e,topics:f,fromBlock:typeof r=="bigint"?U(r):r,toBlock:typeof s=="bigint"?U(s):s}]}),h.map(m=>{var p;try{const{eventName:b,args:w}=d?Dn({abi:d,data:m.data,topics:m.topics,strict:l}):{eventName:void 0,args:void 0};return Ne(m,{args:w,eventName:b})}catch(b){let w,y;if(b instanceof Et||b instanceof Wt){if(l)return;w=b.abiItem.name,y=(p=b.abiItem.inputs)==null?void 0:p.some(x=>!("name"in x&&x.name))}return Ne(m,{args:y?[]:{},eventName:w})}}).filter(Boolean)}async function ho(t,{abi:e,address:n,args:r,blockHash:s,eventName:i,fromBlock:a,toBlock:o,strict:c}){const l=i?Bn({abi:e,name:i}):void 0,d=l?void 0:e.filter(f=>f.type==="event");return B(t,Hs,"getLogs")({address:n,args:r,blockHash:s,event:l,events:d,fromBlock:a,toBlock:o,strict:c})}const Ur="/docs/contract/decodeFunctionResult";function Yt({abi:t,args:e,functionName:n,data:r}){let s=t[0];if(n&&(s=Bn({abi:t,args:e,name:n}),!s))throw new or(n,{docsPath:Ur});if(s.type!=="function")throw new or(void 0,{docsPath:Ur});if(!s.outputs)throw new eu(s.name,{docsPath:Ur});const i=Tr(s.outputs,r);if(i&&i.length>1)return i;if(i&&i.length===1)return i[0]}const ms=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],po=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"}],mo=[...po,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],Ld=[...po,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],zi=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],Hi=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],Ud=[{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"}],Dd="0x82ad56cb";class gs extends A{constructor({blockNumber:e,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDoesNotSupportContract"})}}class Gd extends A{constructor({chain:e,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${e.id} – ${e.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e.id} – ${e.name}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainMismatchError"})}}class _d extends A{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotFoundError"})}}class go extends A{constructor(){super("No chain was provided to the Client."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ClientChainNotConfiguredError"})}}function Xt({blockNumber:t,chain:e,contract:n}){var s;const r=(s=e==null?void 0:e.contracts)==null?void 0:s[n];if(!r)throw new gs({chain:e,contract:{name:n}});if(t&&r.blockCreated&&r.blockCreated>t)throw new gs({blockNumber:t,chain:e,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function zd(t,{docsPath:e,...n}){const r=(()=>{const s=Us(t,n);return s instanceof Pr?t:s})();return new so(r,{docsPath:e,...n})}const Dr=new Map;function Hd({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:s}){const i=async()=>{const d=c();a();const f=d.map(({args:h})=>h);f.length!==0&&t(f).then(h=>{var m;s&&Array.isArray(h)&&h.sort(s);for(let p=0;p<d.length;p++){const{pendingPromise:b}=d[p];(m=b.resolve)==null||m.call(b,[h[p],h])}}).catch(h=>{var m;for(let p=0;p<d.length;p++){const{pendingPromise:b}=d[p];(m=b.reject)==null||m.call(b,h)}})},a=()=>Dr.delete(e),o=()=>c().map(({args:d})=>d),c=()=>Dr.get(e)||[],l=d=>Dr.set(e,[...c(),d]);return{flush:a,async schedule(d){const f={},h=new Promise((b,w)=>{f.resolve=b,f.reject=w});return(n==null?void 0:n([...o(),d]))&&i(),c().length>0?(l({args:d,pendingPromise:f}),h):(l({args:d,pendingPromise:f}),setTimeout(i,r),h)}}}async function Ir(t,e){var y,x,P,N;const{account:n=t.account,batch:r=!!((y=t.batch)!=null&&y.multicall),blockNumber:s,blockTag:i="latest",accessList:a,data:o,gas:c,gasPrice:l,maxFeePerGas:d,maxPriorityFeePerGas:f,nonce:h,to:m,value:p,...b}=e,w=n?ye(n):void 0;try{Un(e);const O=(s?U(s):void 0)||i,E=(N=(P=(x=t.chain)==null?void 0:x.formatters)==null?void 0:P.transactionRequest)==null?void 0:N.format,I=(E||kr)({...Ds(b,{format:E}),from:w==null?void 0:w.address,accessList:a,data:o,gas:c,gasPrice:l,maxFeePerGas:d,maxPriorityFeePerGas:f,nonce:h,to:m,value:p});if(r&&Wd({request:I}))try{return await Vd(t,{...I,blockNumber:s,blockTag:i})}catch(G){if(!(G instanceof go)&&!(G instanceof gs))throw G}const S=await t.request({method:"eth_call",params:O?[I,O]:[I]});return S==="0x"?{data:void 0}:{data:S}}catch(j){const O=qd(j),{offchainLookup:E,offchainLookupSignature:L}=await Ho(async()=>{const{offchainLookup:I,offchainLookupSignature:S}=await import("./ccip-mKVbOKCd.js");return{offchainLookup:I,offchainLookupSignature:S}},__vite__mapDeps([0,1,2]));if((O==null?void 0:O.slice(0,10))===L&&m)return{data:await E(t,{data:O,to:m})};throw zd(j,{...e,account:w,chain:t.chain})}}function Wd({request:t}){const{data:e,to:n,...r}=t;return!(!e||e.startsWith(Dd)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function Vd(t,e){var b;const{batchSize:n=1024,wait:r=0}=typeof((b=t.batch)==null?void 0:b.multicall)=="object"?t.batch.multicall:{},{blockNumber:s,blockTag:i="latest",data:a,multicallAddress:o,to:c}=e;let l=o;if(!l){if(!t.chain)throw new go;l=Xt({blockNumber:s,chain:t.chain,contract:"multicall3"})}const f=(s?U(s):void 0)||i,{schedule:h}=Hd({id:`${t.uid}.${f}`,wait:r,shouldSplitBatch(w){return w.reduce((x,{data:P})=>x+(P.length-2),0)>n*2},fn:async w=>{const y=w.map(N=>({allowFailure:!0,callData:N.data,target:N.to})),x=$e({abi:ms,args:[y],functionName:"aggregate3"}),P=await t.request({method:"eth_call",params:[{data:x,to:l},f]});return Yt({abi:ms,args:[y],functionName:"aggregate3",data:P||"0x"})}}),[{returnData:m,success:p}]=await h({data:a,to:c});if(!p)throw new Ls({data:m});return m==="0x"?{data:void 0}:{data:m}}function qd(t){if(!(t instanceof A))return;const e=t.walk();return typeof e.data=="object"?e.data.data:e.data}async function at(t,{abi:e,address:n,args:r,functionName:s,...i}){const a=$e({abi:e,args:r,functionName:s});try{const{data:o}=await B(t,Ir,"call")({data:a,to:n,...i});return Yt({abi:e,args:r,functionName:s,data:o||"0x"})}catch(o){throw In(o,{abi:e,address:n,args:r,docsPath:"/docs/contract/readContract",functionName:s})}}async function Jd(t,{abi:e,address:n,args:r,dataSuffix:s,functionName:i,...a}){const o=a.account?ye(a.account):void 0,c=$e({abi:e,args:r,functionName:i});try{const{data:l}=await B(t,Ir,"call")({batch:!1,data:`${c}${s?s.replace("0x",""):""}`,to:n,...a});return{result:Yt({abi:e,args:r,functionName:i,data:l||"0x"}),request:{abi:e,address:n,args:r,dataSuffix:s,functionName:i,...a}}}catch(l){throw In(l,{abi:e,address:n,args:r,docsPath:"/docs/contract/simulateContract",functionName:i,sender:o==null?void 0:o.address})}}const Gr=new Map,Wi=new Map;let Yd=0;function Kt(t,e,n){const r=++Yd,s=()=>Gr.get(t)||[],i=()=>{const d=s();Gr.set(t,d.filter(f=>f.id!==r))},a=()=>{const d=Wi.get(t);s().length===1&&d&&d(),i()},o=s();if(Gr.set(t,[...o,{id:r,fns:e}]),o&&o.length>0)return a;const c={};for(const d in e)c[d]=(...f)=>{var m,p;const h=s();if(h.length!==0)for(const b of h)(p=(m=b.fns)[d])==null||p.call(m,...f)};const l=n(c);return typeof l=="function"&&Wi.set(t,l),a}async function bs(t){return new Promise(e=>setTimeout(e,t))}function Gn(t,{emitOnBegin:e,initialWaitTime:n,interval:r}){let s=!0;const i=()=>s=!1;return(async()=>{let o;e&&(o=await t({unpoll:i}));const c=await(n==null?void 0:n(o))??r;await bs(c);const l=async()=>{s&&(await t({unpoll:i}),await bs(r),l())};l()})(),i}const Xd=new Map,Kd=new Map;function Zd(t){const e=(s,i)=>({clear:()=>i.delete(s),get:()=>i.get(s),set:a=>i.set(s,a)}),n=e(t,Xd),r=e(t,Kd);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function Qd(t,{cacheKey:e,cacheTime:n=1/0}){const r=Zd(e),s=r.response.get();if(s&&n>0&&new Date().getTime()-s.created.getTime()<n)return s.data;let i=r.promise.get();i||(i=t(),r.promise.set(i));try{const a=await i;return r.response.set({created:new Date,data:a}),a}finally{r.promise.clear()}}const ef=t=>`blockNumber.${t}`;async function _n(t,{cacheTime:e=t.cacheTime,maxAge:n}={}){const r=await Qd(()=>t.request({method:"eth_blockNumber"}),{cacheKey:ef(t.uid),cacheTime:n??e});return BigInt(r)}async function Sr(t,{filter:e}){const n="strict"in e&&e.strict;return(await e.request({method:"eth_getFilterChanges",params:[e.id]})).map(s=>{var i;if(typeof s=="string")return s;try{const{eventName:a,args:o}="abi"in e&&e.abi?Dn({abi:e.abi,data:s.data,topics:s.topics,strict:n}):{eventName:void 0,args:void 0};return Ne(s,{args:o,eventName:a})}catch(a){let o,c;if(a instanceof Et||a instanceof Wt){if("strict"in e&&e.strict)return;o=a.abiItem.name,c=(i=a.abiItem.inputs)==null?void 0:i.some(l=>!("name"in l&&l.name))}return Ne(s,{args:c?[]:{},eventName:o})}}).filter(Boolean)}async function Or(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function tf(t,{abi:e,address:n,args:r,batch:s=!0,eventName:i,onError:a,onLogs:o,poll:c,pollingInterval:l=t.pollingInterval,strict:d}){return(typeof c<"u"?c:t.transport.type!=="webSocket")?(()=>{const p=Fe(["watchContractEvent",n,r,s,t.uid,i,l]),b=d??!1;return Kt(p,{onLogs:o,onError:a},w=>{let y,x,P=!1;const N=Gn(async()=>{var j;if(!P){try{x=await B(t,Za,"createContractEventFilter")({abi:e,address:n,args:r,eventName:i,strict:b})}catch{}P=!0;return}try{let O;if(x)O=await B(t,Sr,"getFilterChanges")({filter:x});else{const E=await B(t,_n,"getBlockNumber")({});y&&y!==E?O=await B(t,ho,"getContractEvents")({abi:e,address:n,args:r,eventName:i,fromBlock:y+1n,toBlock:E,strict:b}):O=[],y=E}if(O.length===0)return;if(s)w.onLogs(O);else for(const E of O)w.onLogs([E])}catch(O){x&&O instanceof Nt&&(P=!1),(j=w.onError)==null||j.call(w,O)}},{emitOnBegin:!0,interval:l});return async()=>{x&&await B(t,Or,"uninstallFilter")({filter:x}),N()}})})():(()=>{let p=!0,b=()=>p=!1;return(async()=>{try{const w=i?Mn({abi:e,eventName:i,args:r}):[],{unsubscribe:y}=await t.transport.subscribe({params:["logs",{address:n,topics:w}],onData(x){var N;if(!p)return;const P=x.result;try{const{eventName:j,args:O}=Dn({abi:e,data:P.data,topics:P.topics,strict:d}),E=Ne(P,{args:O,eventName:j});o([E])}catch(j){let O,E;if(j instanceof Et||j instanceof Wt){if(d)return;O=j.abiItem.name,E=(N=j.abiItem.inputs)==null?void 0:N.some(I=>!("name"in I&&I.name))}const L=Ne(P,{args:E?[]:{},eventName:O});o([L])}},onError(x){a==null||a(x)}});b=y,p||b()}catch(w){a==null||a(w)}})(),b})()}function bo({chain:t,currentChainId:e}){if(!t)throw new _d;if(e!==t.id)throw new Gd({chain:t,currentChainId:e})}function nf(t,{docsPath:e,...n}){const r=(()=>{const s=Us(t,n);return s instanceof Pr?t:s})();return new xd(r,{docsPath:e,...n})}async function Sn(t){const e=await t.request({method:"eth_chainId"});return se(e)}async function Ws(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]})}async function Vs(t,e){var b,w,y,x;const{account:n=t.account,chain:r=t.chain,accessList:s,data:i,gas:a,gasPrice:o,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:d,to:f,value:h,...m}=e;if(!n)throw new Jt({docsPath:"/docs/actions/wallet/sendTransaction"});const p=ye(n);try{Un(e);let P;if(r!==null&&(P=await B(t,Sn,"getChainId")({}),bo({currentChainId:P,chain:r})),p.type==="local"){const E=await B(t,Ar,"prepareTransactionRequest")({account:p,accessList:s,chain:r,data:i,gas:a,gasPrice:o,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:d,to:f,value:h,...m});P||(P=await B(t,Sn,"getChainId")({}));const L=(b=r==null?void 0:r.serializers)==null?void 0:b.transaction,I=await p.signTransaction({...E,chainId:P},{serializer:L});return await B(t,Ws,"sendRawTransaction")({serializedTransaction:I})}const N=(x=(y=(w=t.chain)==null?void 0:w.formatters)==null?void 0:y.transactionRequest)==null?void 0:x.format,O=(N||kr)({...Ds(m,{format:N}),accessList:s,data:i,from:p.address,gas:a,gasPrice:o,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:d,to:f,value:h});return await t.request({method:"eth_sendTransaction",params:[O]})}catch(P){throw nf(P,{...e,account:p,chain:e.chain||void 0})}}async function rf(t,{abi:e,address:n,args:r,dataSuffix:s,functionName:i,...a}){const o=$e({abi:e,args:r,functionName:i});return await B(t,Vs,"sendTransaction")({data:`${o}${s?s.replace("0x",""):""}`,to:n,...a})}async function sf(t,{chain:e}){const{id:n,name:r,nativeCurrency:s,rpcUrls:i,blockExplorers:a}=e;await t.request({method:"wallet_addEthereumChain",params:[{chainId:U(n),chainName:r,nativeCurrency:s,rpcUrls:i.default.http,blockExplorerUrls:a?Object.values(a).map(({url:o})=>o):void 0}]})}const ys=256;let Zn=ys,Qn;function af(t=11){if(!Qn||Zn+t>ys*2){Qn="",Zn=0;for(let e=0;e<ys;e++)Qn+=(256+Math.random()*256|0).toString(16).substring(1)}return Qn.substring(Zn,Zn+++t)}function of(t){const{batch:e,cacheTime:n=t.pollingInterval??4e3,key:r="base",name:s="Base Client",pollingInterval:i=4e3,type:a="base"}=t,o=t.chain,c=t.account?ye(t.account):void 0,{config:l,request:d,value:f}=t.transport({chain:o,pollingInterval:i}),h={...l,...f},m={account:c,batch:e,cacheTime:n,chain:o,key:r,name:s,pollingInterval:i,request:d,transport:h,type:a,uid:af()};function p(b){return w=>{const y=w(b);for(const P in m)delete y[P];const x={...b,...y};return Object.assign(x,{extend:p(x)})}}return Object.assign(m,{extend:p(m)})}function ws(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,i)=>{const a=async({count:o=0}={})=>{const c=async({error:l})=>{const d=typeof e=="function"?e({count:o,error:l}):e;d&&await bs(d),a({count:o+1})};try{const l=await t();s(l)}catch(l){if(o<n&&await r({count:o,error:l}))return c({error:l});i(l)}};a()})}const cf=t=>"code"in t?t.code!==-1&&t.code!==-32004&&t.code!==-32005&&t.code!==-32042&&t.code!==-32603:t instanceof io&&t.status?t.status!==403&&t.status!==408&&t.status!==413&&t.status!==429&&t.status!==500&&t.status!==502&&t.status!==503&&t.status!==504:!1;function lf(t,{retryDelay:e=150,retryCount:n=3}={}){return async r=>ws(async()=>{try{return await t(r)}catch(s){const i=s;switch(i.code){case hn.code:throw new hn(i);case pn.code:throw new pn(i);case mn.code:throw new mn(i);case gn.code:throw new gn(i);case Ht.code:throw new Ht(i);case Nt.code:throw new Nt(i);case bn.code:throw new bn(i);case yn.code:throw new yn(i);case wn.code:throw new wn(i);case xn.code:throw new xn(i);case vn.code:throw new vn(i);case En.code:throw new En(i);case Bt.code:throw new Bt(i);case Nn.code:throw new Nn(i);case Tn.code:throw new Tn(i);case Pn.code:throw new Pn(i);case kn.code:throw new kn(i);case An.code:throw new An(i);case 5e3:throw new Bt(i);default:throw s instanceof A?s:new kd(i)}}},{delay:({count:s,error:i})=>{var a;if(i&&i instanceof io){const o=(a=i==null?void 0:i.headers)==null?void 0:a.get("Retry-After");if(o!=null&&o.match(/\d/))return parseInt(o)*1e3}return~~(1<<s)*e},retryCount:n,shouldRetry:({error:s})=>!cf(s)})}function uf({key:t,name:e,request:n,retryCount:r=3,retryDelay:s=150,timeout:i,type:a},o){return{config:{key:t,name:e,request:n,retryCount:r,retryDelay:s,timeout:i,type:a},request:lf(n,{retryCount:r,retryDelay:s}),value:o}}function df(t,e={}){const{key:n="custom",name:r="Custom Provider",retryDelay:s}=e;return({retryCount:i})=>uf({key:n,name:r,request:t.request.bind(t),retryCount:e.retryCount??i,retryDelay:s,type:"custom"})}function qs(t,e){var r,s,i;if(!(t instanceof A))return!1;const n=t.walk(a=>a instanceof is);return n instanceof is?!!(((r=n.data)==null?void 0:r.errorName)==="ResolverNotFound"||((s=n.data)==null?void 0:s.errorName)==="ResolverWildcardNotSupported"||(i=n.reason)!=null&&i.includes("Wildcard on non-extended resolvers is not supported")||e==="reverse"&&n.reason===Qa[50]):!1}function yo(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return Re(e)?e:null}function sr(t){let e=new Uint8Array(32).fill(0);if(!t)return dn(e);const n=t.split(".");for(let r=n.length-1;r>=0;r-=1){const s=yo(n[r]),i=s?rt(s):oe(He(n[r]),"bytes");e=oe(Je([e,i]),"bytes")}return dn(e)}function ff(t){return`[${t.slice(2)}]`}function hf(t){const e=new Uint8Array(32).fill(0);return t?yo(t)||oe(He(t)):dn(e)}function Cr(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const n=new Uint8Array(He(e).byteLength+2);let r=0;const s=e.split(".");for(let i=0;i<s.length;i++){let a=He(s[i]);a.byteLength>255&&(a=He(ff(hf(s[i])))),n[r]=a.length,n.set(a,r+1),r+=a.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function pf(t,{blockNumber:e,blockTag:n,coinType:r,name:s,universalResolverAddress:i}){let a=i;if(!a){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=Xt({blockNumber:e,chain:t.chain,contract:"ensUniversalResolver"})}try{const o=$e({abi:Hi,functionName:"addr",...r!=null?{args:[sr(s),BigInt(r)]}:{args:[sr(s)]}}),c=await B(t,at,"readContract")({address:a,abi:mo,functionName:"resolve",args:[Ke(Cr(s)),o],blockNumber:e,blockTag:n});if(c[0]==="0x")return null;const l=Yt({abi:Hi,args:r!=null?[sr(s),BigInt(r)]:void 0,functionName:"addr",data:c[0]});return l==="0x"||$t(l)==="0x00"?null:l}catch(o){if(qs(o,"resolve"))return null;throw o}}class mf extends A{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidMetadataError"})}}class nn extends A{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidNftUriError"})}}class Js extends A{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUriResolutionError"})}}class gf extends A{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUnsupportedNamespaceError"})}}const bf=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,yf=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,wf=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,xf=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function vf(t){try{const e=await fetch(t,{method:"HEAD"});if(e.status===200){const n=e.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=t})}}function Vi(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function wo({uri:t,gatewayUrls:e}){const n=wf.test(t);if(n)return{uri:t,isOnChain:!0,isEncoded:n};const r=Vi(e==null?void 0:e.ipfs,"https://ipfs.io"),s=Vi(e==null?void 0:e.arweave,"https://arweave.net"),i=t.match(bf),{protocol:a,subpath:o,target:c,subtarget:l=""}=(i==null?void 0:i.groups)||{},d=a==="ipns:/"||o==="ipns/",f=a==="ipfs:/"||o==="ipfs/"||yf.test(t);if(t.startsWith("http")&&!d&&!f){let m=t;return e!=null&&e.arweave&&(m=t.replace(/https:\/\/arweave.net/g,e==null?void 0:e.arweave)),{uri:m,isOnChain:!1,isEncoded:!1}}if((d||f)&&c)return{uri:`${r}/${d?"ipns":"ipfs"}/${c}${l}`,isOnChain:!1,isEncoded:!1};if(a==="ar:/"&&c)return{uri:`${s}/${c}${l||""}`,isOnChain:!1,isEncoded:!1};let h=t.replace(xf,"");if(h.startsWith("<svg")&&(h=`data:image/svg+xml;base64,${btoa(h)}`),h.startsWith("data:")||h.startsWith("{"))return{uri:h,isOnChain:!0,isEncoded:!1};throw new Js({uri:t})}function xo(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new mf({data:t});return t.image||t.image_url||t.image_data}async function Ef({gatewayUrls:t,uri:e}){try{const n=await fetch(e).then(s=>s.json());return await Ys({gatewayUrls:t,uri:xo(n)})}catch{throw new Js({uri:e})}}async function Ys({gatewayUrls:t,uri:e}){const{uri:n,isOnChain:r}=wo({uri:e,gatewayUrls:t});if(r||await vf(n))return n;throw new Js({uri:e})}function Nf(t){let e=t;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=e.split("/"),[i,a]=n.split(":"),[o,c]=r.split(":");if(!i||i.toLowerCase()!=="eip155")throw new nn({reason:"Only EIP-155 supported"});if(!a)throw new nn({reason:"Chain ID not found"});if(!c)throw new nn({reason:"Contract address not found"});if(!s)throw new nn({reason:"Token ID not found"});if(!o)throw new nn({reason:"ERC namespace not found"});return{chainID:parseInt(a),namespace:o.toLowerCase(),contractAddress:c,tokenID:s}}async function Tf(t,{nft:e}){if(e.namespace==="erc721")return at(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return at(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new gf({namespace:e.namespace})}async function Pf(t,{gatewayUrls:e,record:n}){return/eip155:/i.test(n)?kf(t,{gatewayUrls:e,record:n}):Ys({uri:n,gatewayUrls:e})}async function kf(t,{gatewayUrls:e,record:n}){const r=Nf(n),s=await Tf(t,{nft:r}),{uri:i,isOnChain:a,isEncoded:o}=wo({uri:s,gatewayUrls:e});if(a&&(i.includes("data:application/json;base64,")||i.startsWith("{"))){const l=o?atob(i.replace("data:application/json;base64,","")):i,d=JSON.parse(l);return Ys({uri:xo(d),gatewayUrls:e})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),Ef({gatewayUrls:e,uri:i.replace(/(?:0x)?{id}/,c)})}async function vo(t,{blockNumber:e,blockTag:n,name:r,key:s,universalResolverAddress:i}){let a=i;if(!a){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=Xt({blockNumber:e,chain:t.chain,contract:"ensUniversalResolver"})}try{const o=await B(t,at,"readContract")({address:a,abi:mo,functionName:"resolve",args:[Ke(Cr(r)),$e({abi:zi,functionName:"text",args:[sr(r),s]})],blockNumber:e,blockTag:n});if(o[0]==="0x")return null;const c=Yt({abi:zi,functionName:"text",data:o[0]});return c===""?null:c}catch(o){if(qs(o,"resolve"))return null;throw o}}async function Af(t,{blockNumber:e,blockTag:n,gatewayUrls:r,name:s,universalResolverAddress:i}){const a=await B(t,vo,"getEnsText")({blockNumber:e,blockTag:n,key:"avatar",name:s,universalResolverAddress:i});if(!a)return null;try{return await Pf(t,{record:a,gatewayUrls:r})}catch{return null}}async function If(t,{address:e,blockNumber:n,blockTag:r,universalResolverAddress:s}){let i=s;if(!i){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");i=Xt({blockNumber:n,chain:t.chain,contract:"ensUniversalResolver"})}const a=`${e.toLowerCase().substring(2)}.addr.reverse`;try{const[o,c]=await B(t,at,"readContract")({address:i,abi:Ld,functionName:"reverse",args:[Ke(Cr(a))],blockNumber:n,blockTag:r});return e.toLowerCase()!==c.toLowerCase()?null:o}catch(o){if(qs(o,"reverse"))return null;throw o}}async function Sf(t,{blockNumber:e,blockTag:n,name:r,universalResolverAddress:s}){let i=s;if(!i){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");i=Xt({blockNumber:e,chain:t.chain,contract:"ensUniversalResolver"})}const[a]=await B(t,at,"readContract")({address:i,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[Ke(Cr(r))],blockNumber:e,blockTag:n});return a}async function Of(t){const e=Nr(t,{method:"eth_newBlockFilter"}),n=await t.request({method:"eth_newBlockFilter"});return{id:n,request:e(n),type:"block"}}async function Eo(t,{address:e,args:n,event:r,events:s,fromBlock:i,strict:a,toBlock:o}={}){const c=s??(r?[r]:void 0),l=Nr(t,{method:"eth_newFilter"});let d=[];c&&(d=[c.flatMap(h=>Mn({abi:[h],eventName:h.name,args:n}))],r&&(d=d[0]));const f=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof i=="bigint"?U(i):i,toBlock:typeof o=="bigint"?U(o):o,...d.length?{topics:d}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:i,id:f,request:l(f),strict:a,toBlock:o,type:"event"}}async function No(t){const e=Nr(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}async function Cf(t,{address:e,blockNumber:n,blockTag:r="latest"}){const s=n?U(n):void 0,i=await t.request({method:"eth_getBalance",params:[e,s||r]});return BigInt(i)}async function jf(t,{blockHash:e,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?U(n):void 0;let i;return e?i=await t.request({method:"eth_getBlockTransactionCountByHash",params:[e]}):i=await t.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]}),se(i)}async function Rf(t,{address:e,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?U(n):void 0,i=await t.request({method:"eth_getCode",params:[e,s||r]});if(i!=="0x")return i}function $f(t){var e;return{baseFeePerGas:t.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:(e=t.reward)==null?void 0:e.map(n=>n.map(r=>BigInt(r)))}}async function Ff(t,{blockCount:e,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const i=n?U(n):void 0,a=await t.request({method:"eth_feeHistory",params:[U(e),i||r,s]});return $f(a)}async function Bf(t,{filter:e}){const n=e.strict??!1;return(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(s=>{var i;try{const{eventName:a,args:o}="abi"in e&&e.abi?Dn({abi:e.abi,data:s.data,topics:s.topics,strict:n}):{eventName:void 0,args:void 0};return Ne(s,{args:o,eventName:a})}catch(a){let o,c;if(a instanceof Et||a instanceof Wt){if("strict"in e&&e.strict)return;o=a.abiItem.name,c=(i=a.abiItem.inputs)==null?void 0:i.some(l=>!("name"in l&&l.name))}return Ne(s,{args:c?[]:{},eventName:o})}}).filter(Boolean)}const Mf=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Lf=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Uf({domain:t,message:e,primaryType:n,types:r}){const s=typeof t>"u"?{}:t,i={EIP712Domain:So({domain:s}),...r};Io({domain:s,message:e,primaryType:n,types:i});const a=["0x1901"];return s&&a.push(Df({domain:s,types:i})),n!=="EIP712Domain"&&a.push(To({data:e,primaryType:n,types:i})),oe(Je(a))}function Df({domain:t,types:e}){return To({data:t,primaryType:"EIP712Domain",types:e})}function To({data:t,primaryType:e,types:n}){const r=Po({data:t,primaryType:e,types:n});return oe(r)}function Po({data:t,primaryType:e,types:n}){const r=[{type:"bytes32"}],s=[Gf({primaryType:e,types:n})];for(const i of n[e]){const[a,o]=Ao({types:n,name:i.name,type:i.type,value:t[i.name]});r.push(a),s.push(o)}return Fn(r,s)}function Gf({primaryType:t,types:e}){const n=Ke(_f({primaryType:t,types:e}));return oe(n)}function _f({primaryType:t,types:e}){let n="";const r=ko({primaryType:t,types:e});r.delete(t);const s=[t,...Array.from(r).sort()];for(const i of s)n+=`${i}(${e[i].map(({name:a,type:o})=>`${o} ${a}`).join(",")})`;return n}function ko({primaryType:t,types:e},n=new Set){const r=t.match(/^\w*/u),s=r==null?void 0:r[0];if(n.has(s)||e[s]===void 0)return n;n.add(s);for(const i of e[s])ko({primaryType:i.type,types:e},n);return n}function Ao({types:t,name:e,type:n,value:r}){if(t[n]!==void 0)return[{type:"bytes32"},oe(Po({data:r,primaryType:n,types:t}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},oe(r)];if(n==="string")return[{type:"bytes32"},oe(Ke(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),i=r.map(a=>Ao({name:e,type:s,types:t,value:a}));return[{type:"bytes32"},oe(Fn(i.map(([a])=>a),i.map(([,a])=>a)))]}return[{type:n},r]}function Io({domain:t,message:e,primaryType:n,types:r}){const s=r,i=(a,o)=>{for(const c of a){const{name:l,type:d}=c,f=d,h=o[l],m=f.match(Lf);if(m&&(typeof h=="number"||typeof h=="bigint")){const[w,y,x]=m;U(h,{signed:y==="int",size:parseInt(x)/8})}if(f==="address"&&typeof h=="string"&&!st(h))throw new fn({address:h});const p=f.match(Mf);if(p){const[w,y]=p;if(y&&Z(h)!==parseInt(y))throw new nu({expectedSize:parseInt(y),givenSize:Z(h)})}const b=s[f];b&&i(b,h)}};if(s.EIP712Domain&&t&&i(s.EIP712Domain,t),n!=="EIP712Domain"){const a=s[n];i(a,e)}}function So({domain:t}){return[typeof(t==null?void 0:t.name)=="string"&&{name:"name",type:"string"},(t==null?void 0:t.version)&&{name:"version",type:"string"},typeof(t==null?void 0:t.chainId)=="number"&&{name:"chainId",type:"uint256"},(t==null?void 0:t.verifyingContract)&&{name:"verifyingContract",type:"address"},(t==null?void 0:t.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}const _r="/docs/contract/encodeDeployData";function Oo({abi:t,args:e,bytecode:n}){if(!e||e.length===0)return n;const r=t.find(i=>"type"in i&&i.type==="constructor");if(!r)throw new Jl({docsPath:_r});if(!("inputs"in r))throw new Ri({docsPath:_r});if(!r.inputs||r.inputs.length===0)throw new Ri({docsPath:_r});const s=Fn(r.inputs,e);return js([n,s])}const zf={"0x0":"reverted","0x1":"success"};function Hf(t){return{...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(e=>Ne(e)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?se(t.transactionIndex):null,status:t.status?zf[t.status]:null,type:t.type?oo[t.type]||t.type:null}}const Wf=`Ethereum Signed Message:
`;function Vf(t,e){const n=typeof t=="string"?He(t):t.raw instanceof Uint8Array?t.raw:rt(t.raw),r=He(`${Wf}${n.length}`);return oe(Je([r,n]),e)}function qf(t){return t.map(e=>({...e,value:BigInt(e.value)}))}function Jf(t){return{...t,balance:t.balance?BigInt(t.balance):void 0,nonce:t.nonce?se(t.nonce):void 0,storageProof:t.storageProof?qf(t.storageProof):void 0}}async function Yf(t,{address:e,blockNumber:n,blockTag:r,storageKeys:s}){const i=r??"latest",a=n!==void 0?U(n):void 0,o=await t.request({method:"eth_getProof",params:[e,s,a||i]});return Jf(o)}async function Xf(t,{address:e,blockNumber:n,blockTag:r="latest",slot:s}){const i=n!==void 0?U(n):void 0;return await t.request({method:"eth_getStorageAt",params:[e,s,i||r]})}async function Xs(t,{blockHash:e,blockNumber:n,blockTag:r,hash:s,index:i}){var d,f,h;const a=r||"latest",o=n!==void 0?U(n):void 0;let c=null;if(s?c=await t.request({method:"eth_getTransactionByHash",params:[s]}):e?c=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,U(i)]}):c=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[o||a,U(i)]}),!c)throw new no({blockHash:e,blockNumber:n,blockTag:a,hash:s,index:i});return(((h=(f=(d=t.chain)==null?void 0:d.formatters)==null?void 0:f.transaction)==null?void 0:h.format)||co)(c)}async function Kf(t,{hash:e,transactionReceipt:n}){const[r,s]=await Promise.all([B(t,_n,"getBlockNumber")({}),e?B(t,Xs,"getBlockNumber")({hash:e}):void 0]),i=(n==null?void 0:n.blockNumber)||(s==null?void 0:s.blockNumber);return i?r-i+1n:0n}async function xs(t,{hash:e}){var s,i,a;const n=await t.request({method:"eth_getTransactionReceipt",params:[e]});if(!n)throw new ro({hash:e});return(((a=(i=(s=t.chain)==null?void 0:s.formatters)==null?void 0:i.transactionReceipt)==null?void 0:a.format)||Hf)(n)}async function Zf(t,e){var b;const{allowFailure:n=!0,batchSize:r,blockNumber:s,blockTag:i,contracts:a,multicallAddress:o}=e,c=r??(typeof((b=t.batch)==null?void 0:b.multicall)=="object"&&t.batch.multicall.batchSize||1024);let l=o;if(!l){if(!t.chain)throw new Error("client chain not configured. multicallAddress is required.");l=Xt({blockNumber:s,chain:t.chain,contract:"multicall3"})}const d=[[]];let f=0,h=0;for(let w=0;w<a.length;w++){const{abi:y,address:x,args:P,functionName:N}=a[w];try{const j=$e({abi:y,args:P,functionName:N});h+=(j.length-2)/2,c>0&&h>c&&d[f].length>0&&(f++,h=(j.length-2)/2,d[f]=[]),d[f]=[...d[f],{allowFailure:!0,callData:j,target:x}]}catch(j){const O=In(j,{abi:y,address:x,args:P,docsPath:"/docs/contract/multicall",functionName:N});if(!n)throw O;d[f]=[...d[f],{allowFailure:!0,callData:"0x",target:x}]}}const m=await Promise.allSettled(d.map(w=>B(t,at,"readContract")({abi:ms,address:l,args:[w],blockNumber:s,blockTag:i,functionName:"aggregate3"}))),p=[];for(let w=0;w<m.length;w++){const y=m[w];if(y.status==="rejected"){if(!n)throw y.reason;for(let P=0;P<d[w].length;P++)p.push({status:"failure",error:y.reason,result:void 0});continue}const x=y.value;for(let P=0;P<x.length;P++){const{returnData:N,success:j}=x[P],{callData:O}=d[w][P],{abi:E,address:L,functionName:I,args:S}=a[p.length];try{if(O==="0x")throw new xr;if(!j)throw new Ls({data:N});const G=Yt({abi:E,args:S,data:N,functionName:I});p.push(n?{result:G,status:"success"}:G)}catch(G){const V=In(G,{abi:E,address:L,args:S,docsPath:"/docs/contract/multicall",functionName:I});if(!n)throw V;p.push({error:V,result:void 0,status:"failure"})}}}if(p.length!==a.length)throw new A("multicall results mismatch");return p}const Qf="0x60806040523480156200001157600080fd5b50604051620007003803806200070083398101604081905262000034916200056f565b6000620000438484846200004f565b9050806000526001601ff35b600080846001600160a01b0316803b806020016040519081016040528181526000908060200190933c90507f6492649264926492649264926492649264926492649264926492649264926492620000a68462000451565b036200021f57600060608085806020019051810190620000c79190620005ce565b8651929550909350915060000362000192576000836001600160a01b031683604051620000f5919062000643565b6000604051808303816000865af19150503d806000811462000134576040519150601f19603f3d011682016040523d82523d6000602084013e62000139565b606091505b5050905080620001905760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b505b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90620001c4908b90869060040162000661565b602060405180830381865afa158015620001e2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200020891906200069d565b6001600160e01b031916149450505050506200044a565b805115620002b157604051630b135d3f60e11b808252906001600160a01b03871690631626ba7e9062000259908890889060040162000661565b602060405180830381865afa15801562000277573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200029d91906200069d565b6001600160e01b031916149150506200044a565b8251604114620003195760405162461bcd60e51b815260206004820152603a6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e677468000000000000606482015260840162000187565b620003236200046b565b506020830151604080850151855186939260009185919081106200034b576200034b620006c9565b016020015160f81c9050601b81148015906200036b57508060ff16601c14155b15620003cf5760405162461bcd60e51b815260206004820152603b6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c75650000000000606482015260840162000187565b6040805160008152602081018083528a905260ff83169181019190915260608101849052608081018390526001600160a01b038a169060019060a0016020604051602081039080840390855afa1580156200042e573d6000803e3d6000fd5b505050602060405103516001600160a01b031614955050505050505b9392505050565b60006020825110156200046357600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b03811681146200049f57600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b83811015620004d5578181015183820152602001620004bb565b50506000910152565b600082601f830112620004f057600080fd5b81516001600160401b03808211156200050d576200050d620004a2565b604051601f8301601f19908116603f01168101908282118183101715620005385762000538620004a2565b816040528381528660208588010111156200055257600080fd5b62000565846020830160208901620004b8565b9695505050505050565b6000806000606084860312156200058557600080fd5b8351620005928162000489565b6020850151604086015191945092506001600160401b03811115620005b657600080fd5b620005c486828701620004de565b9150509250925092565b600080600060608486031215620005e457600080fd5b8351620005f18162000489565b60208501519093506001600160401b03808211156200060f57600080fd5b6200061d87838801620004de565b935060408601519150808211156200063457600080fd5b50620005c486828701620004de565b6000825162000657818460208701620004b8565b9190910192915050565b828152604060208201526000825180604084015262000688816060850160208701620004b8565b601f01601f1916919091016060019392505050565b600060208284031215620006b057600080fd5b81516001600160e01b0319811681146200044a57600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */BigInt(0);BigInt(1);BigInt(2);function eh(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function th(t,e){const n=Re(t)?rt(t):t,r=Re(e)?rt(e):e;return eh(n,r)}async function Co(t,{address:e,hash:n,signature:r,...s}){const i=Re(r)?r:Ke(r);try{const{data:a}=await B(t,Ir,"call")({data:Oo({abi:Ud,args:[e,n,i],bytecode:Qf}),...s});return th(a??"0x0","0x1")}catch(a){if(a instanceof so)return!1;throw a}}async function nh(t,{address:e,message:n,signature:r,...s}){const i=Vf(n);return Co(t,{address:e,hash:i,signature:r,...s})}async function rh(t,{address:e,signature:n,message:r,primaryType:s,types:i,domain:a,...o}){const c=Uf({message:r,primaryType:s,types:i,domain:a});return Co(t,{address:e,hash:c,signature:n,...o})}function jo(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:i,pollingInterval:a=t.pollingInterval}){const o=typeof i<"u"?i:t.transport.type!=="webSocket";let c;return o?(()=>{const f=Fe(["watchBlockNumber",t.uid,e,n,a]);return Kt(f,{onBlockNumber:r,onError:s},h=>Gn(async()=>{var m;try{const p=await B(t,_n,"getBlockNumber")({cacheTime:0});if(c){if(p===c)return;if(p-c>1&&n)for(let b=c+1n;b<p;b++)h.onBlockNumber(b,c),c=b}(!c||p>c)&&(h.onBlockNumber(p,c),c=p)}catch(p){(m=h.onError)==null||m.call(h,p)}},{emitOnBegin:e,interval:a}))})():(()=>{let f=!0,h=()=>f=!1;return(async()=>{try{const{unsubscribe:m}=await t.transport.subscribe({params:["newHeads"],onData(p){var w;if(!f)return;const b=vr((w=p.result)==null?void 0:w.number);r(b,c),c=b},onError(p){s==null||s(p)}});h=m,f||h()}catch(m){s==null||s(m)}})(),h})()}async function sh(t,{confirmations:e=1,hash:n,onReplaced:r,pollingInterval:s=t.pollingInterval,timeout:i}){const a=Fe(["waitForTransactionReceipt",t.uid,n]);let o,c,l,d=!1;return new Promise((f,h)=>{i&&setTimeout(()=>h(new vd({hash:n})),i);const m=Kt(a,{onReplaced:r,resolve:f,reject:h},p=>{const b=B(t,jo,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:s,async onBlockNumber(w){if(d)return;let y=w;const x=P=>{b(),P(),m()};try{if(l){if(e>1&&(!l.blockNumber||y-l.blockNumber+1n<e))return;x(()=>p.resolve(l));return}if(o||(d=!0,await ws(async()=>{o=await B(t,Xs,"getTransaction")({hash:n}),o.blockNumber&&(y=o.blockNumber)},{delay:({count:P})=>~~(1<<P)*200,retryCount:6}),d=!1),l=await B(t,xs,"getTransactionReceipt")({hash:n}),e>1&&(!l.blockNumber||y-l.blockNumber+1n<e))return;x(()=>p.resolve(l))}catch(P){if(o&&(P instanceof no||P instanceof ro))try{c=o,d=!0;const N=await ws(()=>B(t,it,"getBlock")({blockNumber:y,includeTransactions:!0}),{delay:({count:E})=>~~(1<<E)*200,retryCount:6,shouldRetry:({error:E})=>E instanceof ao});d=!1;const j=N.transactions.find(({from:E,nonce:L})=>E===c.from&&L===c.nonce);if(!j||(l=await B(t,xs,"getTransactionReceipt")({hash:j.hash}),e>1&&(!l.blockNumber||y-l.blockNumber+1n<e)))return;let O="replaced";j.to===c.to&&j.value===c.value?O="repriced":j.from===j.to&&j.value===0n&&(O="cancelled"),x(()=>{var E;(E=p.onReplaced)==null||E.call(p,{reason:O,replacedTransaction:c,transaction:j,transactionReceipt:l}),p.resolve(l)})}catch(N){x(()=>p.reject(N))}else x(()=>p.reject(P))}}})})})}function ih(t,{blockTag:e="latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:i,includeTransactions:a,poll:o,pollingInterval:c=t.pollingInterval}){const l=typeof o<"u"?o:t.transport.type!=="webSocket",d=a??!1;let f;return l?(()=>{const p=Fe(["watchBlocks",t.uid,n,r,d,c]);return Kt(p,{onBlock:s,onError:i},b=>Gn(async()=>{var w;try{const y=await B(t,it,"getBlock")({blockTag:e,includeTransactions:d});if(y.number&&(f!=null&&f.number)){if(y.number===f.number)return;if(y.number-f.number>1&&n)for(let x=(f==null?void 0:f.number)+1n;x<y.number;x++){const P=await B(t,it,"getBlock")({blockNumber:x,includeTransactions:d});b.onBlock(P,f),f=P}}(!(f!=null&&f.number)||e==="pending"&&!(y!=null&&y.number)||y.number&&y.number>f.number)&&(b.onBlock(y,f),f=y)}catch(y){(w=b.onError)==null||w.call(b,y)}},{emitOnBegin:r,interval:c}))})():(()=>{let p=!0,b=()=>p=!1;return(async()=>{try{const{unsubscribe:w}=await t.transport.subscribe({params:["newHeads"],onData(y){var N,j,O;if(!p)return;const P=(((O=(j=(N=t.chain)==null?void 0:N.formatters)==null?void 0:j.block)==null?void 0:O.format)||lo)(y.result);s(P,f),f=P},onError(y){i==null||i(y)}});b=w,p||b()}catch(w){i==null||i(w)}})(),b})()}function ah(t,{address:e,args:n,batch:r=!0,event:s,events:i,onError:a,onLogs:o,poll:c,pollingInterval:l=t.pollingInterval,strict:d}){const f=typeof c<"u"?c:t.transport.type!=="webSocket",h=d??!1;return f?(()=>{const b=Fe(["watchEvent",e,n,r,t.uid,s,l]);return Kt(b,{onLogs:o,onError:a},w=>{let y,x,P=!1;const N=Gn(async()=>{var j;if(!P){try{x=await B(t,Eo,"createEventFilter")({address:e,args:n,event:s,events:i,strict:h})}catch{}P=!0;return}try{let O;if(x)O=await B(t,Sr,"getFilterChanges")({filter:x});else{const E=await B(t,_n,"getBlockNumber")({});y&&y!==E?O=await B(t,Hs,"getLogs")({address:e,args:n,event:s,events:i,fromBlock:y+1n,toBlock:E}):O=[],y=E}if(O.length===0)return;if(r)w.onLogs(O);else for(const E of O)w.onLogs([E])}catch(O){x&&O instanceof Nt&&(P=!1),(j=w.onError)==null||j.call(w,O)}},{emitOnBegin:!0,interval:l});return async()=>{x&&await B(t,Or,"uninstallFilter")({filter:x}),N()}})})():(()=>{let b=!0,w=()=>b=!1;return(async()=>{try{const y=i??(s?[s]:void 0);let x=[];y&&(x=[y.flatMap(N=>Mn({abi:[N],eventName:N.name,args:n}))],s&&(x=x[0]));const{unsubscribe:P}=await t.transport.subscribe({params:["logs",{address:e,topics:x}],onData(N){var O;if(!b)return;const j=N.result;try{const{eventName:E,args:L}=Dn({abi:y,data:j.data,topics:j.topics,strict:h}),I=Ne(j,{args:L,eventName:E});o([I])}catch(E){let L,I;if(E instanceof Et||E instanceof Wt){if(d)return;L=E.abiItem.name,I=(O=E.abiItem.inputs)==null?void 0:O.some(G=>!("name"in G&&G.name))}const S=Ne(j,{args:I?[]:{},eventName:L});o([S])}},onError(N){a==null||a(N)}});w=P,b||w()}catch(y){a==null||a(y)}})(),w})()}function oh(t,{batch:e=!0,onError:n,onTransactions:r,poll:s,pollingInterval:i=t.pollingInterval}){return(typeof s<"u"?s:t.transport.type!=="webSocket")?(()=>{const l=Fe(["watchPendingTransactions",t.uid,e,i]);return Kt(l,{onTransactions:r,onError:n},d=>{let f;const h=Gn(async()=>{var m;try{if(!f)try{f=await B(t,No,"createPendingTransactionFilter")({});return}catch(b){throw h(),b}const p=await B(t,Sr,"getFilterChanges")({filter:f});if(p.length===0)return;if(e)d.onTransactions(p);else for(const b of p)d.onTransactions([b])}catch(p){(m=d.onError)==null||m.call(d,p)}},{emitOnBegin:!0,interval:i});return async()=>{f&&await B(t,Or,"uninstallFilter")({filter:f}),h()}})})():(()=>{let l=!0,d=()=>l=!1;return(async()=>{try{const{unsubscribe:f}=await t.transport.subscribe({params:["newPendingTransactions"],onData(h){if(!l)return;const m=h.result;r([m])},onError(h){n==null||n(h)}});d=f,l||d()}catch(f){n==null||n(f)}})(),d})()}function ch(t){return{call:e=>Ir(t,e),createBlockFilter:()=>Of(t),createContractEventFilter:e=>Za(t,e),createEventFilter:e=>Eo(t,e),createPendingTransactionFilter:()=>No(t),estimateContractGas:e=>Bd(t,e),estimateGas:e=>zs(t,e),getBalance:e=>Cf(t,e),getBlock:e=>it(t,e),getBlockNumber:e=>_n(t,e),getBlockTransactionCount:e=>jf(t,e),getBytecode:e=>Rf(t,e),getChainId:()=>Sn(t),getContractEvents:e=>ho(t,e),getEnsAddress:e=>pf(t,e),getEnsAvatar:e=>Af(t,e),getEnsName:e=>If(t,e),getEnsResolver:e=>Sf(t,e),getEnsText:e=>vo(t,e),getFeeHistory:e=>Ff(t,e),estimateFeesPerGas:e=>$d(t,e),getFilterChanges:e=>Sr(t,e),getFilterLogs:e=>Bf(t,e),getGasPrice:()=>_s(t),getLogs:e=>Hs(t,e),getProof:e=>Yf(t,e),estimateMaxPriorityFeePerGas:e=>Rd(t,e),getStorageAt:e=>Xf(t,e),getTransaction:e=>Xs(t,e),getTransactionConfirmations:e=>Kf(t,e),getTransactionCount:e=>fo(t,e),getTransactionReceipt:e=>xs(t,e),multicall:e=>Zf(t,e),prepareTransactionRequest:e=>Ar(t,e),readContract:e=>at(t,e),sendRawTransaction:e=>Ws(t,e),simulateContract:e=>Jd(t,e),verifyMessage:e=>nh(t,e),verifyTypedData:e=>rh(t,e),uninstallFilter:e=>Or(t,e),waitForTransactionReceipt:e=>sh(t,e),watchBlocks:e=>ih(t,e),watchBlockNumber:e=>jo(t,e),watchContractEvent:e=>tf(t,e),watchEvent:e=>ah(t,e),watchPendingTransactions:e=>oh(t,e)}}function lh(t,{abi:e,args:n,bytecode:r,...s}){const i=Oo({abi:e,args:n,bytecode:r});return Vs(t,{...s,data:i})}async function uh(t){var n;return((n=t.account)==null?void 0:n.type)==="local"?[t.account.address]:(await t.request({method:"eth_accounts"})).map(r=>Bs(r))}async function dh(t){return await t.request({method:"wallet_getPermissions"})}async function fh(t){return(await t.request({method:"eth_requestAccounts"})).map(n=>ad(n))}async function hh(t,e){return t.request({method:"wallet_requestPermissions",params:[e]})}async function ph(t,{account:e=t.account,message:n}){if(!e)throw new Jt({docsPath:"/docs/actions/wallet/signMessage"});const r=ye(e);if(r.type==="local")return r.signMessage({message:n});const s=typeof n=="string"?Is(n):n.raw instanceof Uint8Array?Ke(n.raw):n.raw;return t.request({method:"personal_sign",params:[s,r.address]})}async function mh(t,e){var l,d,f,h;const{account:n=t.account,chain:r=t.chain,...s}=e;if(!n)throw new Jt({docsPath:"/docs/actions/wallet/signTransaction"});const i=ye(n);Un({account:i,...e});const a=await B(t,Sn,"getChainId")({});r!==null&&bo({currentChainId:a,chain:r});const o=(r==null?void 0:r.formatters)||((l=t.chain)==null?void 0:l.formatters),c=((d=o==null?void 0:o.transactionRequest)==null?void 0:d.format)||kr;return i.type==="local"?i.signTransaction({...s,chainId:a},{serializer:(h=(f=t.chain)==null?void 0:f.serializers)==null?void 0:h.transaction}):await t.request({method:"eth_signTransaction",params:[{...c(s),chainId:U(a),from:i.address}]})}async function gh(t,{account:e=t.account,domain:n,message:r,primaryType:s,types:i}){if(!e)throw new Jt({docsPath:"/docs/actions/wallet/signTypedData"});const a=ye(e),o={EIP712Domain:So({domain:n}),...i};if(Io({domain:n,message:r,primaryType:s,types:o}),a.type==="local")return a.signTypedData({domain:n,primaryType:s,types:o,message:r});const c=Fe({domain:n??{},primaryType:s,types:o,message:r},(l,d)=>Re(d)?d.toLowerCase():d);return t.request({method:"eth_signTypedData_v4",params:[a.address,c]})}async function bh(t,{id:e}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:U(e)}]})}async function yh(t,e){return await t.request({method:"wallet_watchAsset",params:e})}function wh(t){return{addChain:e=>sf(t,e),deployContract:e=>lh(t,e),getAddresses:()=>uh(t),getChainId:()=>Sn(t),getPermissions:()=>dh(t),prepareTransactionRequest:e=>Ar(t,e),requestAddresses:()=>fh(t),requestPermissions:e=>hh(t,e),sendRawTransaction:e=>Ws(t,e),sendTransaction:e=>Vs(t,e),signMessage:e=>ph(t,e),signTransaction:e=>mh(t,e),signTypedData:e=>gh(t,e),switchChain:e=>bh(t,e),watchAsset:e=>yh(t,e),writeContract:e=>rf(t,e)}}function xh(t){const{key:e="wallet",name:n="Wallet Client",transport:r}=t;return of({...t,key:e,name:n,transport:i=>r({...i,retryCount:0}),type:"walletClient"}).extend(wh)}const rn={local:{id:31337,name:"Local Hardhat",rpcUrl:"http://127.0.0.1:8545",contracts:{updater:"0xb34cac1135c27ec810e7e6880325085783c1a7e0",faucet:"0x76b71a17d82232fd29aca475d14ed596c67c4b85"},blockTime:2e3,gasLimit:100000n,sendMethod:"eth_sendRawTransaction"},megaeth:{id:6342,name:"MegaETH Testnet",rpcUrl:"https://megaeth-testnet.rpc.caldera.xyz/http",contracts:{updater:"0xb34cac1135c27ec810e7e6880325085783c1a7e0",faucet:"0x76b71a17d82232fd29aca475d14ed596c67c4b85"},blockTime:100,gasLimit:100000n,sendMethod:"realtime_sendRawTransaction"},base:{id:84532,name:"Base Sepolia",rpcUrl:"https://sepolia.base.org",contracts:{updater:"0xb34cac1135c27ec810e7e6880325085783c1a7e0",faucet:"0x76b71a17d82232fd29aca475d14ed596c67c4b85"},blockTime:2e3,gasLimit:100000n,sendMethod:"eth_sendRawTransaction"}},zr=[{name:"update",type:"function",stateMutability:"nonpayable",inputs:[],outputs:[]},{name:"number",type:"function",stateMutability:"view",inputs:[],outputs:[{name:"",type:"uint256"}]}];class vh{constructor(){this.clientCache={},this.gasParams={},this.preSignedPool={},this.metrics={totalTransactions:0,averageTime:0,networkStats:{}},this.isInitialized=!1,this.currentWallet=null}async initializeOptimized(e,n="local",r=20){try{console.log(`🚀 Инициализация оптимизированной системы для ${n}...`);const s=performance.now();this.currentWallet=e,await this.switchToChain(n),await this.createCachedClient(n),await this.cacheGasParams(n),await this.preSignBatch(n,r),this.isInitialized=!0;const i=performance.now()-s;return console.log(`✅ Система инициализирована за ${i.toFixed(2)}ms`),console.log(`📦 Предподписано ${r} транзакций для мгновенной отправки`),!0}catch(s){throw console.error("❌ Ошибка инициализации:",s),s}}async switchToChain(e){const n=rn[e];if(!n)throw new Error(`Неизвестная сеть: ${e}`);try{(await(await this.currentWallet.getEthersProvider()).getNetwork()).chainId!==n.id&&(console.log(`🔄 Переключение на сеть ${n.name}...`),await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:`0x${n.id.toString(16)}`}]}),await new Promise(i=>setTimeout(i,1e3)))}catch(r){console.warn("Не удалось переключить сеть через wallet_switchEthereumChain:",r)}}async createCachedClient(e){if(this.clientCache[e])return this.clientCache[e];const n=rn[e],r=await this.currentWallet.getEthersProvider(),s=xh({transport:df(r)}).extend(ch);return this.clientCache[e]=s,console.log(`🔧 Создан и кеширован клиент для ${n.name}`),s}async cacheGasParams(e){if(this.gasParams[e])return this.gasParams[e];const n=this.clientCache[e];try{const r=await n.getGasPrice(),s={maxFeePerGas:r*120n/100n,maxPriorityFeePerGas:r*10n/100n,gasPrice:r};return this.gasParams[e]=s,console.log(`⛽ Кеширован газ для ${e}: ${s.maxFeePerGas.toString()}`),s}catch{console.warn("Не удалось получить газовые параметры, используем значения по умолчанию");const s={maxFeePerGas:20000000000n,maxPriorityFeePerGas:1000000000n,gasPrice:20000000000n};return this.gasParams[e]=s,s}}async preSignBatch(e,n){const r=this.clientCache[e],s=rn[e],i=this.gasParams[e];try{const o=(await r.getAddresses())[0],c=await r.getTransactionCount({address:o,blockTag:"pending"});console.log(`📝 Предподписание ${n} транзакций, начиная с nonce ${c}...`);const l=$e({abi:zr,functionName:"update",args:[]}),d=[];for(let f=0;f<n;f++){const h={account:o,to:s.contracts.updater,data:l,nonce:c+f,maxFeePerGas:i.maxFeePerGas,maxPriorityFeePerGas:i.maxPriorityFeePerGas,value:0n,type:"eip1559",gas:s.gasLimit},m=await r.signTransaction(h);d.push(m)}return this.preSignedPool[e]={transactions:d,currentIndex:0,baseNonce:c,hasTriggeredRefill:!1},console.log(`✅ Предподписано ${n} транзакций для ${e}`),!0}catch(a){throw console.error("❌ Ошибка предподписания:",a),a}}getNextTransaction(e){const n=this.preSignedPool[e];if(!n||n.currentIndex>=n.transactions.length)throw new Error(`Пул транзакций для ${e} пуст или исчерпан`);const r=n.transactions[n.currentIndex];return n.currentIndex++,n.currentIndex>=n.transactions.length/2&&!n.hasTriggeredRefill&&(n.hasTriggeredRefill=!0,console.log(`🔄 Запуск автодозаправки пула для ${e}...`),this.extendPool(e,n.baseNonce+n.transactions.length,10).then(()=>{console.log(`✅ Пул ${e} успешно дозаправлен`),n.hasTriggeredRefill=!1}).catch(s=>{console.error(`❌ Ошибка дозаправки пула ${e}:`,s),n.hasTriggeredRefill=!1})),r}async extendPool(e,n,r){const s=this.clientCache[e],i=rn[e],a=this.gasParams[e];try{const c=(await s.getAddresses())[0],l=$e({abi:zr,functionName:"update",args:[]}),d=[];for(let f=0;f<r;f++){const h={account:c,to:i.contracts.updater,data:l,nonce:n+f,maxFeePerGas:a.maxFeePerGas,maxPriorityFeePerGas:a.maxPriorityFeePerGas,value:0n,type:"eip1559",gas:i.gasLimit},m=await s.signTransaction(h);d.push(m)}return this.preSignedPool[e].transactions.push(...d),!0}catch(o){throw console.error("Ошибка дозаправки пула:",o),o}}async sendPlayerAction(e){if(!this.isInitialized)throw new Error("Система не инициализирована. Вызовите initializeOptimized() сначала.");const n=performance.now();try{let r;switch(e){case"megaeth":r=await this.sendMegaethTransaction(n);break;case"base":r=await this.sendBaseTransaction(n);break;default:r=await this.sendRegularTransaction(e,n)}return this.updateMetrics(e,r),r}catch(r){throw console.error(`❌ Ошибка отправки действия для ${e}:`,r),r}}async sendMegaethTransaction(e){const n=this.clientCache.megaeth,r=this.getNextTransaction("megaeth");try{const s=await n.request({method:"realtime_sendRawTransaction",params:[r]}),i=performance.now()-e;return console.log(`⚡ MegaETH транзакция отправлена за ${i.toFixed(2)}ms`),i}catch{return console.warn("Fallback на обычную отправку для MegaETH"),await this.sendRegularTransaction("megaeth",e)}}async sendBaseTransaction(e){const n=this.clientCache.base,r=this.getNextTransaction("base"),s=await n.sendRawTransaction({serializedTransaction:r}),i=performance.now()-e;return console.log(`🔵 Base транзакция отправлена за ${i.toFixed(2)}ms, hash: ${s}`),i}async sendRegularTransaction(e,n){const r=this.clientCache[e],s=this.getNextTransaction(e),i=await r.sendRawTransaction({serializedTransaction:s});if(e==="local"){const o=await r.waitForTransactionReceipt({hash:i});console.log(`📋 Транзакция подтверждена в блоке ${o.blockNumber}`)}const a=performance.now()-n;return console.log(`🔗 ${e} транзакция отправлена за ${a.toFixed(2)}ms, hash: ${i}`),a}updateMetrics(e,n){this.metrics.totalTransactions++,this.metrics.averageTime=(this.metrics.averageTime*(this.metrics.totalTransactions-1)+n)/this.metrics.totalTransactions,this.metrics.networkStats[e]||(this.metrics.networkStats[e]={count:0,averageTime:0,minTime:1/0,maxTime:0});const r=this.metrics.networkStats[e];r.count++,r.averageTime=(r.averageTime*(r.count-1)+n)/r.count,r.minTime=Math.min(r.minTime,n),r.maxTime=Math.max(r.maxTime,n)}async getCurrentNumber(e){const n=this.clientCache[e],r=rn[e];try{const s=await n.readContract({address:r.contracts.updater,abi:zr,functionName:"number"});return Number(s)}catch(s){return console.error("Ошибка чтения контракта:",s),null}}getPerformanceStats(){return{...this.metrics,poolStatus:Object.keys(this.preSignedPool).reduce((e,n)=>{const r=this.preSignedPool[n];return e[n]={total:r.transactions.length,used:r.currentIndex,remaining:r.transactions.length-r.currentIndex},e},{})}}reset(){this.clientCache={},this.gasParams={},this.preSignedPool={},this.metrics={totalTransactions:0,averageTime:0,networkStats:{}},this.isInitialized=!1,this.currentWallet=null,console.log("🔄 Система сброшена")}}const At=new vh,Ks=()=>{const[t,e]=F.useState(!1),[n,r]=F.useState("local"),[s,i]=F.useState(!1),[a,o]=F.useState(null),[c,l]=F.useState(null),[d,f]=F.useState({lastTransactionTime:null,transactionsThisSession:0,averageTimeThisSession:0}),[h,m]=F.useState({currentNumber:0,isReading:!1}),{ready:p,authenticated:b,user:w}=$n(),y=F.useRef({startTime:null,transactionTimes:[]}),x=F.useCallback(async(S="local",G=20)=>{if(!p||!b||!(w!=null&&w.wallet))return console.warn("Privy не готов для инициализации blockchain системы"),!1;i(!0),o(null);try{return console.log("🎯 Инициализация оптимизированной системы для игры..."),await At.initializeOptimized(w.wallet,S,G),e(!0),r(S),y.current={startTime:Date.now(),transactionTimes:[]},f({lastTransactionTime:null,transactionsThisSession:0,averageTimeThisSession:0}),console.log("✅ Система готова к отправке действий игрока в блокчейн!"),await j(),!0}catch(V){return console.error("❌ Ошибка инициализации системы:",V),o(V.message),!1}finally{i(!1)}},[p,b,w]),P=F.useCallback(async()=>{if(!t)throw new Error("Система не инициализирована");try{const S=performance.now(),G=await At.sendPlayerAction(n),V=performance.now()-S;y.current.transactionTimes.push(G);const $=y.current.transactionTimes.reduce((Q,R)=>Q+R,0)/y.current.transactionTimes.length;f(Q=>({lastTransactionTime:G,transactionsThisSession:Q.transactionsThisSession+1,averageTimeThisSession:$}));const k=At.getPerformanceStats();return l(k),console.log(`🎮 Действие игрока отправлено за ${G.toFixed(2)}ms`),{success:!0,executionTime:G,totalActionTime:V,transactionHash:null}}catch(S){return console.error("❌ Ошибка отправки действия игрока:",S),o(S.message),{success:!1,error:S.message,executionTime:null}}},[t,n]),N=F.useCallback(async(S,G=20)=>{if(S===n)return console.log(`Уже подключен к сети ${S}`),!0;i(!0);try{At.reset(),e(!1);const V=await x(S,G);return V&&console.log(`🔄 Успешно переключились на ${S}`),V}catch(V){return console.error("❌ Ошибка переключения сети:",V),o(V.message),!1}finally{i(!1)}},[n,x]),j=F.useCallback(async()=>{if(t){m(S=>({...S,isReading:!0}));try{const S=await At.getCurrentNumber(n);m({currentNumber:S||0,isReading:!1})}catch(S){console.warn("Не удалось обновить состояние контракта:",S),m(G=>({...G,isReading:!1}))}}},[t,n]);F.useEffect(()=>{if(!t)return;const S=setInterval(j,5e3);return()=>clearInterval(S)},[t,j]);const O=F.useCallback(()=>[{key:"local",name:"Local Hardhat",description:"Локальная тестовая сеть",icon:"🏠",blockTime:"2s"},{key:"megaeth",name:"MegaETH Testnet",description:"Сверхбыстрая сеть 100k TPS",icon:"⚡",blockTime:"100ms"},{key:"base",name:"Base Sepolia",description:"Base L2 тестовая сеть",icon:"🔵",blockTime:"2s"}],[]),E=F.useCallback(()=>p&&b&&(w==null?void 0:w.wallet)&&t,[p,b,w,t]),L=F.useCallback(()=>{if(!(c!=null&&c.poolStatus))return null;const S=c.poolStatus[n];return S?{...S,utilizationPercent:Math.round(S.used/S.total*100),needsRefill:S.remaining<S.total*.3}:null},[c,n]),I=F.useCallback(()=>{At.reset(),e(!1),o(null),l(null),f({lastTransactionTime:null,transactionsThisSession:0,averageTimeThisSession:0}),m({currentNumber:0,isReading:!1}),y.current={startTime:null,transactionTimes:[]},console.log("🔄 Система сброшена")},[]);return F.useEffect(()=>()=>{t&&I()},[]),{initializeSystem:x,sendPlayerAction:P,switchNetwork:N,updateContractState:j,resetSystem:I,isInitialized:t,currentNetwork:n,isLoading:s,error:a,isSystemReady:E(),performanceStats:c,realtimeStats:d,contractState:h,poolInfo:L(),availableNetworks:O(),sessionDuration:y.current.startTime?Date.now()-y.current.startTime:0}},Eh=({selectedNetwork:t})=>{const e=F.useRef(null),n=F.useRef({}),{user:r,authenticated:s}=$n(),{wallets:i}=Ji(),{initializeSystem:a,sendPlayerAction:o,isSystemReady:c,realtimeStats:l,contractState:d}=Ks(),[f,h]=F.useState({initialized:!1,networkName:(t==null?void 0:t.name)||"Unknown",contractAvailable:!1,pendingTransactions:0,totalMovements:0,onChainScore:0,optimizedSystemReady:!1,lastTransactionTime:null}),m=1,p=1e-5,b=800,w=200,y=88/1.5,x=94/1.5,P=w,N=150,j=2400,O=24,E=.5,L=[{width:48/1.5,height:100/1.5,imageSrc:"assets/carrot_1.png"},{width:98/1.5,height:100/1.5,imageSrc:"assets/carrot_2.png"},{width:68/1.5,height:70/1.5,imageSrc:"assets/carrot_3.png"}],I=async()=>{if(!s||!i||i.length===0||!t){h($=>({...$,initialized:!1}));return}try{const $=i[0];try{await $.switchChain(t.id),console.log(`Switched to ${t.name}`)}catch(jr){console.warn(`Failed to switch to ${t.name}:`,jr)}const k=await Xn.initialize($);let Q="local";t.id===6342?Q="megaeth":t.id===84532&&(Q="base"),console.log(`🚀 Инициализация оптимизированной blockchain системы для ${t.name}...`);const R=await a(Q,30);h({initialized:k,networkName:t.name,contractAvailable:Xn.isContractAvailable(),pendingTransactions:0,totalMovements:0,onChainScore:d.currentNumber||0,optimizedSystemReady:R,lastTransactionTime:null}),console.log(R?"✅ Оптимизированная система готова! Каждый прыжок будет отправлен в блокчейн за ~1-10ms!":"⚠️ Используем fallback систему"),k&&Xn.isContractAvailable()&&await Xn.startGame()}catch($){console.error("Failed to initialize blockchain:",$),h(k=>({...k,initialized:!1,networkName:t.name}))}},S=async()=>{if(!c){console.log("🎮 Optimized blockchain system not ready yet");return}try{const $=performance.now(),k=await o();k.success?(h(Q=>({...Q,totalMovements:Q.totalMovements+1,lastTransactionTime:k.executionTime,onChainScore:d.currentNumber||Q.onChainScore})),console.log(`🚀 Прыжок отправлен в блокчейн за ${k.executionTime.toFixed(2)}ms!`)):console.error("❌ Ошибка отправки прыжка:",k.error)}catch($){console.error("❌ Критическая ошибка при отправке прыжка:",$)}},G=()=>{if(t&&t.isWeb2)return{identifier:"CLASSIC PLAYER",address:null,isWeb2:!0};if(!s||!r)return null;const $=V();return $?{identifier:`${$.slice(0,6)}...${$.slice(-4)}`,address:$}:r.email?{identifier:r.email.split("@")[0],address:null}:null},V=()=>{var $;return!s||!i||i.length===0?null:(($=i[0])==null?void 0:$.address)||null};return F.useEffect(()=>{if(t&&t.isWeb2){h({initialized:!1,networkName:t.name,contractAvailable:!1,pendingTransactions:0,totalMovements:0,onChainScore:0});return}I()},[s,r,t]),F.useEffect(()=>{const $=e.current;if(!$)return;const k=$.getContext("2d");let Q;k.imageSmoothingEnabled=!1,k.webkitImageSmoothingEnabled=!1,k.mozImageSmoothingEnabled=!1,k.msImageSmoothingEnabled=!1;const R=n.current;Object.assign(R,{scaleRatio:null,previousTime:null,gameSpeed:m,gameOver:!1,hasAddedEventListenersForRestart:!1,waitingToStart:!0});function jr(){const H=y*R.scaleRatio,Y=x*R.scaleRatio,me=N*R.scaleRatio,Pe=P*R.scaleRatio,we=j*R.scaleRatio,Do=O*R.scaleRatio;R.player=new Yo(k,H,Y,me,Pe,R.scaleRatio,t&&!t.isWeb2?S:null),R.ground=new Xo(k,we,Do,E,R.scaleRatio);const Go=L.map(Hn=>{const $r=new Image;return $r.src=Hn.imageSrc,$r.onerror=()=>console.error(`Failed to load ${Hn.imageSrc}`),{image:$r,width:Hn.width*R.scaleRatio,height:Hn.height*R.scaleRatio}});R.carrotController=new Zo(k,Go,R.scaleRatio,E),R.score=new Qo(k,R.scaleRatio)}function zn(){R.scaleRatio=Ro(),$.width=b*R.scaleRatio,$.height=w*R.scaleRatio,jr()}function Ro(){const H=Math.min(window.innerHeight,document.documentElement.clientHeight),Y=Math.min(window.innerWidth,document.documentElement.clientWidth);return Y/H<b/w?Y/b:H/w}function $o(){const H=Math.floor(R.scaleRatio*32);k.font=`${H}px monospace`,k.fillStyle="#ef5435",k.textAlign="center",k.shadowColor="#ef5435",k.shadowBlur=10,k.fillText("GAME OVER",$.width/2,$.height/2-H),k.shadowBlur=0;const Y=Math.floor(R.scaleRatio*16);k.font=`${Y}px monospace`,k.fillStyle="#929397",k.fillText("> PRESS ANY KEY TO RESTART",$.width/2,$.height/2+Y);const me=G();if(me){const Pe=Math.floor(R.scaleRatio*12);k.font=`${Pe}px monospace`,k.fillStyle="#1391ff",k.fillText(`> PILOT: ${me.identifier}`,$.width/2,$.height/2+Y+Pe+20),k.fillStyle="#929397",k.fillText(`> NETWORK: ${f.networkName}`,$.width/2,$.height/2+Y+Pe*2+25),f.totalMovements>0&&k.fillText(`> ON-CHAIN MOVES: ${f.totalMovements}`,$.width/2,$.height/2+Y+Pe*3+30)}}function Fo(){const H=Math.floor(R.scaleRatio*24);k.font=`${H}px monospace`,k.fillStyle="#929397",k.textAlign="center",k.shadowColor="#929397",k.shadowBlur=5,k.fillText("> PRESS ANY KEY TO START MISSION",$.width/2,$.height/2),k.shadowBlur=0;const Y=G(),me=Math.floor(R.scaleRatio*12);k.font=`${me}px monospace`,Y?(k.fillStyle="#1391ff",k.shadowColor="#1391ff",k.shadowBlur=3,k.fillText(`> PILOT AUTHENTICATED: ${Y.identifier}`,$.width/2,$.height/2+H+20),k.shadowBlur=0,k.fillStyle="#929397",k.fillText(`> TARGET NETWORK: ${f.networkName}`,$.width/2,$.height/2+H+me+25),f.initialized?(k.fillStyle="#28a745",k.fillText("> BLOCKCHAIN CONNECTION: ACTIVE",$.width/2,$.height/2+H+me*2+30)):(k.fillStyle="#ffc107",k.fillText("> BLOCKCHAIN CONNECTION: SIMULATED MODE",$.width/2,$.height/2+H+me*2+30))):(k.fillStyle="#ef5435",k.fillText("> WARNING: NO PILOT AUTHENTICATED",$.width/2,$.height/2+H+20))}function Bo(){const H=k.createLinearGradient(0,0,0,$.height);H.addColorStop(0,"#121218"),H.addColorStop(.5,"#1a1a2e"),H.addColorStop(1,"#16213e"),k.fillStyle=H,k.fillRect(0,0,$.width,$.height),k.strokeStyle="rgba(146, 147, 151, 0.1)",k.lineWidth=1;const Y=20*R.scaleRatio;for(let we=0;we<$.width;we+=Y)k.beginPath(),k.moveTo(we,0),k.lineTo(we,$.height),k.stroke();for(let we=0;we<$.height;we+=Y)k.beginPath(),k.moveTo(0,we),k.lineTo($.width,we),k.stroke();const me=Date.now()/20%$.height;k.strokeStyle="rgba(19, 145, 255, 0.3)",k.lineWidth=2,k.beginPath(),k.moveTo(0,me),k.lineTo($.width,me),k.stroke();const Pe=k.createLinearGradient(0,0,0,$.height*.3);Pe.addColorStop(0,"rgba(19, 145, 255, 0.1)"),Pe.addColorStop(1,"transparent"),k.fillStyle=Pe,k.fillRect(0,0,$.width,$.height*.3)}function Mo(){R.hasAddedEventListenersForRestart||(R.hasAddedEventListenersForRestart=!0,setTimeout(()=>{const H=()=>{ei(),document.removeEventListener("keyup",H),document.removeEventListener("touchstart",H)};document.addEventListener("keyup",H),document.addEventListener("touchstart",H)},1e3))}function ei(){R.hasAddedEventListenersForRestart=!1,R.gameOver=!1,R.waitingToStart=!1,R.ground.reset(),R.carrotController.reset(),R.score.reset(),R.gameSpeed=m}function Lo(H){R.gameSpeed+=H*p}function Uo(){return R.carrotController.collideWith(R.player)}function Rr(H){if(R.previousTime===null){R.previousTime=H,Q=requestAnimationFrame(Rr);return}const Y=H-R.previousTime;R.previousTime=H,Bo(),!R.gameOver&&!R.waitingToStart&&(R.ground.update(R.gameSpeed,Y),R.carrotController.update(R.gameSpeed,Y),R.player.update(R.gameSpeed,Y),R.score.update(Y),Lo(Y),Uo()&&(R.gameOver=!0,Mo())),R.ground.draw(),R.carrotController.draw(),R.player.draw(),R.score.draw(),R.gameOver&&$o(),R.waitingToStart&&Fo(),Q=requestAnimationFrame(Rr)}zn();const ti=()=>setTimeout(zn,500);window.addEventListener("resize",ti),screen.orientation&&screen.orientation.addEventListener("change",zn);const Pt=()=>{ei(),document.removeEventListener("keyup",Pt),document.removeEventListener("touchstart",Pt)};return document.addEventListener("keyup",Pt),document.addEventListener("touchstart",Pt),Q=requestAnimationFrame(Rr),()=>{Q&&cancelAnimationFrame(Q),window.removeEventListener("resize",ti),screen.orientation&&screen.orientation.removeEventListener("change",zn),document.removeEventListener("keyup",Pt),document.removeEventListener("touchstart",Pt)}},[s,r,t]),u.jsxs("div",{className:"game-canvas-container",children:[u.jsx("canvas",{ref:e,id:"game",className:"game-canvas"}),u.jsx("div",{className:"game-ui-overlay",children:t&&!t.isWeb2&&u.jsxs("div",{className:"blockchain-status",children:[u.jsxs("div",{className:"status-header",children:[u.jsx("span",{className:`status-indicator ${c?"ready":"not-ready"}`,children:c?"🚀":"⏳"}),u.jsx("span",{className:"network-name",children:f.networkName})]}),c&&u.jsxs("div",{className:"blockchain-stats",children:[u.jsxs("div",{className:"stat-item",children:[u.jsx("span",{className:"stat-label",children:"Прыжков:"}),u.jsx("span",{className:"stat-value",children:f.totalMovements})]}),f.lastTransactionTime&&u.jsxs("div",{className:"stat-item",children:[u.jsx("span",{className:"stat-label",children:"Последний прыжок:"}),u.jsxs("span",{className:"stat-value",children:[f.lastTransactionTime.toFixed(2),"ms"]})]}),l.averageTimeThisSession>0&&u.jsxs("div",{className:"stat-item",children:[u.jsx("span",{className:"stat-label",children:"Среднее время:"}),u.jsxs("span",{className:"stat-value",children:[l.averageTimeThisSession.toFixed(2),"ms"]})]}),u.jsxs("div",{className:"stat-item",children:[u.jsx("span",{className:"stat-label",children:"Счетчик контракта:"}),u.jsx("span",{className:"stat-value",children:d.currentNumber||0})]})]}),!c&&u.jsx("div",{className:"status-message",children:"Инициализация blockchain системы..."})]})}),u.jsx("style",{jsx:!0,children:`
        .game-canvas-container {
          position: relative;
          width: 100%;
          height: 100%;
        }
        
        .game-ui-overlay {
          position: absolute;
          top: 20px;
          right: 20px;
          z-index: 10;
        }
        
        .blockchain-status {
          background: rgba(0, 0, 0, 0.8);
          border: 2px solid #1391ff;
          border-radius: 8px;
          padding: 12px;
          min-width: 200px;
          font-family: 'Courier New', monospace;
          color: white;
          font-size: 12px;
        }
        
        .status-header {
          display: flex;
          align-items: center;
          gap: 8px;
          margin-bottom: 8px;
          font-weight: bold;
        }
        
        .status-indicator.ready {
          color: #4ade80;
        }
        
        .status-indicator.not-ready {
          color: #fbbf24;
        }
        
        .network-name {
          color: #1391ff;
        }
        
        .blockchain-stats {
          display: flex;
          flex-direction: column;
          gap: 4px;
        }
        
        .stat-item {
          display: flex;
          justify-content: space-between;
          align-items: center;
        }
        
        .stat-label {
          color: #929397;
        }
        
        .stat-value {
          color: #4ade80;
          font-weight: bold;
        }
        
        .status-message {
          color: #fbbf24;
          font-style: italic;
          text-align: center;
        }
        
        @media (max-width: 768px) {
          .game-ui-overlay {
            top: 10px;
            right: 10px;
          }
          
          .blockchain-status {
            font-size: 10px;
            padding: 8px;
            min-width: 150px;
          }
        }
      `})]})},Nh=({selectedNetwork:t,onDisconnect:e,disableNetworkControls:n=!1})=>{var O;const{user:r,authenticated:s,ready:i}=$n(),{login:a}=vs(),{logout:o}=Wo(),{wallets:c}=Ji(),[l,d]=F.useState(!1),[f,h]=F.useState(!1),m=[{id:6342,name:"MegaETH Testnet",emoji:"⚡"},{id:84532,name:"Base Sepolia",emoji:"🔵"},{id:10143,name:"Monad Testnet",emoji:"🟣"}];F.useEffect(()=>{(async()=>{if(s&&c&&c.length>0&&t&&!f)try{await c[0].getChainId()!==t.id&&(console.log(`Auto-switching to ${t.name}...`),h(!0),await b(t.id))}catch(L){console.warn("Auto network switch failed:",L)}finally{h(!1)}})()},[s,c,t]);const p=()=>{s?(o(),e&&e()):a()},b=async E=>{var L;if(!(!c||c.length===0)){h(!0);try{const I=c[0],S=((L=m.find(G=>G.id===E))==null?void 0:L.name)||"Unknown Network";try{await I.switchChain(E),d(!1),console.log(`Successfully switched to ${S}`);return}catch(G){console.log(`Network ${S} not found, attempting to add it...`,G);const V=w(E);if(V)console.log(`Adding network ${S} to wallet...`),await y(I,V),await new Promise($=>setTimeout($,1e3)),console.log(`Switching to ${S}...`),await I.switchChain(E),d(!1),console.log(`Successfully added and switched to ${S}`);else throw new Error(`Network configuration not found for chain ID ${E}`)}}catch(I){console.error("Failed to switch network:",I);let S="Failed to switch network. ";I.message.includes("rejected")?S+="User cancelled the operation.":I.message.includes("already pending")?S+="Another network operation is in progress. Please wait and try again.":S+="Please try again or add the network manually.",alert(S)}finally{h(!1)}}},w=E=>({6342:{chainId:"0x18C6",chainName:"MegaETH Testnet",rpcUrls:["https://carrot.megaeth.com/rpc"],nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockExplorerUrls:["https://carrot.megaeth.com"]},84532:{chainId:"0x14A34",chainName:"Base Sepolia",rpcUrls:["https://sepolia.base.org"],nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockExplorerUrls:["https://sepolia.basescan.org"]},10143:{chainId:"0x279F",chainName:"Monad Testnet",rpcUrls:["https://testnet-rpc.monad.xyz"],nativeCurrency:{name:"Monad",symbol:"MON",decimals:18},blockExplorerUrls:["https://testnet.monadexplorer.com"]}})[E],y=async(E,L)=>{try{await(await E.getEthersProvider()).send("wallet_addEthereumChain",[L])}catch(I){if(I.code===4902||I.message.includes("already exists")||I.message.includes("Already added")){console.log("Network already exists in wallet");return}throw I}},x=()=>{if(!c||c.length===0)return null;const E=c[0];return m.find(L=>L.id===E.chainId)},P=E=>E?`${E.slice(0,6)}...${E.slice(-4)}`:"",N=()=>{var E;if((E=r==null?void 0:r.wallet)!=null&&E.address)return r.wallet.address;if(r!=null&&r.linkedAccounts){const L=r.linkedAccounts.find(I=>I.type==="wallet");return L==null?void 0:L.address}return null},j=()=>{var L,I;if((L=r==null?void 0:r.email)!=null&&L.address)return r.email.address;if((I=r==null?void 0:r.phone)!=null&&I.number)return r.phone.number;const E=N();return E?P(E):"Unknown User"};return i?u.jsxs("div",{className:"wallet-container",children:[u.jsxs("div",{className:"wallet-controls",children:[u.jsx("button",{className:`wallet-button ${s?"connected":""}`,onClick:p,children:s?"Disconnect":"Connect Wallet"}),s&&c&&c.length>0&&!n&&u.jsxs("div",{className:"network-selector",children:[u.jsx("button",{className:"network-button",onClick:()=>d(!l),disabled:f,children:f?"🔄 Switching...":x()?`${x().emoji} ${x().name}`:"🌐 Select Network"}),l&&u.jsx("div",{className:"network-dropdown",children:m.map(E=>{var L;return u.jsxs("button",{className:`network-option ${((L=x())==null?void 0:L.id)===E.id?"active":""} ${(t==null?void 0:t.id)===E.id?"selected-game-network":""}`,onClick:()=>b(E.id),disabled:f,children:[f?"🔄":E.emoji," ",E.name,(t==null?void 0:t.id)===E.id&&" 🎮"]},E.id)})})]})]}),s&&u.jsxs("div",{className:"wallet-info",children:[u.jsx("div",{className:"wallet-status",children:"Connected"}),u.jsx("div",{className:"wallet-user",children:j()}),u.jsx("div",{className:"wallet-network",children:t?t.name:((O=x())==null?void 0:O.name)||"Unknown Network"})]})]}):u.jsx("div",{className:"wallet-container",children:u.jsx("button",{className:"wallet-button",disabled:!0,children:"Loading..."})})},Th=({onNetworkSelect:t,onStartGame:e})=>{const[n,r]=F.useState(null),[s,i]=F.useState(!0),[a,o]=F.useState(""),[c,l]=F.useState({width:window.innerWidth,height:window.innerHeight}),{user:d,authenticated:f}=$n(),{login:h}=vs(),m=[{id:"web2",name:"CLASSIC BROWSER",emoji:"🌐",description:"Pure web2 experience",tech:"No wallet required",color:"#2ecc71",status:"ONLINE",icon:"🦕",isWeb2:!0},{id:6342,name:"MEGAETH TESTNET",emoji:"⚡",description:"Ultra-fast execution layer",tech:"Lightning-fast transactions",color:"#ff6b6b",status:"ONLINE",icon:"🚀"},{id:84532,name:"BASE SEPOLIA",emoji:"🔵",description:"Ethereum L2 testnet",tech:"Reliable scaling solution",color:"#4ecdc4",status:"ONLINE",icon:"🌐"},{id:10143,name:"MONAD TESTNET",emoji:"🟣",description:"Next-gen blockchain",tech:"Advanced consensus",color:"#9b59b6",status:"BETA",icon:"🔮"}];F.useEffect(()=>{const N=["INITIALIZING NETWORK SCANNER...","DETECTING AVAILABLE CHAINS...","ESTABLISHING SECURE CONNECTIONS...","SYSTEM READY FOR NETWORK SELECTION"];let j=0;const O=setInterval(()=>{o(N[j]),j++,j>=N.length&&(clearInterval(O),setTimeout(()=>i(!1),500))},800);return()=>clearInterval(O)},[]),F.useEffect(()=>{const N=()=>{l({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",N),()=>window.removeEventListener("resize",N)},[]),F.useEffect(()=>{},[c]);const p=()=>{const{width:N,height:j}=c,O=N<=768,E=N>768&&N<=1024,L=N>1024,I=N>1600;let S;O?S=Math.min(N*.98,N-20):E?S=Math.min(N*.92,N-60):I?S=Math.min(N*.85,1400):S=Math.min(N*.88,1200);const G=j*(O?.95:.9),V=Math.min(j*(O?.7:.6),O?500:600),$=O?Math.max(15,N*.03):Math.max(20,N*.025);return{containerStyle:{width:`${S}px`,maxHeight:`${G}px`,minHeight:`${V}px`,transition:"all 0.3s ease"},contentStyle:{padding:`${$}px`,transition:"all 0.3s ease"},networkGridStyle:{gridTemplateColumns:O?"1fr":E?"repeat(auto-fit, minmax(280px, 1fr))":"repeat(auto-fit, minmax(300px, 1fr))",gap:`${O?15:L?25:20}px`}}},{containerStyle:b,contentStyle:w,networkGridStyle:y}=p(),x=N=>{r(N),t(N)},P=()=>{if(n){if(n.isWeb2){e(n);return}f&&d?e(n):(t(n),h())}};return F.useEffect(()=>{f&&d&&n&&e(n)},[f,d,n,e]),s?u.jsx("div",{className:"network-scanner-overlay",children:u.jsx("div",{className:"scanner-container",style:b,children:u.jsxs("div",{className:"scanner-content",style:w,children:[u.jsxs("div",{className:"terminal-header",children:[u.jsx("div",{className:"terminal-title",children:"NETWORK SCANNER PROTOCOL"}),u.jsxs("div",{className:"terminal-buttons",children:[u.jsx("div",{className:"terminal-button red"}),u.jsx("div",{className:"terminal-button yellow"}),u.jsx("div",{className:"terminal-button green"})]})]}),u.jsx("div",{className:"logo-section",children:u.jsx("div",{className:"pixel-logo",children:u.jsxs("div",{className:"logo-text",children:[u.jsx("span",{className:"logo-main",children:"BUDDY"}),u.jsx("span",{className:"logo-accent",children:"RUNNER"})]})})}),u.jsx("div",{className:"scanner-display",children:u.jsxs("div",{className:"radar-container",children:[u.jsx("div",{className:"radar-sweep"}),u.jsx("div",{className:"radar-grid"})]})}),u.jsxs("div",{className:"scanner-text",children:[u.jsx("span",{className:"terminal-prompt",children:">"})," ",a]})]})})}):u.jsx("div",{className:"network-selection-overlay",children:u.jsx("div",{className:"network-selection-container",style:b,children:u.jsxs("div",{className:"network-selection-content",style:w,children:[u.jsxs("div",{className:"terminal-header",children:[u.jsx("div",{className:"terminal-title",children:"BLOCKCHAIN NETWORK SELECTOR"}),u.jsxs("div",{className:"terminal-buttons",children:[u.jsx("div",{className:"terminal-button red"}),u.jsx("div",{className:"terminal-button yellow"}),u.jsx("div",{className:"terminal-button green"})]})]}),u.jsx("div",{className:"logo-section",children:u.jsxs("div",{className:"pixel-logo",children:[u.jsxs("div",{className:"logo-text",children:[u.jsx("span",{className:"logo-main",children:"BUDDY"}),u.jsx("span",{className:"logo-accent",children:"RUNNER"})]}),u.jsxs("div",{className:"logo-powered",children:["POWERED BY ",u.jsx("strong",{children:"MEGA BUDDIES"})]})]})}),u.jsxs("div",{className:"mission-briefing",children:[u.jsx("div",{className:"briefing-title",children:"MISSION BRIEFING"}),u.jsxs("div",{className:"briefing-content",children:[u.jsxs("div",{className:"terminal-text",children:[u.jsx("span",{className:"terminal-prompt",children:">"})," OBJECTIVE: SURVIVE 60 SECONDS ON EACH NETWORK"]}),u.jsxs("div",{className:"terminal-text",children:[u.jsx("span",{className:"terminal-prompt",children:">"})," ANALYZE BLOCK TIME IMPACT ON USER EXPERIENCE"]}),u.jsxs("div",{className:"terminal-text",children:[u.jsx("span",{className:"terminal-prompt",children:">"})," DISCOVER THE POWER OF REAL-TIME BLOCKCHAIN"]})]})]}),u.jsxs("div",{className:"network-selection",children:[u.jsx("div",{className:"selection-title",children:"SELECT TARGET BLOCKCHAIN NETWORK:"}),u.jsx("div",{className:"network-grid",style:y,children:m.map(N=>u.jsxs("div",{className:`network-card ${(n==null?void 0:n.id)===N.id?"selected":""}`,onClick:()=>x(N),children:[u.jsxs("div",{className:"network-header",children:[u.jsx("div",{className:"network-icon",children:N.icon}),u.jsx("div",{className:"network-status","data-status":N.status,children:N.status})]}),u.jsxs("div",{className:"network-info",children:[u.jsx("div",{className:"network-name",children:N.name}),u.jsx("div",{className:"network-description",children:N.description}),u.jsx("div",{className:"network-tech",children:N.tech})]}),u.jsxs("div",{className:"network-specs",children:[u.jsxs("div",{className:"spec-item",children:[u.jsx("span",{className:"spec-label",children:N.isWeb2?"TYPE:":"CHAIN ID:"}),u.jsx("span",{className:"spec-value",children:N.isWeb2?"WEB2":N.id})]}),u.jsxs("div",{className:"spec-item",children:[u.jsx("span",{className:"spec-label",children:"NETWORK:"}),u.jsx("span",{className:"spec-value",children:N.isWeb2?"BROWSER":"TESTNET"})]})]}),u.jsx("div",{className:"selection-indicator",children:(n==null?void 0:n.id)===N.id&&u.jsx("div",{className:"selected-glow",children:"SELECTED"})})]},N.id))}),n&&u.jsxs("div",{className:"launch-section",children:[u.jsxs("div",{className:"launch-info",children:[u.jsxs("div",{className:"terminal-text",children:[u.jsx("span",{className:"terminal-prompt",children:">"})," TARGET NETWORK: ",n.name]}),u.jsxs("div",{className:"terminal-text",children:[u.jsx("span",{className:"terminal-prompt",children:">"})," MISSION STATUS: READY FOR DEPLOYMENT"]})]}),u.jsxs("button",{className:"launch-button",onClick:P,children:[u.jsx("span",{className:"button-icon",children:"🚀"}),"LAUNCH MISSION ON ",n.name,u.jsx("div",{className:"button-glow"})]})]})]})]})})})},Ph=({onWalletConnected:t})=>{const{user:e,authenticated:n,ready:r}=$n(),{login:s}=vs(),[i,a]=F.useState("INITIALIZING"),[o,c]=F.useState("");F.useEffect(()=>{n&&e&&t()},[n,e,t]),F.useEffect(()=>{const d=setInterval(()=>{c(h=>h.length>=3?"":h+".")},500),f=setInterval(()=>{const h=["INITIALIZING","LOADING SYSTEMS","CONNECTING","SYNCING"];a(h[Math.floor(Math.random()*h.length)])},2e3);return()=>{clearInterval(d),clearInterval(f)}},[]);const l=()=>{s()};return r?u.jsx("div",{className:"wallet-connection-overlay",children:u.jsx("div",{className:"wallet-connection-container",children:u.jsxs("div",{className:"wallet-connection-content",children:[u.jsxs("div",{className:"terminal-header",children:[u.jsx("div",{className:"terminal-title",children:"WALLET CONNECTION PROTOCOL"}),u.jsxs("div",{className:"terminal-buttons",children:[u.jsx("div",{className:"terminal-button red"}),u.jsx("div",{className:"terminal-button yellow"}),u.jsx("div",{className:"terminal-button green"})]})]}),u.jsx("div",{className:"logo-section",children:u.jsxs("div",{className:"pixel-logo",children:[u.jsxs("div",{className:"logo-text",children:[u.jsx("span",{className:"logo-main",children:"BUDDY"}),u.jsx("span",{className:"logo-accent",children:"RUNNER"})]}),u.jsxs("div",{className:"logo-powered",children:["POWERED BY ",u.jsx("strong",{children:"MEGA BUDDIES"})]})]})}),u.jsxs("div",{className:"connection-section",children:[u.jsx("div",{className:"connection-icon",children:"🔗"}),u.jsx("h2",{className:"connection-title",children:"AUTHENTICATION REQUIRED"}),u.jsxs("div",{className:"terminal-content",children:[u.jsxs("div",{className:"terminal-text",children:[u.jsx("span",{className:"terminal-prompt",children:">"})," CONNECT YOUR WALLET TO ACCESS THE GAME"]}),u.jsxs("div",{className:"terminal-text",children:[u.jsx("span",{className:"terminal-prompt",children:">"})," ALL SCORES WILL BE STORED ON-CHAIN"]}),u.jsxs("div",{className:"terminal-text",children:[u.jsx("span",{className:"terminal-prompt",children:">"})," SECURE BLOCKCHAIN AUTHENTICATION"]})]}),u.jsxs("button",{className:"connect-wallet-button",onClick:l,children:[u.jsx("span",{className:"button-icon",children:"🔐"}),"CONNECT WALLET",u.jsx("div",{className:"button-glow"})]}),u.jsxs("div",{className:"supported-options",children:[u.jsx("div",{className:"options-title",children:"SUPPORTED AUTHENTICATION METHODS:"}),u.jsxs("div",{className:"options-grid",children:[u.jsxs("div",{className:"option-item",children:[u.jsx("span",{className:"option-icon",children:"📧"}),u.jsx("span",{className:"option-text",children:"EMAIL"})]}),u.jsxs("div",{className:"option-item",children:[u.jsx("span",{className:"option-icon",children:"📱"}),u.jsx("span",{className:"option-text",children:"PHONE"})]}),u.jsxs("div",{className:"option-item",children:[u.jsx("span",{className:"option-icon",children:"🦊"}),u.jsx("span",{className:"option-text",children:"METAMASK"})]}),u.jsxs("div",{className:"option-item",children:[u.jsx("span",{className:"option-icon",children:"💼"}),u.jsx("span",{className:"option-text",children:"OTHER WALLETS"})]})]})]}),u.jsxs("div",{className:"security-info",children:[u.jsxs("div",{className:"terminal-text",children:[u.jsx("span",{className:"terminal-prompt",children:">"})," SECURITY: 256-BIT ENCRYPTION"]}),u.jsxs("div",{className:"terminal-text",children:[u.jsx("span",{className:"terminal-prompt",children:">"})," NETWORK: MEGAETH COMPATIBLE"]})]})]})]})})}):u.jsx("div",{className:"preloader-overlay",children:u.jsx("div",{className:"preloader-container",children:u.jsxs("div",{className:"preloader-content",children:[u.jsxs("div",{className:"terminal-header",children:[u.jsx("div",{className:"terminal-title",children:"BUDDY RUNNER SYSTEM"}),u.jsxs("div",{className:"terminal-buttons",children:[u.jsx("div",{className:"terminal-button red"}),u.jsx("div",{className:"terminal-button yellow"}),u.jsx("div",{className:"terminal-button green"})]})]}),u.jsx("div",{className:"logo-section",children:u.jsx("div",{className:"pixel-logo",children:u.jsxs("div",{className:"logo-text",children:[u.jsx("span",{className:"logo-main",children:"BUDDY"}),u.jsx("span",{className:"logo-accent",children:"RUNNER"})]})})}),u.jsx("div",{className:"loading-bar",children:u.jsx("div",{className:"progress",style:{width:"100%"}})}),u.jsxs("div",{className:"loading-text",children:[i,u.jsx("span",{className:"dots",children:o})]}),u.jsxs("div",{className:"terminal-text",children:[u.jsx("span",{className:"terminal-prompt",children:">"})," System initialization in progress..."]})]})})})},kh=()=>{const{initializeSystem:t,sendPlayerAction:e,switchNetwork:n,resetSystem:r,isInitialized:s,currentNetwork:i,isLoading:a,error:o,isSystemReady:c,performanceStats:l,realtimeStats:d,contractState:f,poolInfo:h,availableNetworks:m,sessionDuration:p}=Ks(),[b,w]=F.useState(!1),[y,x]=F.useState(!1),[P,N]=F.useState(null);F.useEffect(()=>{if(y&&c){const I=setInterval(async()=>{try{await e()}catch(S){console.error("Ошибка автоотправки:",S),x(!1)}},1e3);return N(I),()=>clearInterval(I)}else P&&(clearInterval(P),N(null))},[y,c,e]);const j=async I=>{if(I===i)return;await n(I)&&console.log(`✅ Переключились на ${I}`)},O=async()=>{if(c)try{const I=await e();I.success&&console.log(`🎯 Действие выполнено за ${I.executionTime.toFixed(2)}ms`)}catch(I){console.error("Ошибка выполнения действия:",I)}},E=I=>I<1e3?`${I.toFixed(2)}ms`:`${(I/1e3).toFixed(2)}s`,L=I=>{const S=Math.floor(I/1e3),G=Math.floor(S/60),V=Math.floor(G/60);return V>0?`${V}:${(G%60).toString().padStart(2,"0")}:${(S%60).toString().padStart(2,"0")}`:G>0?`${G}:${(S%60).toString().padStart(2,"0")}`:`${S}s`};return u.jsxs("div",{className:"optimized-blockchain-panel",children:[u.jsx("div",{className:"panel-header",onClick:()=>w(!b),children:u.jsxs("div",{className:"header-content",children:[u.jsxs("div",{className:"status-indicator",children:[u.jsx("div",{className:`status-light ${c?"ready":a?"loading":"error"}`}),u.jsx("span",{className:"status-text",children:c?"Готов к бою":a?"Инициализация...":"Не инициализирован"})]}),c&&d.lastTransactionTime&&u.jsxs("div",{className:"last-transaction",children:[u.jsx("span",{className:"metric-value",children:E(d.lastTransactionTime)}),u.jsx("span",{className:"metric-label",children:"последняя транзакция"})]}),u.jsx("div",{className:"expand-arrow",children:b?"▼":"▶"})]})}),b&&u.jsxs("div",{className:"panel-content",children:[o&&u.jsxs("div",{className:"error-message",children:["❌ ",o]}),u.jsxs("div",{className:"network-selection",children:[u.jsx("h4",{children:"🌐 Выбор сети"}),u.jsx("div",{className:"network-grid",children:m.map(I=>u.jsxs("button",{className:`network-button ${i===I.key?"active":""}`,onClick:()=>j(I.key),disabled:a,children:[u.jsx("div",{className:"network-icon",children:I.icon}),u.jsxs("div",{className:"network-info",children:[u.jsx("div",{className:"network-name",children:I.name}),u.jsx("div",{className:"network-description",children:I.description}),u.jsxs("div",{className:"network-speed",children:["Блоки: ",I.blockTime]})]})]},I.key))})]}),u.jsx("div",{className:"control-buttons",children:s?u.jsxs("div",{className:"action-buttons",children:[u.jsx("button",{className:"action-button manual",onClick:O,disabled:!c||a,children:"🎯 Отправить действие"}),u.jsx("button",{className:`action-button auto ${y?"active":""}`,onClick:()=>x(!y),disabled:!c,children:y?"⏸️ Остановить":"⚡ Авто режим"}),u.jsx("button",{className:"action-button reset",onClick:r,children:"🔄 Сброс"})]}):u.jsx("button",{className:"init-button",onClick:()=>t(i),disabled:a,children:"🚀 Инициализировать систему"})}),c&&u.jsxs("div",{className:"performance-metrics",children:[u.jsx("h4",{children:"📊 Метрики производительности"}),u.jsxs("div",{className:"realtime-stats",children:[u.jsxs("div",{className:"stat-card",children:[u.jsx("div",{className:"stat-value",children:d.transactionsThisSession}),u.jsx("div",{className:"stat-label",children:"Транзакций в сессии"})]}),u.jsxs("div",{className:"stat-card",children:[u.jsx("div",{className:"stat-value",children:d.averageTimeThisSession?E(d.averageTimeThisSession):"N/A"}),u.jsx("div",{className:"stat-label",children:"Среднее время"})]}),u.jsxs("div",{className:"stat-card",children:[u.jsx("div",{className:"stat-value",children:L(p)}),u.jsx("div",{className:"stat-label",children:"Длительность сессии"})]}),u.jsxs("div",{className:"stat-card",children:[u.jsx("div",{className:"stat-value",children:f.currentNumber}),u.jsx("div",{className:"stat-label",children:"Счетчик контракта"})]})]}),h&&u.jsxs("div",{className:"pool-info",children:[u.jsx("h5",{children:"📦 Пул транзакций"}),u.jsxs("div",{className:"pool-progress",children:[u.jsx("div",{className:"progress-bar",children:u.jsx("div",{className:"progress-fill",style:{width:`${h.utilizationPercent}%`}})}),u.jsxs("div",{className:"pool-stats",children:[u.jsxs("span",{children:["Использовано: ",h.used,"/",h.total]}),u.jsxs("span",{children:["Осталось: ",h.remaining]}),h.needsRefill&&u.jsx("span",{className:"refill-warning",children:"⚠️ Нужна дозаправка"})]})]})]}),l&&u.jsxs("div",{className:"general-stats",children:[u.jsx("h5",{children:"📈 Общая статистика"}),u.jsxs("div",{className:"stats-grid",children:[u.jsxs("div",{className:"stat-item",children:[u.jsx("span",{className:"stat-name",children:"Всего транзакций:"}),u.jsx("span",{className:"stat-value",children:l.totalTransactions})]}),u.jsxs("div",{className:"stat-item",children:[u.jsx("span",{className:"stat-name",children:"Общее среднее время:"}),u.jsx("span",{className:"stat-value",children:E(l.averageTime)})]})]}),Object.keys(l.networkStats).length>0&&u.jsxs("div",{className:"network-stats",children:[u.jsx("h6",{children:"По сетям:"}),Object.entries(l.networkStats).map(([I,S])=>u.jsxs("div",{className:"network-stat",children:[u.jsxs("span",{className:"network-name",children:[I,":"]}),u.jsxs("span",{className:"network-values",children:[S.count," tx, avg: ",E(S.averageTime),", min: ",E(S.minTime),", max: ",E(S.maxTime)]})]},I))]})]})]})]}),u.jsx("style",{jsx:!0,children:`
        .optimized-blockchain-panel {
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
          border-radius: 12px;
          box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
          margin: 20px;
          overflow: hidden;
          font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        .panel-header {
          padding: 16px 20px;
          cursor: pointer;
          transition: background-color 0.2s;
          border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .panel-header:hover {
          background-color: rgba(255, 255, 255, 0.05);
        }

        .header-content {
          display: flex;
          align-items: center;
          justify-content: space-between;
          color: white;
        }

        .status-indicator {
          display: flex;
          align-items: center;
          gap: 8px;
        }

        .status-light {
          width: 10px;
          height: 10px;
          border-radius: 50%;
          animation: pulse 2s infinite;
        }

        .status-light.ready {
          background-color: #4ade80;
        }

        .status-light.loading {
          background-color: #fbbf24;
        }

        .status-light.error {
          background-color: #ef4444;
        }

        .last-transaction {
          display: flex;
          flex-direction: column;
          align-items: center;
        }

        .metric-value {
          font-weight: bold;
          font-size: 18px;
        }

        .metric-label {
          font-size: 12px;
          opacity: 0.8;
        }

        .expand-arrow {
          font-size: 14px;
          transition: transform 0.2s;
        }

        .panel-content {
          padding: 20px;
          background: rgba(255, 255, 255, 0.95);
          color: #333;
        }

        .error-message {
          background: #fee2e2;
          border: 1px solid #fecaca;
          color: #dc2626;
          padding: 12px;
          border-radius: 8px;
          margin-bottom: 16px;
        }

        .network-selection h4 {
          margin: 0 0 12px 0;
          color: #374151;
        }

        .network-grid {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
          gap: 12px;
          margin-bottom: 20px;
        }

        .network-button {
          display: flex;
          align-items: center;
          gap: 12px;
          padding: 12px;
          border: 2px solid #e5e7eb;
          border-radius: 8px;
          background: white;
          cursor: pointer;
          transition: all 0.2s;
        }

        .network-button:hover {
          border-color: #667eea;
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .network-button.active {
          border-color: #667eea;
          background: #f3f4f6;
        }

        .network-icon {
          font-size: 24px;
        }

        .network-info {
          flex: 1;
        }

        .network-name {
          font-weight: bold;
          margin-bottom: 4px;
        }

        .network-description {
          font-size: 12px;
          color: #6b7280;
          margin-bottom: 2px;
        }

        .network-speed {
          font-size: 11px;
          color: #9ca3af;
        }

        .control-buttons {
          margin-bottom: 20px;
        }

        .init-button {
          width: 100%;
          padding: 16px;
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
          color: white;
          border: none;
          border-radius: 8px;
          font-size: 16px;
          font-weight: bold;
          cursor: pointer;
          transition: transform 0.2s;
        }

        .init-button:hover {
          transform: translateY(-2px);
        }

        .action-buttons {
          display: flex;
          gap: 12px;
          flex-wrap: wrap;
        }

        .action-button {
          flex: 1;
          min-width: 120px;
          padding: 12px 16px;
          border: none;
          border-radius: 8px;
          font-weight: bold;
          cursor: pointer;
          transition: all 0.2s;
        }

        .action-button.manual {
          background: #10b981;
          color: white;
        }

        .action-button.auto {
          background: #f59e0b;
          color: white;
        }

        .action-button.auto.active {
          background: #dc2626;
        }

        .action-button.reset {
          background: #6b7280;
          color: white;
        }

        .action-button:hover {
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        .performance-metrics h4 {
          margin: 0 0 16px 0;
          color: #374151;
        }

        .realtime-stats {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
          gap: 12px;
          margin-bottom: 20px;
        }

        .stat-card {
          background: white;
          padding: 16px;
          border-radius: 8px;
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
          text-align: center;
        }

        .stat-value {
          font-size: 24px;
          font-weight: bold;
          color: #667eea;
          margin-bottom: 4px;
        }

        .stat-label {
          font-size: 12px;
          color: #6b7280;
        }

        .pool-info {
          background: white;
          padding: 16px;
          border-radius: 8px;
          margin-bottom: 16px;
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .pool-info h5 {
          margin: 0 0 12px 0;
          color: #374151;
        }

        .progress-bar {
          width: 100%;
          height: 8px;
          background: #e5e7eb;
          border-radius: 4px;
          overflow: hidden;
          margin-bottom: 8px;
        }

        .progress-fill {
          height: 100%;
          background: linear-gradient(90deg, #10b981, #059669);
          transition: width 0.3s;
        }

        .pool-stats {
          display: flex;
          justify-content: space-between;
          font-size: 12px;
          color: #6b7280;
        }

        .refill-warning {
          color: #f59e0b !important;
          font-weight: bold;
        }

        .general-stats {
          background: white;
          padding: 16px;
          border-radius: 8px;
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .general-stats h5 {
          margin: 0 0 12px 0;
          color: #374151;
        }

        .stats-grid {
          display: grid;
          gap: 8px;
          margin-bottom: 16px;
        }

        .stat-item {
          display: flex;
          justify-content: space-between;
          padding: 8px 0;
          border-bottom: 1px solid #f3f4f6;
        }

        .stat-name {
          color: #6b7280;
        }

        .stat-value {
          font-weight: bold;
          color: #374151;
        }

        .network-stats h6 {
          margin: 8px 0;
          color: #374151;
        }

        .network-stat {
          display: flex;
          justify-content: space-between;
          padding: 4px 0;
          font-size: 12px;
        }

        .network-name {
          color: #6b7280;
          font-weight: bold;
        }

        .network-values {
          color: #374151;
        }

        @keyframes pulse {
          0%, 100% {
            opacity: 1;
          }
          50% {
            opacity: 0.5;
          }
        }

        @media (max-width: 768px) {
          .optimized-blockchain-panel {
            margin: 10px;
          }
          
          .network-grid {
            grid-template-columns: 1fr;
          }
          
          .action-buttons {
            flex-direction: column;
          }
          
          .realtime-stats {
            grid-template-columns: repeat(2, 1fr);
          }
        }
      `})]})},Ah=()=>{const[t,e]=F.useState(!1),[n,r]=F.useState(0),[s,i]=F.useState(30),[a,o]=F.useState([]),{sendPlayerAction:c,isSystemReady:l,realtimeStats:d,contractState:f}=Ks(),h=F.useRef(null),m=F.useRef(null),p=F.useCallback(async()=>{if(!t||!l)return;const y=performance.now();r(x=>x+1);try{const x=await c();if(x.success){const P={id:Date.now(),actionTime:Date.now()-m.current,blockchainTime:x.executionTime,totalTime:performance.now()-y,success:!0};o(N=>[P,...N.slice(0,9)]),console.log(`🎮 Действие в игре выполнено за ${x.executionTime.toFixed(2)}ms`)}else console.error("❌ Ошибка отправки действия:",x.error),r(P=>Math.max(0,P-1))}catch(x){console.error("❌ Критическая ошибка при отправке действия:",x),r(P=>Math.max(0,P-1))}},[t,l,c]),b=F.useCallback(()=>{if(!l){alert("Сначала инициализируйте блокчейн систему!");return}e(!0),r(0),i(30),o([]),m.current=Date.now(),h.current=setInterval(()=>{i(y=>y<=1?(e(!1),0):y-1)},1e3),console.log("🎮 Игра началась! Каждое действие отправляется в блокчейн!")},[l]),w=F.useCallback(()=>{e(!1),h.current&&(clearInterval(h.current),h.current=null),console.log("🏁 Игра окончена!")},[]);return F.useEffect(()=>()=>{h.current&&clearInterval(h.current)},[]),F.useEffect(()=>{s===0&&t&&w()},[s,t,w]),u.jsxs("div",{className:"game-demo",children:[u.jsxs("div",{className:"demo-container",children:[u.jsx(kh,{}),u.jsxs("div",{className:"game-section",children:[u.jsxs("div",{className:"game-header",children:[u.jsx("h2",{children:"🎮 Blockchain Game Demo"}),u.jsx("p",{children:"Каждое действие отправляется в ваш Updater контракт!"})]}),u.jsxs("div",{className:"game-stats",children:[u.jsxs("div",{className:"stat-item",children:[u.jsx("span",{className:"stat-label",children:"Счет:"}),u.jsx("span",{className:"stat-value",children:n})]}),u.jsxs("div",{className:"stat-item",children:[u.jsx("span",{className:"stat-label",children:"Время:"}),u.jsxs("span",{className:"stat-value",children:[s,"s"]})]}),u.jsxs("div",{className:"stat-item",children:[u.jsx("span",{className:"stat-label",children:"Контракт:"}),u.jsx("span",{className:"stat-value",children:f.currentNumber})]}),d.transactionsThisSession>0&&u.jsxs("div",{className:"stat-item",children:[u.jsx("span",{className:"stat-label",children:"Ср. время:"}),u.jsxs("span",{className:"stat-value",children:[d.averageTimeThisSession.toFixed(2),"ms"]})]})]}),u.jsx("div",{className:"game-area",children:t?u.jsxs("div",{className:"game-active",children:[u.jsxs("div",{className:"action-zone",children:[u.jsx("button",{className:"action-button-big",onClick:p,disabled:!l,children:"🎯 ДЕЙСТВИЕ!"}),u.jsx("p",{className:"action-hint",children:"Нажимайте для отправки действий в блокчейн!"})]}),u.jsx("button",{className:"stop-button",onClick:w,children:"⏹️ Остановить игру"})]}):u.jsxs("div",{className:"game-start",children:[u.jsx("button",{className:"start-button",onClick:b,disabled:!l,children:l?"🚀 Начать игру":"⏳ Ожидание инициализации..."}),!l&&u.jsx("p",{className:"init-hint",children:"Инициализируйте блокчейн систему в панели выше"})]})}),a.length>0&&u.jsxs("div",{className:"action-history",children:[u.jsx("h4",{children:"📝 История действий"}),u.jsx("div",{className:"history-list",children:a.map(y=>u.jsxs("div",{className:"history-item",children:[u.jsxs("div",{className:"history-time",children:[(y.actionTime/1e3).toFixed(1),"s"]}),u.jsxs("div",{className:"history-details",children:[u.jsxs("span",{className:"blockchain-time",children:["Блокчейн: ",y.blockchainTime.toFixed(2),"ms"]}),u.jsxs("span",{className:"total-time",children:["Общее: ",y.totalTime.toFixed(2),"ms"]})]}),u.jsx("div",{className:"history-status",children:y.success?"✅":"❌"})]},y.id))})]})]})]}),u.jsx("style",{jsx:!0,children:`
        .game-demo {
          min-height: 100vh;
          background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
          padding: 20px;
          color: white;
        }

        .demo-container {
          max-width: 1200px;
          margin: 0 auto;
        }

        .game-section {
          background: rgba(255, 255, 255, 0.1);
          backdrop-filter: blur(10px);
          border-radius: 16px;
          padding: 24px;
          margin-top: 20px;
          box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
        }

        .game-header {
          text-align: center;
          margin-bottom: 24px;
        }

        .game-header h2 {
          margin: 0 0 8px 0;
          font-size: 28px;
          background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
          -webkit-background-clip: text;
          -webkit-text-fill-color: transparent;
          background-clip: text;
        }

        .game-header p {
          margin: 0;
          opacity: 0.8;
          font-size: 16px;
        }

        .game-stats {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
          gap: 16px;
          margin-bottom: 24px;
        }

        .stat-item {
          background: rgba(255, 255, 255, 0.1);
          padding: 16px;
          border-radius: 12px;
          text-align: center;
          border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .stat-label {
          display: block;
          font-size: 14px;
          opacity: 0.7;
          margin-bottom: 4px;
        }

        .stat-value {
          display: block;
          font-size: 24px;
          font-weight: bold;
          color: #4ecdc4;
        }

        .game-area {
          background: rgba(255, 255, 255, 0.05);
          border-radius: 16px;
          padding: 32px;
          text-align: center;
          margin-bottom: 24px;
          border: 2px solid rgba(255, 255, 255, 0.1);
        }

        .game-start {
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 16px;
        }

        .start-button {
          padding: 20px 40px;
          font-size: 20px;
          font-weight: bold;
          background: linear-gradient(45deg, #ff6b6b, #ff8e53);
          color: white;
          border: none;
          border-radius: 16px;
          cursor: pointer;
          transition: all 0.3s ease;
          box-shadow: 0 8px 24px rgba(255, 107, 107, 0.3);
        }

        .start-button:hover:not(:disabled) {
          transform: translateY(-4px);
          box-shadow: 0 12px 32px rgba(255, 107, 107, 0.4);
        }

        .start-button:disabled {
          opacity: 0.5;
          cursor: not-allowed;
          transform: none !important;
        }

        .init-hint {
          margin: 0;
          opacity: 0.7;
          font-size: 14px;
        }

        .game-active {
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 24px;
        }

        .action-zone {
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 12px;
        }

        .action-button-big {
          width: 200px;
          height: 200px;
          font-size: 24px;
          font-weight: bold;
          background: linear-gradient(45deg, #4ecdc4, #44a08d);
          color: white;
          border: none;
          border-radius: 50%;
          cursor: pointer;
          transition: all 0.2s ease;
          box-shadow: 0 8px 24px rgba(78, 205, 196, 0.3);
          border: 4px solid rgba(255, 255, 255, 0.2);
        }

        .action-button-big:hover:not(:disabled) {
          transform: scale(1.05);
          box-shadow: 0 12px 32px rgba(78, 205, 196, 0.4);
        }

        .action-button-big:active {
          transform: scale(0.95);
        }

        .action-button-big:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }

        .action-hint {
          margin: 0;
          opacity: 0.8;
          font-size: 16px;
        }

        .stop-button {
          padding: 12px 24px;
          font-size: 16px;
          background: rgba(239, 68, 68, 0.8);
          color: white;
          border: none;
          border-radius: 12px;
          cursor: pointer;
          transition: all 0.2s;
        }

        .stop-button:hover {
          background: rgba(239, 68, 68, 1);
          transform: translateY(-2px);
        }

        .action-history {
          background: rgba(255, 255, 255, 0.05);
          border-radius: 12px;
          padding: 20px;
          border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .action-history h4 {
          margin: 0 0 16px 0;
          color: #4ecdc4;
        }

        .history-list {
          display: flex;
          flex-direction: column;
          gap: 8px;
          max-height: 300px;
          overflow-y: auto;
        }

        .history-item {
          display: flex;
          align-items: center;
          justify-content: space-between;
          padding: 12px;
          background: rgba(255, 255, 255, 0.05);
          border-radius: 8px;
          border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .history-time {
          font-weight: bold;
          color: #ff8e53;
          min-width: 60px;
        }

        .history-details {
          display: flex;
          flex-direction: column;
          gap: 2px;
          flex: 1;
          margin-left: 12px;
        }

        .blockchain-time {
          font-size: 14px;
          color: #4ecdc4;
        }

        .total-time {
          font-size: 12px;
          opacity: 0.7;
        }

        .history-status {
          font-size: 18px;
        }

        @media (max-width: 768px) {
          .game-stats {
            grid-template-columns: repeat(2, 1fr);
          }
          
          .action-button-big {
            width: 150px;
            height: 150px;
            font-size: 20px;
          }
          
          .game-area {
            padding: 24px 16px;
          }
          
          .history-item {
            flex-direction: column;
            align-items: flex-start;
            gap: 8px;
          }
          
          .history-details {
            margin-left: 0;
            width: 100%;
          }
        }
      `})]})},Ih=()=>{const t="cme84q0og02aalc0bh9blzwa9",[e,n]=F.useState("network-selection"),[r,s]=F.useState(null),i={appearance:{theme:"light",accentColor:"#7FBC7F",logo:"https://your-logo-url.com/logo.png"},embeddedWallets:{createOnLogin:"users-without-wallets",noPromptOnSignature:!1},loginMethods:["email","wallet"],supportedChains:[{id:6342,name:"MegaETH Testnet",network:"megaeth-testnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://carrot.megaeth.com/rpc"],webSocket:["wss://carrot.megaeth.com/ws"]}},blockExplorers:{default:{name:"MegaETH Explorer",url:"https://carrot.megaeth.com"}}},{id:84532,name:"Base Sepolia",network:"base-sepolia",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Base Sepolia Explorer",url:"https://sepolia.basescan.org"}}},{id:10143,name:"Monad Testnet",network:"monad-testnet",nativeCurrency:{name:"Monad",symbol:"MON",decimals:18},rpcUrls:{default:{http:["https://testnet-rpc.monad.xyz"]}},blockExplorers:{default:{name:"Monad Explorer",url:"https://testnet.monadexplorer.com"}}},{id:1,name:"Ethereum",network:"homestead",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://eth-mainnet.g.alchemy.com/v2/your-api-key"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io"}}},{id:11155111,name:"Sepolia",network:"sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.infura.io/v3/your-api-key"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.etherscan.io"}}}]},a=f=>{s(f)},o=f=>{s(f),n("game")},c=()=>{n("game")},l=()=>{n("network-selection"),s(null)},d=()=>{n("network-selection"),s(null)};return u.jsx(Vo,{appId:t,config:i,children:u.jsx("div",{className:"app",children:e==="network-selection"?u.jsxs("div",{children:[u.jsx("div",{style:{position:"absolute",top:"20px",right:"20px",zIndex:1e3},children:u.jsx("button",{onClick:()=>n("blockchain-demo"),style:{background:"linear-gradient(45deg, #667eea, #764ba2)",color:"white",border:"none",borderRadius:"8px",padding:"12px 20px",cursor:"pointer",fontWeight:"bold",boxShadow:"0 4px 12px rgba(0,0,0,0.2)"},children:"🚀 Blockchain Demo"})}),u.jsx(Th,{onNetworkSelect:a,onStartGame:o})]}):e==="blockchain-demo"?u.jsxs("div",{children:[u.jsx("div",{style:{position:"absolute",top:"20px",left:"20px",zIndex:1e3},children:u.jsx("button",{onClick:()=>n("network-selection"),style:{background:"rgba(255,255,255,0.2)",color:"white",border:"1px solid rgba(255,255,255,0.3)",borderRadius:"8px",padding:"12px 20px",cursor:"pointer",fontWeight:"bold"},children:"← Назад к игре"})}),u.jsx(Ah,{})]}):e==="wallet-connection"?u.jsxs("div",{children:[u.jsx("div",{className:"back-to-wallet",children:u.jsx("button",{className:"back-button-small",onClick:l,children:"← Back to Network Selection"})}),u.jsx(Ph,{onWalletConnected:c})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"back-to-network-button",children:u.jsx("button",{className:"back-button",onClick:l,children:"← Back to Network Selection"})}),r&&!r.isWeb2&&u.jsx(Nh,{selectedNetwork:r,onDisconnect:d,disableNetworkControls:!0}),u.jsx("div",{className:"game-layout",children:u.jsx("div",{className:"game-header",children:u.jsx("div",{className:"header-center",children:u.jsxs("div",{className:"title",children:["Buddy Runner",r&&r.isWeb2&&u.jsx("span",{className:"web2-mode",children:" - Classic Mode"})]})})})}),u.jsx(Eh,{selectedNetwork:r}),u.jsxs("div",{className:"instructions",children:[u.jsx("p",{className:"main-instruction",children:"📱 Press SPACE or tap to make Buddy jump!"}),u.jsx("p",{className:"help-text",children:"Help our brave bunny Buddy hop over the giant carrots and achieve the highest score!"}),u.jsx("p",{className:"warning-text",children:"Watch out for those sneaky garden carrots!"})]})]})})})};Hr.createRoot(document.getElementById("root")).render(u.jsx(Jo.StrictMode,{children:u.jsx(Ih,{})}));export{A as B,io as H,fn as I,Je as a,Re as b,Ir as c,md as d,Fn as e,Ma as g,st as i,Fe as s};
