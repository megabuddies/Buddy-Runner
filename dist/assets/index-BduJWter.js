const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ccip-nILGVmHB.js","assets/privy-CJey9ZCd.js","assets/vendor-C7A1SLig.js"])))=>i.map(i=>d[i]);
var vs=Object.defineProperty;var xs=(e,t,n)=>t in e?vs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var W=(e,t,n)=>xs(e,typeof t!="symbol"?t+"":t,n);import{_ as Es,m as ht,o as Sn,i as Rt,j as u,a as Ps,X as Ts}from"./privy-CJey9ZCd.js";import{b as Ns,r as G,R as js}from"./vendor-C7A1SLig.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var on={},tr=Ns;on.createRoot=tr.createRoot,on.hydrateRoot=tr.hydrateRoot;function As(e,t){const n=e.exec(t);return n==null?void 0:n.groups}const nr=/^tuple(?<array>(\[(\d*)\])*)$/;function cn(e){let t=e.type;if(nr.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){const a=e.components[s];t+=cn(a),s<n-1&&(t+=", ")}const r=As(nr,e.type);return t+=`)${(r==null?void 0:r.array)??""}`,cn({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function _e(e){let t="";const n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=cn(s),r!==n-1&&(t+=", ")}return t}function Cs(e){return e.type==="function"?`function ${e.name}(${_e(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs.length?` returns (${_e(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${_e(e.inputs)})`:e.type==="error"?`error ${e.name}(${_e(e.inputs)})`:e.type==="constructor"?`constructor(${_e(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?"fallback()":"receive() external payable"}function k(e,t,n){return r=>{var s;return((s=e[t.name||n])==null?void 0:s.call(e,r))??t(e,r)}}function fe(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new Ws(e.type);return`${e.name}(${kt(e.inputs,{includeName:t})})`}function kt(e,{includeName:t=!1}={}){return e?e.map(n=>Ss(n,{includeName:t})).join(t?", ":","):""}function Ss(e,{includeName:t}){return e.type.startsWith("tuple")?`(${kt(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}function ue(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function K(e){return ue(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const Is="1.21.3",$s=e=>e,Ft=e=>e,Os=()=>`viem@${Is}`;class j extends Error{constructor(t,n={}){var a;super(),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:Os()});const r=n.cause instanceof j?n.cause.details:(a=n.cause)!=null&&a.message?n.cause.message:n.details,s=n.cause instanceof j&&n.cause.docsPath||n.docsPath;this.message=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://viem.sh${s}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}walk(t){return wr(this,t)}}function wr(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e?wr(e.cause,t):t?null:e}class Rs extends j{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorNotFoundError"})}}class rr extends j{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorParamsNotFoundError"})}}class In extends j{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${kt(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class Mt extends j{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingZeroDataError"})}}class ks extends j{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingArrayLengthMismatchError"})}}class Fs extends j{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${K(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingBytesSizeMismatchError"})}}class Ms extends j{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingLengthMismatchError"})}}class vr extends j{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class Bs extends j{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureEmptyTopicsError"})}}class Ls extends j{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureNotFoundError"})}}class sr extends j{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventNotFoundError"})}}class St extends j{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionNotFoundError"})}}class Gs extends j{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionOutputsNotFoundError"})}}class zs extends j{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${fe(t.abiItem)}\`, and`,`\`${n.type}\` in \`${fe(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItemAmbiguityError"})}}class Ds extends j{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytesSizeMismatchError"})}}class Ne extends j{constructor({abiItem:t,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${kt(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=s}}class ke extends j{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${fe(t,{includeName:!0})}".`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class Us extends j{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiEncodingType"})}}class _s extends j{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiDecodingType"})}}class Hs extends j{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidArrayError"})}}class Ws extends j{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidDefinitionTypeError"})}}class qs extends j{constructor(t){super(`Filter type "${t}" is not supported.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FilterTypeNotSupportedError"})}}class xr extends j{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${r}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SliceOffsetOutOfBoundsError"})}}class Er extends j{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeExceedsPaddingSizeError"})}}function Fe(e,{dir:t,size:n=32}={}){return typeof e=="string"?be(e,{dir:t,size:n}):Ys(e,{dir:t,size:n})}function be(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new Er({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function Ys(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new Er({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const a=t==="right";r[a?s:n-s-1]=e[a?s:e.length-s-1]}return r}class Ks extends j{constructor({max:t,min:n,signed:r,size:s,value:a}){super(`Number "${a}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntegerOutOfRangeError"})}}class Js extends j{constructor(t){super(`Hex value "${t}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidHexBooleanError"})}}class Vs extends j{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"})}}function Ie(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,r=0;for(let s=0;s<n.length-1&&n[t==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=t==="left"?n.slice(r):n.slice(0,n.length-r),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function Ee(e,{size:t}){if(K(e)>t)throw new Vs({givenSize:K(e),maxSize:t})}function Bt(e,t={}){const{signed:n}=t;t.size&&Ee(e,{size:t.size});const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,a=(1n<<BigInt(s)*8n-1n)-1n;return r<=a?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function Xs(e,t={}){let n=e;if(t.size&&(Ee(n,{size:t.size}),n=Ie(n)),Ie(n)==="0x00")return!1;if(Ie(n)==="0x01")return!0;throw new Js(n)}function J(e,t={}){return Number(Bt(e,t))}function Zs(e,t={}){let n=On(e);return t.size&&(Ee(n,{size:t.size}),n=Ie(n,{dir:"right"})),new TextDecoder().decode(n)}const Qs=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function me(e,t={}){return typeof e=="number"||typeof e=="bigint"?L(e,t):typeof e=="string"?$n(e,t):typeof e=="boolean"?Pr(e,t):Ke(e,t)}function Pr(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(Ee(n,{size:t.size}),Fe(n,{size:t.size})):n}function Ke(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=Qs[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(Ee(r,{size:t.size}),Fe(r,{dir:"right",size:t.size})):r}function L(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let a;r?n?a=(1n<<BigInt(r)*8n-1n)-1n:a=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(a=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof a=="bigint"&&n?-a-1n:0;if(a&&s>a||s<o){const c=typeof e=="bigint"?"n":"";throw new Ks({max:a?`${a}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${e}${c}`})}const i=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Fe(i,{size:r}):i}const ea=new TextEncoder;function $n(e,t={}){const n=ea.encode(e);return Ke(n,t)}const ta=new TextEncoder;function ye(e,t={}){return typeof e=="number"||typeof e=="bigint"?ra(e,t):typeof e=="boolean"?na(e,t):ue(e)?On(e,t):de(e,t)}function na(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(Ee(n,{size:t.size}),Fe(n,{size:t.size})):n}const le={zero:48,nine:57,A:65,F:70,a:97,f:102};function ar(e){if(e>=le.zero&&e<=le.nine)return e-le.zero;if(e>=le.A&&e<=le.F)return e-(le.A-10);if(e>=le.a&&e<=le.f)return e-(le.a-10)}function On(e,t={}){let n=e;t.size&&(Ee(n,{size:t.size}),n=Fe(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,a=new Uint8Array(s);for(let o=0,i=0;o<s;o++){const c=ar(r.charCodeAt(i++)),l=ar(r.charCodeAt(i++));if(c===void 0||l===void 0)throw new j(`Invalid byte sequence ("${r[i-2]}${r[i-1]}" in "${r}").`);a[o]=c*16+l}return a}function ra(e,t){const n=L(e,t);return On(n)}function de(e,t={}){const n=ta.encode(e);return typeof t.size=="number"?(Ee(n,{size:t.size}),Fe(n,{dir:"right",size:t.size})):n}function sa(e){let t=!0,n="",r=0,s="",a=!1;for(let o=0;o<e.length;o++){const i=e[o];if(["(",")",","].includes(i)&&(t=!0),i==="("&&r++,i===")"&&r--,!!t){if(r===0){if(i===" "&&["event","function",""].includes(s))s="";else if(s+=i,i===")"){a=!0;break}continue}if(i===" "){e[o-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=i,n+=i}}if(!a)throw new j("Unable to normalize signature.");return s}const Tr=e=>{const t=typeof e=="string"?e:Cs(e);return sa(t)},aa=e=>Tr(e);function or(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function Nr(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function ir(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function oa(e,t){Nr(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Nt=BigInt(2**32-1),cr=BigInt(32);function ia(e,t=!1){return t?{h:Number(e&Nt),l:Number(e>>cr&Nt)}:{h:Number(e>>cr&Nt)|0,l:Number(e&Nt)|0}}function ca(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:a,l:o}=ia(e[s],t);[n[s],r[s]]=[a,o]}return[n,r]}const ua=(e,t,n)=>e<<n|t>>>32-n,la=(e,t,n)=>t<<n|e>>>32-n,da=(e,t,n)=>t<<n-32|e>>>64-n,fa=(e,t,n)=>e<<n-32|t>>>64-n;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ha=e=>e instanceof Uint8Array,ma=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),pa=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!pa)throw new Error("Non little-endian hardware is not supported");function ga(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function jr(e){if(typeof e=="string"&&(e=ga(e)),!ha(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}class ba{clone(){return this._cloneInto()}}function ya(e){const t=r=>e().update(jr(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}const[Ar,Cr,Sr]=[[],[],[]],wa=BigInt(0),He=BigInt(1),va=BigInt(2),xa=BigInt(7),Ea=BigInt(256),Pa=BigInt(113);for(let e=0,t=He,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],Ar.push(2*(5*r+n)),Cr.push((e+1)*(e+2)/2%64);let s=wa;for(let a=0;a<7;a++)t=(t<<He^(t>>xa)*Pa)%Ea,t&va&&(s^=He<<(He<<BigInt(a))-He);Sr.push(s)}const[Ta,Na]=ca(Sr,!0),ur=(e,t,n)=>n>32?da(e,t,n):ua(e,t,n),lr=(e,t,n)=>n>32?fa(e,t,n):la(e,t,n);function ja(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let o=0;o<10;o++)n[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const i=(o+8)%10,c=(o+2)%10,l=n[c],d=n[c+1],f=ur(l,d,1)^n[i],m=lr(l,d,1)^n[i+1];for(let g=0;g<50;g+=10)e[o+g]^=f,e[o+g+1]^=m}let s=e[2],a=e[3];for(let o=0;o<24;o++){const i=Cr[o],c=ur(s,a,i),l=lr(s,a,i),d=Ar[o];s=e[d],a=e[d+1],e[d]=c,e[d+1]=l}for(let o=0;o<50;o+=10){for(let i=0;i<10;i++)n[i]=e[o+i];for(let i=0;i<10;i++)e[o+i]^=~n[(i+2)%10]&n[(i+4)%10]}e[0]^=Ta[r],e[1]^=Na[r]}n.fill(0)}class Rn extends ba{constructor(t,n,r,s=!1,a=24){if(super(),this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=a,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,or(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=ma(this.state)}keccak(){ja(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){ir(this);const{blockLen:n,state:r}=this;t=jr(t);const s=t.length;for(let a=0;a<s;){const o=Math.min(n-this.pos,s-a);for(let i=0;i<o;i++)r[this.pos++]^=t[a++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,n&128&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){ir(this,!1),Nr(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,a=t.length;s<a;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,a-s);t.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return or(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(oa(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:a,enableXOF:o}=this;return t||(t=new Rn(n,r,s,o,a)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=a,t.suffix=r,t.outputLen=s,t.enableXOF=o,t.destroyed=this.destroyed,t}}const Aa=(e,t,n)=>ya(()=>new Rn(t,e,n)),Ca=Aa(1,136,256/8);function X(e,t){const n=t||"hex",r=Ca(ue(e,{strict:!1})?ye(e):e);return n==="bytes"?r:me(r)}const Sa=e=>X(ye(e)),kn=e=>Sa(aa(e));class Je extends j{constructor({address:t}){super(`Address "${t}" is invalid.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}}const Ia=/^0x[a-fA-F0-9]{40}$/;function we(e){return Ia.test(e)}function he(e){return typeof e[0]=="string"?Fn(e):$a(e)}function $a(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function Fn(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function Y(e,t,n,{strict:r}={}){return ue(e,{strict:!1})?Ra(e,t,n,{strict:r}):Oa(e,t,n,{strict:r})}function Ir(e,t){if(typeof t=="number"&&t>0&&t>K(e)-1)throw new xr({offset:t,position:"start",size:K(e)})}function $r(e,t,n){if(typeof t=="number"&&typeof n=="number"&&K(e)!==n-t)throw new xr({offset:n,position:"end",size:K(e)})}function Oa(e,t,n,{strict:r}={}){Ir(e,t);const s=e.slice(t,n);return r&&$r(s,t,n),s}function Ra(e,t,n,{strict:r}={}){Ir(e,t);const s=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&$r(s,t,n),s}function mt(e,t){if(e.length!==t.length)throw new Ms({expectedLength:e.length,givenLength:t.length});const n=ka({params:e,values:t}),r=Bn(n);return r.length===0?"0x":r}function ka({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(Mn({param:e[r],value:t[r]}));return n}function Mn({param:e,value:t}){const n=Lt(e.type);if(n){const[r,s]=n;return Ma(t,{length:r,param:{...e,type:s}})}if(e.type==="tuple")return Da(t,{param:e});if(e.type==="address")return Fa(t);if(e.type==="bool")return La(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int");return Ga(t,{signed:r})}if(e.type.startsWith("bytes"))return Ba(t,{param:e});if(e.type==="string")return za(t);throw new Us(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function Bn(e){let t=0;for(let a=0;a<e.length;a++){const{dynamic:o,encoded:i}=e[a];o?t+=32:t+=K(i)}const n=[],r=[];let s=0;for(let a=0;a<e.length;a++){const{dynamic:o,encoded:i}=e[a];o?(n.push(L(t+s,{size:32})),r.push(i),s+=K(i)):n.push(i)}return he([...n,...r])}function Fa(e){if(!we(e))throw new Je({address:e});return{dynamic:!1,encoded:be(e.toLowerCase())}}function Ma(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new Hs(e);if(!r&&e.length!==t)throw new ks({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const a=[];for(let o=0;o<e.length;o++){const i=Mn({param:n,value:e[o]});i.dynamic&&(s=!0),a.push(i)}if(r||s){const o=Bn(a);if(r){const i=L(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?he([i,o]):i}}if(s)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:he(a.map(({encoded:o})=>o))}}function Ba(e,{param:t}){const[,n]=t.type.split("bytes"),r=K(e);if(!n){let s=e;return r%32!==0&&(s=be(s,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:he([be(L(r,{size:32})),s])}}if(r!==parseInt(n))throw new Fs({expectedSize:parseInt(n),value:e});return{dynamic:!1,encoded:be(e,{dir:"right"})}}function La(e){return{dynamic:!1,encoded:be(Pr(e))}}function Ga(e,{signed:t}){return{dynamic:!1,encoded:L(e,{size:32,signed:t})}}function za(e){const t=$n(e),n=Math.ceil(K(t)/32),r=[];for(let s=0;s<n;s++)r.push(be(Y(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:he([be(L(K(t),{size:32})),...r])}}function Da(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const a=t.components[s],o=Array.isArray(e)?s:a.name,i=Mn({param:a,value:e[o]});r.push(i),i.dynamic&&(n=!0)}return{dynamic:n,encoded:n?Bn(r):he(r.map(({encoded:s})=>s))}}function Lt(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const Ua=e=>X(ye(e)),Ln=e=>Y(Ua(Tr(e)),0,4);function pt({abi:e,args:t=[],name:n}){const r=ue(n,{strict:!1}),s=e.filter(o=>r?o.type==="function"?Ln(o)===n:o.type==="event"?kn(o)===n:!1:"name"in o&&o.name===n);if(s.length===0)return;if(s.length===1)return s[0];let a;for(const o of s){if(!("inputs"in o))continue;if(!t||t.length===0){if(!o.inputs||o.inputs.length===0)return o;continue}if(!o.inputs||o.inputs.length===0||o.inputs.length!==t.length)continue;if(t.every((c,l)=>{const d="inputs"in o&&o.inputs[l];return d?un(c,d):!1})){if(a&&"inputs"in a&&a.inputs){const c=Or(o.inputs,a.inputs,t);if(c)throw new zs({abiItem:o,type:c[0]},{abiItem:a,type:c[1]})}a=o}}return a||s[0]}function un(e,t){const n=typeof e,r=t.type;switch(r){case"address":return we(e);case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,a)=>un(Object.values(e)[a],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>un(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Or(e,t,n){for(const r in e){const s=e[r],a=t[r];if(s.type==="tuple"&&a.type==="tuple"&&"components"in s&&"components"in a)return Or(s.components,a.components,n[r]);const o=[s.type,a.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")||o.includes("address")&&o.includes("bytes")?we(n[r]):!1)return o}}function gt({abi:e,eventName:t,args:n}){var i;let r=e[0];if(t&&(r=pt({abi:e,args:n,name:t}),!r))throw new sr(t,{docsPath:"/docs/contract/encodeEventTopics"});if(r.type!=="event")throw new sr(void 0,{docsPath:"/docs/contract/encodeEventTopics"});const s=fe(r),a=kn(s);let o=[];if(n&&"inputs"in r){const c=(i=r.inputs)==null?void 0:i.filter(d=>"indexed"in d&&d.indexed),l=Array.isArray(n)?n:Object.values(n).length>0?(c==null?void 0:c.map(d=>n[d.name]))??[]:[];l.length>0&&(o=(c==null?void 0:c.map((d,f)=>Array.isArray(l[f])?l[f].map((m,g)=>dr({param:d,value:l[f][g]})):l[f]?dr({param:d,value:l[f]}):null))??[])}return[a,...o]}function dr({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return X(ye(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new qs(e.type);return mt([e],[t])}function Gt(e,{method:t}){var r,s;const n={};return e.transport.type==="fallback"&&((s=(r=e.transport).onResponse)==null||s.call(r,({method:a,response:o,status:i,transport:c})=>{i==="success"&&t===a&&(n[o]=c.request)})),a=>n[a]||e.request}async function Rr(e,{address:t,abi:n,args:r,eventName:s,fromBlock:a,strict:o,toBlock:i}){const c=Gt(e,{method:"eth_newFilter"}),l=s?gt({abi:n,args:r,eventName:s}):void 0,d=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof a=="bigint"?L(a):a,toBlock:typeof i=="bigint"?L(i):i,topics:l}]});return{abi:n,args:r,eventName:s,id:d,request:c(d),strict:o,type:"event"}}function re(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}function Pe({abi:e,args:t,functionName:n}){let r=e[0];if(n&&(r=pt({abi:e,args:t,name:n}),!r))throw new St(n,{docsPath:"/docs/contract/encodeFunctionData"});if(r.type!=="function")throw new St(void 0,{docsPath:"/docs/contract/encodeFunctionData"});const s=fe(r),a=Ln(s),o="inputs"in r&&r.inputs?mt(r.inputs,t??[]):void 0;return Fn([a,o??"0x"])}const kr={1:"An `assert` condition failed.",17:"Arithmic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},_a={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Ha={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function Gn(e,t){const n=e.substring(2).toLowerCase(),r=X(de(n),"bytes"),s=n.split("");for(let a=0;a<40;a+=2)r[a>>1]>>4>=8&&s[a]&&(s[a]=s[a].toUpperCase()),(r[a>>1]&15)>=8&&s[a+1]&&(s[a+1]=s[a+1].toUpperCase());return`0x${s.join("")}`}function Wa(e,t){if(!we(e))throw new Je({address:e});return Gn(e)}function zt(e,t){if(t==="0x"&&e.length>0)throw new Mt;if(K(t)&&K(t)<32)throw new In({data:t,params:e,size:K(t)});return qa({data:t,params:e})}function qa({data:e,params:t}){const n=[];let r=0;for(let s=0;s<t.length;s++){if(r>=K(e))throw new In({data:e,params:t,size:K(e)});const a=t[s],{consumed:o,value:i}=$e({data:e,param:a,position:r});n.push(i),r+=o}return n}function $e({data:e,param:t,position:n}){const r=Lt(t.type);if(r){const[a,o]=r;return Ka(e,{length:a,param:{...t,type:o},position:n})}if(t.type==="tuple")return Qa(e,{param:t,position:n});if(t.type==="string")return Za(e,{position:n});if(t.type.startsWith("bytes"))return Va(e,{param:t,position:n});const s=Y(e,n,n+32,{strict:!0});if(t.type.startsWith("uint")||t.type.startsWith("int"))return Xa(s,{param:t});if(t.type==="address")return Ya(s);if(t.type==="bool")return Ja(s);throw new _s(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}function Ya(e){return{consumed:32,value:Gn(Y(e,-20))}}function Ka(e,{param:t,length:n,position:r}){if(!n){const o=J(Y(e,r,r+32,{strict:!0})),i=J(Y(e,o,o+32,{strict:!0}));let c=0;const l=[];for(let d=0;d<i;++d){const f=$e({data:Y(e,o+32),param:t,position:c});c+=f.consumed,l.push(f.value)}return{value:l,consumed:32}}if(It(t)){const o=Lt(t.type),i=!(o!=null&&o[0]);let c=0;const l=[];for(let d=0;d<n;++d){const f=J(Y(e,r,r+32,{strict:!0})),m=$e({data:Y(e,f),param:t,position:i?c:d*32});c+=m.consumed,l.push(m.value)}return{value:l,consumed:32}}let s=0;const a=[];for(let o=0;o<n;++o){const i=$e({data:e,param:t,position:r+s});s+=i.consumed,a.push(i.value)}return{value:a,consumed:s}}function Ja(e){return{consumed:32,value:Xs(e)}}function Va(e,{param:t,position:n}){const[r,s]=t.type.split("bytes");if(!s){const o=J(Y(e,n,n+32,{strict:!0})),i=J(Y(e,o,o+32,{strict:!0}));return i===0?{consumed:32,value:"0x"}:{consumed:32,value:Y(e,o+32,o+32+i,{strict:!0})}}return{consumed:32,value:Y(e,n,n+parseInt(s),{strict:!0})}}function Xa(e,{param:t}){const n=t.type.startsWith("int");return{consumed:32,value:parseInt(t.type.split("int")[1]||"256")>48?Bt(e,{signed:n}):J(e,{signed:n})}}function Za(e,{position:t}){const n=J(Y(e,t,t+32,{strict:!0})),r=J(Y(e,n,n+32,{strict:!0}));return r===0?{consumed:32,value:""}:{consumed:32,value:Zs(Ie(Y(e,n+32,n+32+r,{strict:!0})))}}function Qa(e,{param:t,position:n}){const r=t.components.length===0||t.components.some(({name:o})=>!o),s=r?[]:{};let a=0;if(It(t)){const o=J(Y(e,n,n+32,{strict:!0}));for(let i=0;i<t.components.length;++i){const c=t.components[i],l=$e({data:Y(e,o),param:c,position:a});a+=l.consumed,s[r?i:c==null?void 0:c.name]=l.value}return{consumed:32,value:s}}for(let o=0;o<t.components.length;++o){const i=t.components[o],c=$e({data:e,param:i,position:n+a});a+=c.consumed,s[r?o:i==null?void 0:i.name]=c.value}return{consumed:a,value:s}}function It(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(It);const n=Lt(e.type);return!!(n&&It({...e,type:n[1]}))}function eo({abi:e,data:t}){const n=Y(t,0,4);if(n==="0x")throw new Mt;const s=[...e||[],_a,Ha].find(a=>a.type==="error"&&n===Ln(fe(a)));if(!s)throw new vr(n,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:s,args:"inputs"in s&&s.inputs&&s.inputs.length>0?zt(s.inputs,Y(t,4)):void 0,errorName:s.name}}const Z=(e,t,n)=>JSON.stringify(e,(r,s)=>{const a=typeof s=="bigint"?s.toString():s;return typeof t=="function"?t(r,a):a},n);function Fr({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,a)=>`${r&&s.name?`${s.name}: `:""}${typeof t[a]=="object"?Z(t[a]):t[a]}`).join(", ")})`}const to={gwei:9,wei:18},Mr={ether:-9,wei:9};function Br(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[s,a]=[n.slice(0,n.length-t),n.slice(n.length-t)];return a=a.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${a?`.${a}`:""}`}function zn(e,t="wei"){return Br(e,to[t])}function ee(e,t="wei"){return Br(e,Mr[t])}function bt(e){const t=Object.entries(e).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=t.reduce((r,[s])=>Math.max(r,s.length),0);return t.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class no extends j{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeConflictError"})}}class ro extends j{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",bt(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- a Legacy Transaction with `gasPrice`"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSerializableTransactionError"})}}class so extends j{constructor(t,{account:n,docsPath:r,chain:s,data:a,gas:o,gasPrice:i,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:d,to:f,value:m}){var h;const g=bt({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:n==null?void 0:n.address,to:f,value:typeof m<"u"&&`${zn(m)} ${((h=s==null?void 0:s.nativeCurrency)==null?void 0:h.symbol)||"ETH"}`,data:a,gas:o,gasPrice:typeof i<"u"&&`${ee(i)} gwei`,maxFeePerGas:typeof c<"u"&&`${ee(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${ee(l)} gwei`,nonce:d});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",g].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionExecutionError"}),this.cause=t}}class Lr extends j{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:s,index:a}){let o="Transaction";r&&a!==void 0&&(o=`Transaction at block time "${r}" at index "${a}"`),t&&a!==void 0&&(o=`Transaction at block hash "${t}" at index "${a}"`),n&&a!==void 0&&(o=`Transaction at block number "${n}" at index "${a}"`),s&&(o=`Transaction with hash "${s}"`),super(`${o} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionNotFoundError"})}}class Gr extends j{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionReceiptNotFoundError"})}}class ao extends j{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WaitForTransactionReceiptTimeoutError"})}}class zr extends j{constructor(t,{account:n,docsPath:r,chain:s,data:a,gas:o,gasPrice:i,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:d,to:f,value:m}){var p;const g=n?re(n):void 0,h=bt({from:g==null?void 0:g.address,to:f,value:typeof m<"u"&&`${zn(m)} ${((p=s==null?void 0:s.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:a,gas:o,gasPrice:typeof i<"u"&&`${ee(i)} gwei`,maxFeePerGas:typeof c<"u"&&`${ee(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${ee(l)} gwei`,nonce:d});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",h].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CallExecutionError"}),this.cause=t}}class oo extends j{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:a,functionName:o,sender:i}){const c=pt({abi:n,args:r,name:o}),l=c?Fr({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,d=c?fe(c,{includeName:!0}):void 0,f=bt({address:s&&$s(s),function:d,args:l&&l!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${l}`,sender:i});super(t.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:t,docsPath:a,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Contract Call:",f].filter(Boolean)}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionExecutionError"}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=o,this.sender=i}}class ln extends j{constructor({abi:t,data:n,functionName:r,message:s}){let a,o,i,c;if(n&&n!=="0x")try{o=eo({abi:t,data:n});const{abiItem:d,errorName:f,args:m}=o;if(f==="Error")c=m[0];else if(f==="Panic"){const[g]=m;c=kr[g]}else{const g=d?fe(d,{includeName:!0}):void 0,h=d&&m?Fr({abiItem:d,args:m,includeFunctionName:!1,includeName:!1}):void 0;i=[g?`Error: ${g}`:"",h&&h!=="()"?`       ${[...Array((f==null?void 0:f.length)??0).keys()].map(()=>" ").join("")}${h}`:""]}}catch(d){a=d}else s&&(c=s);let l;a instanceof vr&&(l=a.signature,i=[`Unable to decode signature "${l}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${l}.`]),super(c&&c!=="execution reverted"||l?[`The contract function "${r}" reverted with the following ${l?"signature":"reason"}:`,c||l].join(`
`):`The contract function "${r}" reverted.`,{cause:a,metaMessages:i}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.reason=c,this.signature=l}}class io extends j{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionZeroDataError"})}}class Dn extends j{constructor({data:t,message:n}){super(n||""),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RawContractError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}class Ye extends j{constructor({body:t,details:n,headers:r,status:s,url:a}){super("HTTP request failed.",{details:n,metaMessages:[s&&`Status: ${s}`,`URL: ${Ft(a)}`,t&&`Request body: ${Z(t)}`].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=r,this.status=s,this.url=a}}class co extends j{constructor({body:t,details:n,url:r}){super("WebSocket request failed.",{details:n,metaMessages:[`URL: ${Ft(r)}`,`Request body: ${Z(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WebSocketRequestError"})}}class Dr extends j{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${Ft(r)}`,`Request body: ${Z(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code}}class dn extends j{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${Ft(n)}`,`Request body: ${Z(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TimeoutError"})}}const uo=-1;class te extends j{constructor(t,{code:n,docsPath:r,metaMessages:s,shortMessage:a}){super(a,{cause:t,docsPath:r,metaMessages:s||(t==null?void 0:t.metaMessages)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=t.name,this.code=t instanceof Dr?t.code:n??uo}}class Me extends te{constructor(t,n){super(t,n),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Ve extends te{constructor(t){super(t,{code:Ve.code,shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ParseRpcError"})}}Object.defineProperty(Ve,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Xe extends te{constructor(t){super(t,{code:Xe.code,shortMessage:"JSON is not a valid request object."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRequestRpcError"})}}Object.defineProperty(Xe,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Ze extends te{constructor(t){super(t,{code:Ze.code,shortMessage:"The method does not exist / is not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotFoundRpcError"})}}Object.defineProperty(Ze,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Qe extends te{constructor(t){super(t,{code:Qe.code,shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParamsRpcError"})}}Object.defineProperty(Qe,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Re extends te{constructor(t){super(t,{code:Re.code,shortMessage:"An internal error was received."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalRpcError"})}}Object.defineProperty(Re,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class je extends te{constructor(t){super(t,{code:je.code,shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidInputRpcError"})}}Object.defineProperty(je,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class et extends te{constructor(t){super(t,{code:et.code,shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(et,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class tt extends te{constructor(t){super(t,{code:tt.code,shortMessage:"Requested resource not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceUnavailableRpcError"})}}Object.defineProperty(tt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class nt extends te{constructor(t){super(t,{code:nt.code,shortMessage:"Transaction creation failed."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionRejectedRpcError"})}}Object.defineProperty(nt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class rt extends te{constructor(t){super(t,{code:rt.code,shortMessage:"Method is not implemented."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotSupportedRpcError"})}}Object.defineProperty(rt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class st extends te{constructor(t){super(t,{code:st.code,shortMessage:"Request exceeds defined limit."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"LimitExceededRpcError"})}}Object.defineProperty(st,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class at extends te{constructor(t){super(t,{code:at.code,shortMessage:"Version of JSON-RPC protocol is not supported."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"JsonRpcVersionUnsupportedError"})}}Object.defineProperty(at,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Oe extends Me{constructor(t){super(t,{code:Oe.code,shortMessage:"User rejected the request."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UserRejectedRequestError"})}}Object.defineProperty(Oe,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class ot extends Me{constructor(t){super(t,{code:ot.code,shortMessage:"The requested method and/or account has not been authorized by the user."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnauthorizedProviderError"})}}Object.defineProperty(ot,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class it extends Me{constructor(t){super(t,{code:it.code,shortMessage:"The Provider does not support the requested method."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedProviderMethodError"})}}Object.defineProperty(it,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class ct extends Me{constructor(t){super(t,{code:ct.code,shortMessage:"The Provider is disconnected from all chains."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderDisconnectedError"})}}Object.defineProperty(ct,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class ut extends Me{constructor(t){super(t,{code:ut.code,shortMessage:"The Provider is not connected to the requested chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDisconnectedError"})}}Object.defineProperty(ut,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class lt extends Me{constructor(t){super(t,{code:lt.code,shortMessage:"An error occurred when attempting to switch chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainError"})}}Object.defineProperty(lt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class lo extends te{constructor(t){super(t,{shortMessage:"An unknown RPC error occurred."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownRpcError"})}}const fo=3;function dt(e,{abi:t,address:n,args:r,docsPath:s,functionName:a,sender:o}){const{code:i,data:c,message:l,shortMessage:d}=e instanceof Dn?e:e instanceof j?e.walk(m=>"data"in m)||e.walk():{},f=e instanceof Mt?new io({functionName:a}):[fo,Re.code].includes(i)&&(c||l||d)?new ln({abi:t,data:typeof c=="object"?c.data:c,functionName:a,message:d??l}):e;return new oo(f,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:a,sender:o})}class Be extends j{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the WalletClient."].join(`
`),{docsPath:t,docsSlug:"account"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountNotFoundError"})}}class ho extends j{constructor(t,{account:n,docsPath:r,chain:s,data:a,gas:o,gasPrice:i,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:d,to:f,value:m}){var h;const g=bt({from:n==null?void 0:n.address,to:f,value:typeof m<"u"&&`${zn(m)} ${((h=s==null?void 0:s.nativeCurrency)==null?void 0:h.symbol)||"ETH"}`,data:a,gas:o,gasPrice:typeof i<"u"&&`${ee(i)} gwei`,maxFeePerGas:typeof c<"u"&&`${ee(c)} gwei`,maxPriorityFeePerGas:typeof l<"u"&&`${ee(l)} gwei`,nonce:d});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",g].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EstimateGasExecutionError"}),this.cause=t}}class Se extends j{constructor({cause:t,message:n}={}){var s;const r=(s=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ExecutionRevertedError"})}}Object.defineProperty(Se,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(Se,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class $t extends j{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${ee(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooHigh"})}}Object.defineProperty($t,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class fn extends j{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${ee(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooLow"})}}Object.defineProperty(fn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class hn extends j{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooHighError"})}}Object.defineProperty(hn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class mn extends j{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooLowError"})}}Object.defineProperty(mn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class pn extends j{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceMaxValueError"})}}Object.defineProperty(pn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class gn extends j{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InsufficientFundsError"})}}Object.defineProperty(gn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds/});class bn extends j{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooHighError"})}}Object.defineProperty(bn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class yn extends j{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooLowError"})}}Object.defineProperty(yn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class wn extends j{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionTypeNotSupportedError"})}}Object.defineProperty(wn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class Ot extends j{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${ee(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${ee(r)} gwei`:""}).`].join(`
`),{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TipAboveFeeCapError"})}}Object.defineProperty(Ot,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Dt extends j{constructor({cause:t}){super(`An error occurred while executing: ${t==null?void 0:t.shortMessage}`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownNodeError"})}}function Un(e,t){const n=(e.details||"").toLowerCase(),r=e.walk(s=>s.code===Se.code);return r instanceof j?new Se({cause:e,message:r.details}):Se.nodeMessage.test(n)?new Se({cause:e,message:e.details}):$t.nodeMessage.test(n)?new $t({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):fn.nodeMessage.test(n)?new fn({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):hn.nodeMessage.test(n)?new hn({cause:e,nonce:t==null?void 0:t.nonce}):mn.nodeMessage.test(n)?new mn({cause:e,nonce:t==null?void 0:t.nonce}):pn.nodeMessage.test(n)?new pn({cause:e,nonce:t==null?void 0:t.nonce}):gn.nodeMessage.test(n)?new gn({cause:e}):bn.nodeMessage.test(n)?new bn({cause:e,gas:t==null?void 0:t.gas}):yn.nodeMessage.test(n)?new yn({cause:e,gas:t==null?void 0:t.gas}):wn.nodeMessage.test(n)?new wn({cause:e}):Ot.nodeMessage.test(n)?new Ot({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):new Dt({cause:e})}function mo(e,{docsPath:t,...n}){const r=(()=>{const s=Un(e,n);return s instanceof Dt?e:s})();return new ho(r,{docsPath:t,...n})}function _n(e,{format:t}){if(!t)return{};const n={};function r(a){const o=Object.keys(a);for(const i of o)i in e&&(n[i]=e[i]),a[i]&&typeof a[i]=="object"&&!Array.isArray(a[i])&&r(a[i])}const s=t(e||{});return r(s),n}const po={legacy:"0x0",eip2930:"0x1",eip1559:"0x2"};function Ut(e){return{...e,gas:typeof e.gas<"u"?L(e.gas):void 0,gasPrice:typeof e.gasPrice<"u"?L(e.gasPrice):void 0,maxFeePerGas:typeof e.maxFeePerGas<"u"?L(e.maxFeePerGas):void 0,maxPriorityFeePerGas:typeof e.maxPriorityFeePerGas<"u"?L(e.maxPriorityFeePerGas):void 0,nonce:typeof e.nonce<"u"?L(e.nonce):void 0,type:typeof e.type<"u"?po[e.type]:void 0,value:typeof e.value<"u"?L(e.value):void 0}}function yt(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:a}=e,o=t?re(t):void 0;if(o&&!we(o.address))throw new Je({address:o.address});if(a&&!we(a))throw new Je({address:a});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new no;if(r&&r>2n**256n-1n)throw new $t({maxFeePerGas:r});if(s&&r&&s>r)throw new Ot({maxFeePerGas:r,maxPriorityFeePerGas:s})}class go extends j{constructor(){super("`baseFeeMultiplier` must be greater than 1."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseFeeScalarError"})}}class Hn extends j{constructor(){super("Chain does not support EIP-1559 fees."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Eip1559FeesNotSupportedError"})}}class bo extends j{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${ee(t)} gwei).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MaxFeePerGasTooLowError"})}}class Ur extends j{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlockNotFoundError"})}}const _r={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559"};function Hr(e){const t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?J(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?J(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?_r[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return t.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof t.v=="bigint"){if(t.v===0n||t.v===27n)return 0;if(t.v===1n||t.v===28n)return 1;if(t.v>=35n)return t.v%2n===0n?1:0}})(),t.type==="legacy"&&(delete t.accessList,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),t.type==="eip2930"&&(delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),t}function Wr(e){var n;const t=(n=e.transactions)==null?void 0:n.map(r=>typeof r=="string"?r:Hr(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,difficulty:e.difficulty?BigInt(e.difficulty):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}async function ve(e,{blockHash:t,blockNumber:n,blockTag:r,includeTransactions:s}={}){var d,f,m;const a=r??"latest",o=s??!1,i=n!==void 0?L(n):void 0;let c=null;if(t?c=await e.request({method:"eth_getBlockByHash",params:[t,o]}):c=await e.request({method:"eth_getBlockByNumber",params:[i||a,o]}),!c)throw new Ur({blockHash:t,blockNumber:n});return(((m=(f=(d=e.chain)==null?void 0:d.formatters)==null?void 0:f.block)==null?void 0:m.format)||Wr)(c)}async function Wn(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function yo(e,t){return qr(e,t)}async function qr(e,t){var a,o,i;const{block:n,chain:r=e.chain,request:s}=t||{};if(typeof((a=r==null?void 0:r.fees)==null?void 0:a.defaultPriorityFee)=="function"){const c=n||await k(e,ve,"getBlock")({});return r.fees.defaultPriorityFee({block:c,client:e,request:s})}if(typeof((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee)<"u")return(i=r==null?void 0:r.fees)==null?void 0:i.defaultPriorityFee;try{const c=await e.request({method:"eth_maxPriorityFeePerGas"});return Bt(c)}catch{const[c,l]=await Promise.all([n?Promise.resolve(n):k(e,ve,"getBlock")({}),k(e,Wn,"getGasPrice")({})]);if(typeof c.baseFeePerGas!="bigint")throw new Hn;const d=l-c.baseFeePerGas;return d<0n?0n:d}}async function wo(e,t){return vn(e,t)}async function vn(e,t){var m,g;const{block:n,chain:r=e.chain,request:s,type:a="eip1559"}=t||{},o=await(async()=>{var h,p;return typeof((h=r==null?void 0:r.fees)==null?void 0:h.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):((p=r==null?void 0:r.fees)==null?void 0:p.baseFeeMultiplier)??1.2})();if(o<1)throw new go;const c=10**(((m=o.toString().split(".")[1])==null?void 0:m.length)??0),l=h=>h*BigInt(Math.ceil(o*c))/BigInt(c),d=n||await k(e,ve,"getBlock")({});if(typeof((g=r==null?void 0:r.fees)==null?void 0:g.estimateFeesPerGas)=="function")return r.fees.estimateFeesPerGas({block:n,client:e,multiply:l,request:s,type:a});if(a==="eip1559"){if(typeof d.baseFeePerGas!="bigint")throw new Hn;const h=s!=null&&s.maxPriorityFeePerGas?s.maxPriorityFeePerGas:await qr(e,{block:d,chain:r,request:s}),p=l(d.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??p+h,maxPriorityFeePerGas:h}}return{gasPrice:(s==null?void 0:s.gasPrice)??l(await k(e,Wn,"getGasPrice")({}))}}async function Yr(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,r?L(r):n]});return J(s)}function vo(e){if(e.type)return e.type;if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new ro({transaction:e})}async function _t(e,t){const{account:n=e.account,chain:r,gas:s,nonce:a,type:o}=t;if(!n)throw new Be;const i=re(n),c=await k(e,ve,"getBlock")({blockTag:"latest"}),l={...t,from:i.address};if(typeof a>"u"&&(l.nonce=await k(e,Yr,"getTransactionCount")({address:i.address,blockTag:"pending"})),typeof o>"u")try{l.type=vo(l)}catch{l.type=typeof c.baseFeePerGas=="bigint"?"eip1559":"legacy"}if(l.type==="eip1559"){const{maxFeePerGas:d,maxPriorityFeePerGas:f}=await vn(e,{block:c,chain:r,request:l});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<f)throw new bo({maxPriorityFeePerGas:f});l.maxPriorityFeePerGas=f,l.maxFeePerGas=d}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new Hn;const{gasPrice:d}=await vn(e,{block:c,chain:r,request:l,type:"legacy"});l.gasPrice=d}return typeof s>"u"&&(l.gas=await k(e,qn,"estimateGas")({...l,account:{address:i.address,type:"json-rpc"}})),yt(l),l}async function qn(e,t){var s,a,o;const n=t.account??e.account;if(!n)throw new Be({docsPath:"/docs/actions/public/estimateGas"});const r=re(n);try{const{accessList:i,blockNumber:c,blockTag:l,data:d,gas:f,gasPrice:m,maxFeePerGas:g,maxPriorityFeePerGas:h,nonce:p,to:T,value:E,...P}=r.type==="local"?await _t(e,t):t,y=(c?L(c):void 0)||l;yt(t);const $=(o=(a=(s=e.chain)==null?void 0:s.formatters)==null?void 0:a.transactionRequest)==null?void 0:o.format,x=($||Ut)({..._n(P,{format:$}),from:r.address,accessList:i,data:d,gas:f,gasPrice:m,maxFeePerGas:g,maxPriorityFeePerGas:h,nonce:p,to:T,value:E}),M=await e.request({method:"eth_estimateGas",params:y?[x,y]:[x]});return BigInt(M)}catch(i){throw mo(i,{...t,account:r,chain:e.chain})}}async function xo(e,{abi:t,address:n,args:r,functionName:s,...a}){const o=Pe({abi:t,args:r,functionName:s});try{return await k(e,qn,"estimateGas")({data:o,to:n,...a})}catch(i){const c=a.account?re(a.account):void 0;throw dt(i,{abi:t,address:n,args:r,docsPath:"/docs/contract/estimateContractGas",functionName:s,sender:c==null?void 0:c.address})}}const fr="/docs/contract/decodeEventLog";function wt({abi:e,data:t,strict:n,topics:r}){const s=n??!0,[a,...o]=r;if(!a)throw new Bs({docsPath:fr});const i=e.find(h=>h.type==="event"&&a===kn(fe(h)));if(!(i&&"name"in i)||i.type!=="event")throw new Ls(a,{docsPath:fr});const{name:c,inputs:l}=i,d=l==null?void 0:l.some(h=>!("name"in h&&h.name));let f=d?[]:{};const m=l.filter(h=>"indexed"in h&&h.indexed);for(let h=0;h<m.length;h++){const p=m[h],T=o[h];if(!T)throw new ke({abiItem:i,param:p});f[p.name||h]=Eo({param:p,value:T})}const g=l.filter(h=>!("indexed"in h&&h.indexed));if(g.length>0){if(t&&t!=="0x")try{const h=zt(g,t);if(h)if(d)f=[...f,...h];else for(let p=0;p<g.length;p++)f[g[p].name]=h[p]}catch(h){if(s)throw h instanceof In?new Ne({abiItem:i,data:h.data,params:h.params,size:h.size}):h}else if(s)throw new Ne({abiItem:i,data:"0x",params:g,size:0})}return{eventName:c,args:Object.values(f).length>0?f:void 0}}function Eo({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(zt([e],t)||[])[0]}function oe(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function Yn(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:a,events:o,args:i,strict:c}={}){const l=c??!1,d=o??(a?[a]:void 0);let f=[];d&&(f=[d.flatMap(g=>gt({abi:[g],eventName:g.name,args:i}))],a&&(f=f[0]));let m;return n?m=await e.request({method:"eth_getLogs",params:[{address:t,topics:f,blockHash:n}]}):m=await e.request({method:"eth_getLogs",params:[{address:t,topics:f,fromBlock:typeof r=="bigint"?L(r):r,toBlock:typeof s=="bigint"?L(s):s}]}),m.map(g=>{var h;try{const{eventName:p,args:T}=d?wt({abi:d,data:g.data,topics:g.topics,strict:l}):{eventName:void 0,args:void 0};return oe(g,{args:T,eventName:p})}catch(p){let T,E;if(p instanceof Ne||p instanceof ke){if(l)return;T=p.abiItem.name,E=(h=p.abiItem.inputs)==null?void 0:h.some(P=>!("name"in P&&P.name))}return oe(g,{args:E?[]:{},eventName:T})}}).filter(Boolean)}async function Kr(e,{abi:t,address:n,args:r,blockHash:s,eventName:a,fromBlock:o,toBlock:i,strict:c}){const l=a?pt({abi:t,name:a}):void 0,d=l?void 0:t.filter(f=>f.type==="event");return k(e,Yn,"getLogs")({address:n,args:r,blockHash:s,event:l,events:d,fromBlock:o,toBlock:i,strict:c})}const tn="/docs/contract/decodeFunctionResult";function Le({abi:e,args:t,functionName:n,data:r}){let s=e[0];if(n&&(s=pt({abi:e,args:t,name:n}),!s))throw new St(n,{docsPath:tn});if(s.type!=="function")throw new St(void 0,{docsPath:tn});if(!s.outputs)throw new Gs(s.name,{docsPath:tn});const a=zt(s.outputs,r);if(a&&a.length>1)return a;if(a&&a.length===1)return a[0]}const xn=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],Jr=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"}],Vr=[...Jr,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],Po=[...Jr,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],hr=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],mr=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],To=[{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"}],No="0x82ad56cb";class En extends j{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDoesNotSupportContract"})}}class jo extends j{constructor({chain:t,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${t.id} – ${t.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t.id} – ${t.name}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainMismatchError"})}}class Ao extends j{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotFoundError"})}}class Xr extends j{constructor(){super("No chain was provided to the Client."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ClientChainNotConfiguredError"})}}function Ge({blockNumber:e,chain:t,contract:n}){var s;const r=(s=t==null?void 0:t.contracts)==null?void 0:s[n];if(!r)throw new En({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new En({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function Co(e,{docsPath:t,...n}){const r=(()=>{const s=Un(e,n);return s instanceof Dt?e:s})();return new zr(r,{docsPath:t,...n})}const nn=new Map;function Zr({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const a=async()=>{const d=c();o();const f=d.map(({args:m})=>m);f.length!==0&&e(f).then(m=>{var g;s&&Array.isArray(m)&&m.sort(s);for(let h=0;h<d.length;h++){const{pendingPromise:p}=d[h];(g=p.resolve)==null||g.call(p,[m[h],m])}}).catch(m=>{var g;for(let h=0;h<d.length;h++){const{pendingPromise:p}=d[h];(g=p.reject)==null||g.call(p,m)}})},o=()=>nn.delete(t),i=()=>c().map(({args:d})=>d),c=()=>nn.get(t)||[],l=d=>nn.set(t,[...c(),d]);return{flush:o,async schedule(d){const f={},m=new Promise((p,T)=>{f.resolve=p,f.reject=T});return(n==null?void 0:n([...i(),d]))&&a(),c().length>0?(l({args:d,pendingPromise:f}),m):(l({args:d,pendingPromise:f}),setTimeout(a,r),m)}}}async function Ht(e,t){var E,P,A,y;const{account:n=e.account,batch:r=!!((E=e.batch)!=null&&E.multicall),blockNumber:s,blockTag:a="latest",accessList:o,data:i,gas:c,gasPrice:l,maxFeePerGas:d,maxPriorityFeePerGas:f,nonce:m,to:g,value:h,...p}=t,T=n?re(n):void 0;try{yt(t);const C=(s?L(s):void 0)||a,x=(y=(A=(P=e.chain)==null?void 0:P.formatters)==null?void 0:A.transactionRequest)==null?void 0:y.format,F=(x||Ut)({..._n(p,{format:x}),from:T==null?void 0:T.address,accessList:o,data:i,gas:c,gasPrice:l,maxFeePerGas:d,maxPriorityFeePerGas:f,nonce:m,to:g,value:h});if(r&&So({request:F}))try{return await Io(e,{...F,blockNumber:s,blockTag:a})}catch(_){if(!(_ instanceof Xr)&&!(_ instanceof En))throw _}const D=await e.request({method:"eth_call",params:C?[F,C]:[F]});return D==="0x"?{data:void 0}:{data:D}}catch($){const C=$o($),{offchainLookup:x,offchainLookupSignature:M}=await Es(async()=>{const{offchainLookup:F,offchainLookupSignature:D}=await import("./ccip-nILGVmHB.js");return{offchainLookup:F,offchainLookupSignature:D}},__vite__mapDeps([0,1,2]));if((C==null?void 0:C.slice(0,10))===M&&g)return{data:await x(e,{data:C,to:g})};throw Co($,{...t,account:T,chain:e.chain})}}function So({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(No)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function Io(e,t){var p;const{batchSize:n=1024,wait:r=0}=typeof((p=e.batch)==null?void 0:p.multicall)=="object"?e.batch.multicall:{},{blockNumber:s,blockTag:a="latest",data:o,multicallAddress:i,to:c}=t;let l=i;if(!l){if(!e.chain)throw new Xr;l=Ge({blockNumber:s,chain:e.chain,contract:"multicall3"})}const f=(s?L(s):void 0)||a,{schedule:m}=Zr({id:`${e.uid}.${f}`,wait:r,shouldSplitBatch(T){return T.reduce((P,{data:A})=>P+(A.length-2),0)>n*2},fn:async T=>{const E=T.map(y=>({allowFailure:!0,callData:y.data,target:y.to})),P=Pe({abi:xn,args:[E],functionName:"aggregate3"}),A=await e.request({method:"eth_call",params:[{data:P,to:l},f]});return Le({abi:xn,args:[E],functionName:"aggregate3",data:A||"0x"})}}),[{returnData:g,success:h}]=await m({data:o,to:c});if(!h)throw new Dn({data:g});return g==="0x"?{data:void 0}:{data:g}}function $o(e){if(!(e instanceof j))return;const t=e.walk();return typeof t.data=="object"?t.data.data:t.data}async function xe(e,{abi:t,address:n,args:r,functionName:s,...a}){const o=Pe({abi:t,args:r,functionName:s});try{const{data:i}=await k(e,Ht,"call")({data:o,to:n,...a});return Le({abi:t,args:r,functionName:s,data:i||"0x"})}catch(i){throw dt(i,{abi:t,address:n,args:r,docsPath:"/docs/contract/readContract",functionName:s})}}async function Oo(e,{abi:t,address:n,args:r,dataSuffix:s,functionName:a,...o}){const i=o.account?re(o.account):void 0,c=Pe({abi:t,args:r,functionName:a});try{const{data:l}=await k(e,Ht,"call")({batch:!1,data:`${c}${s?s.replace("0x",""):""}`,to:n,...o});return{result:Le({abi:t,args:r,functionName:a,data:l||"0x"}),request:{abi:t,address:n,args:r,dataSuffix:s,functionName:a,...o}}}catch(l){throw dt(l,{abi:t,address:n,args:r,docsPath:"/docs/contract/simulateContract",functionName:a,sender:i==null?void 0:i.address})}}const rn=new Map,pr=new Map;let Ro=0;function ze(e,t,n){const r=++Ro,s=()=>rn.get(e)||[],a=()=>{const d=s();rn.set(e,d.filter(f=>f.id!==r))},o=()=>{const d=pr.get(e);s().length===1&&d&&d(),a()},i=s();if(rn.set(e,[...i,{id:r,fns:t}]),i&&i.length>0)return o;const c={};for(const d in t)c[d]=(...f)=>{var g,h;const m=s();if(m.length!==0)for(const p of m)(h=(g=p.fns)[d])==null||h.call(g,...f)};const l=n(c);return typeof l=="function"&&pr.set(e,l),o}async function Pn(e){return new Promise(t=>setTimeout(t,e))}function vt(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const a=()=>s=!1;return(async()=>{let i;t&&(i=await e({unpoll:a}));const c=await(n==null?void 0:n(i))??r;await Pn(c);const l=async()=>{s&&(await e({unpoll:a}),await Pn(r),l())};l()})(),a}const ko=new Map,Fo=new Map;function Mo(e){const t=(s,a)=>({clear:()=>a.delete(s),get:()=>a.get(s),set:o=>a.set(s,o)}),n=t(e,ko),r=t(e,Fo);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function Bo(e,{cacheKey:t,cacheTime:n=1/0}){const r=Mo(t),s=r.response.get();if(s&&n>0&&new Date().getTime()-s.created.getTime()<n)return s.data;let a=r.promise.get();a||(a=e(),r.promise.set(a));try{const o=await a;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const Lo=e=>`blockNumber.${e}`;async function xt(e,{cacheTime:t=e.cacheTime,maxAge:n}={}){const r=await Bo(()=>e.request({method:"eth_blockNumber"}),{cacheKey:Lo(e.uid),cacheTime:n??t});return BigInt(r)}async function Wt(e,{filter:t}){const n="strict"in t&&t.strict;return(await t.request({method:"eth_getFilterChanges",params:[t.id]})).map(s=>{var a;if(typeof s=="string")return s;try{const{eventName:o,args:i}="abi"in t&&t.abi?wt({abi:t.abi,data:s.data,topics:s.topics,strict:n}):{eventName:void 0,args:void 0};return oe(s,{args:i,eventName:o})}catch(o){let i,c;if(o instanceof Ne||o instanceof ke){if("strict"in t&&t.strict)return;i=o.abiItem.name,c=(a=o.abiItem.inputs)==null?void 0:a.some(l=>!("name"in l&&l.name))}return oe(s,{args:c?[]:{},eventName:i})}}).filter(Boolean)}async function qt(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function Go(e,{abi:t,address:n,args:r,batch:s=!0,eventName:a,onError:o,onLogs:i,poll:c,pollingInterval:l=e.pollingInterval,strict:d}){return(typeof c<"u"?c:e.transport.type!=="webSocket")?(()=>{const h=Z(["watchContractEvent",n,r,s,e.uid,a,l]),p=d??!1;return ze(h,{onLogs:i,onError:o},T=>{let E,P,A=!1;const y=vt(async()=>{var $;if(!A){try{P=await k(e,Rr,"createContractEventFilter")({abi:t,address:n,args:r,eventName:a,strict:p})}catch{}A=!0;return}try{let C;if(P)C=await k(e,Wt,"getFilterChanges")({filter:P});else{const x=await k(e,xt,"getBlockNumber")({});E&&E!==x?C=await k(e,Kr,"getContractEvents")({abi:t,address:n,args:r,eventName:a,fromBlock:E+1n,toBlock:x,strict:p}):C=[],E=x}if(C.length===0)return;if(s)T.onLogs(C);else for(const x of C)T.onLogs([x])}catch(C){P&&C instanceof je&&(A=!1),($=T.onError)==null||$.call(T,C)}},{emitOnBegin:!0,interval:l});return async()=>{P&&await k(e,qt,"uninstallFilter")({filter:P}),y()}})})():(()=>{let h=!0,p=()=>h=!1;return(async()=>{try{const T=a?gt({abi:t,eventName:a,args:r}):[],{unsubscribe:E}=await e.transport.subscribe({params:["logs",{address:n,topics:T}],onData(P){var y;if(!h)return;const A=P.result;try{const{eventName:$,args:C}=wt({abi:t,data:A.data,topics:A.topics,strict:d}),x=oe(A,{args:C,eventName:$});i([x])}catch($){let C,x;if($ instanceof Ne||$ instanceof ke){if(d)return;C=$.abiItem.name,x=(y=$.abiItem.inputs)==null?void 0:y.some(F=>!("name"in F&&F.name))}const M=oe(A,{args:x?[]:{},eventName:C});i([M])}},onError(P){o==null||o(P)}});p=E,h||p()}catch(T){o==null||o(T)}})(),p})()}function Qr({chain:e,currentChainId:t}){if(!e)throw new Ao;if(t!==e.id)throw new jo({chain:e,currentChainId:t})}function zo(e,{docsPath:t,...n}){const r=(()=>{const s=Un(e,n);return s instanceof Dt?e:s})();return new so(r,{docsPath:t,...n})}async function ft(e){const t=await e.request({method:"eth_chainId"});return J(t)}async function Kn(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]})}async function Jn(e,t){var p,T,E,P;const{account:n=e.account,chain:r=e.chain,accessList:s,data:a,gas:o,gasPrice:i,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:d,to:f,value:m,...g}=t;if(!n)throw new Be({docsPath:"/docs/actions/wallet/sendTransaction"});const h=re(n);try{yt(t);let A;if(r!==null&&(A=await k(e,ft,"getChainId")({}),Qr({currentChainId:A,chain:r})),h.type==="local"){const x=await k(e,_t,"prepareTransactionRequest")({account:h,accessList:s,chain:r,data:a,gas:o,gasPrice:i,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:d,to:f,value:m,...g});A||(A=await k(e,ft,"getChainId")({}));const M=(p=r==null?void 0:r.serializers)==null?void 0:p.transaction,F=await h.signTransaction({...x,chainId:A},{serializer:M});return await k(e,Kn,"sendRawTransaction")({serializedTransaction:F})}const y=(P=(E=(T=e.chain)==null?void 0:T.formatters)==null?void 0:E.transactionRequest)==null?void 0:P.format,C=(y||Ut)({..._n(g,{format:y}),accessList:s,data:a,from:h.address,gas:o,gasPrice:i,maxFeePerGas:c,maxPriorityFeePerGas:l,nonce:d,to:f,value:m});return await e.request({method:"eth_sendTransaction",params:[C]})}catch(A){throw zo(A,{...t,account:h,chain:t.chain||void 0})}}async function Do(e,{abi:t,address:n,args:r,dataSuffix:s,functionName:a,...o}){const i=Pe({abi:t,args:r,functionName:a});return await k(e,Jn,"sendTransaction")({data:`${i}${s?s.replace("0x",""):""}`,to:n,...o})}async function Uo(e,{chain:t}){const{id:n,name:r,nativeCurrency:s,rpcUrls:a,blockExplorers:o}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:L(n),chainName:r,nativeCurrency:s,rpcUrls:a.default.http,blockExplorerUrls:o?Object.values(o).map(({url:i})=>i):void 0}]})}const Tn=256;let jt=Tn,At;function _o(e=11){if(!At||jt+e>Tn*2){At="",jt=0;for(let t=0;t<Tn;t++)At+=(256+Math.random()*256|0).toString(16).substring(1)}return At.substring(jt,jt+++e)}function es(e){const{batch:t,cacheTime:n=e.pollingInterval??4e3,key:r="base",name:s="Base Client",pollingInterval:a=4e3,type:o="base"}=e,i=e.chain,c=e.account?re(e.account):void 0,{config:l,request:d,value:f}=e.transport({chain:i,pollingInterval:a}),m={...l,...f},g={account:c,batch:t,cacheTime:n,chain:i,key:r,name:s,pollingInterval:a,request:d,transport:m,type:o,uid:_o()};function h(p){return T=>{const E=T(p);for(const A in g)delete E[A];const P={...p,...E};return Object.assign(P,{extend:h(P)})}}return Object.assign(g,{extend:h(g)})}function Nn(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,a)=>{const o=async({count:i=0}={})=>{const c=async({error:l})=>{const d=typeof t=="function"?t({count:i,error:l}):t;d&&await Pn(d),o({count:i+1})};try{const l=await e();s(l)}catch(l){if(i<n&&await r({count:i,error:l}))return c({error:l});a(l)}};o()})}const Ho=e=>"code"in e?e.code!==-1&&e.code!==-32004&&e.code!==-32005&&e.code!==-32042&&e.code!==-32603:e instanceof Ye&&e.status?e.status!==403&&e.status!==408&&e.status!==413&&e.status!==429&&e.status!==500&&e.status!==502&&e.status!==503&&e.status!==504:!1;function Wo(e,{retryDelay:t=150,retryCount:n=3}={}){return async r=>Nn(async()=>{try{return await e(r)}catch(s){const a=s;switch(a.code){case Ve.code:throw new Ve(a);case Xe.code:throw new Xe(a);case Ze.code:throw new Ze(a);case Qe.code:throw new Qe(a);case Re.code:throw new Re(a);case je.code:throw new je(a);case et.code:throw new et(a);case tt.code:throw new tt(a);case nt.code:throw new nt(a);case rt.code:throw new rt(a);case st.code:throw new st(a);case at.code:throw new at(a);case Oe.code:throw new Oe(a);case ot.code:throw new ot(a);case it.code:throw new it(a);case ct.code:throw new ct(a);case ut.code:throw new ut(a);case lt.code:throw new lt(a);case 5e3:throw new Oe(a);default:throw s instanceof j?s:new lo(a)}}},{delay:({count:s,error:a})=>{var o;if(a&&a instanceof Ye){const i=(o=a==null?void 0:a.headers)==null?void 0:o.get("Retry-After");if(i!=null&&i.match(/\d/))return parseInt(i)*1e3}return~~(1<<s)*t},retryCount:n,shouldRetry:({error:s})=>!Ho(s)})}function ts({key:e,name:t,request:n,retryCount:r=3,retryDelay:s=150,timeout:a,type:o},i){return{config:{key:e,name:t,request:n,retryCount:r,retryDelay:s,timeout:a,type:o},request:Wo(n,{retryCount:r,retryDelay:s}),value:i}}function qo(e,t={}){const{key:n="custom",name:r="Custom Provider",retryDelay:s}=t;return({retryCount:a})=>ts({key:n,name:r,request:e.request.bind(e),retryCount:t.retryCount??a,retryDelay:s,type:"custom"})}class Yo extends j{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro"})}}function ns(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,a)=>{(async()=>{let o;try{const i=new AbortController;n>0&&(o=setTimeout(()=>{r?i.abort():a(t)},n)),s(await e({signal:i==null?void 0:i.signal}))}catch(i){i.name==="AbortError"&&a(t),a(i)}finally{clearTimeout(o)}})()})}let jn=0;async function Ko(e,{body:t,fetchOptions:n={},timeout:r=1e4}){var i;const{headers:s,method:a,signal:o}=n;try{const c=await ns(async({signal:d})=>await fetch(e,{...n,body:Array.isArray(t)?Z(t.map(m=>({jsonrpc:"2.0",id:m.id??jn++,...m}))):Z({jsonrpc:"2.0",id:t.id??jn++,...t}),headers:{...s,"Content-Type":"application/json"},method:a||"POST",signal:o||(r>0?d:void 0)}),{errorInstance:new dn({body:t,url:e}),timeout:r,signal:!0});let l;if((i=c.headers.get("Content-Type"))!=null&&i.startsWith("application/json")?l=await c.json():l=await c.text(),!c.ok)throw new Ye({body:t,details:Z(l.error)||c.statusText,headers:c.headers,status:c.status,url:e});return l}catch(c){throw c instanceof Ye||c instanceof dn?c:new Ye({body:t,details:c.message,url:e})}}function Jo(e,{body:t,onResponse:n}){if(e.readyState===e.CLOSED||e.readyState===e.CLOSING)throw new co({body:t,url:e.url,details:"Socket is closed."});const r=jn++,s=({data:a})=>{var i;const o=JSON.parse(a);typeof o.id=="number"&&r!==o.id||(n==null||n(o),t.method==="eth_subscribe"&&typeof o.result=="string"&&e.subscriptions.set(o.result,s),t.method==="eth_unsubscribe"&&e.subscriptions.delete((i=t.params)==null?void 0:i[0]))};return e.requests.set(r,s),e.send(JSON.stringify({jsonrpc:"2.0",...t,id:r})),e}async function Vo(e,{body:t,timeout:n=1e4}){return ns(()=>new Promise(r=>An.webSocket(e,{body:t,onResponse:r})),{errorInstance:new dn({body:t,url:e.url}),timeout:n})}const An={http:Ko,webSocket:Jo,webSocketAsync:Vo};function gr(e,t={}){const{batch:n,fetchOptions:r,key:s="http",name:a="HTTP JSON-RPC",retryDelay:o}=t;return({chain:i,retryCount:c,timeout:l})=>{const{batchSize:d=1e3,wait:f=0}=typeof n=="object"?n:{},m=t.retryCount??c,g=l??t.timeout??1e4,h=e||(i==null?void 0:i.rpcUrls.default.http[0]);if(!h)throw new Yo;return ts({key:s,name:a,async request({method:p,params:T}){const E={method:p,params:T},{schedule:P}=Zr({id:`${e}`,wait:f,shouldSplitBatch(C){return C.length>d},fn:C=>An.http(h,{body:C,fetchOptions:r,timeout:g}),sort:(C,x)=>C.id-x.id}),A=async C=>n?P(C):[await An.http(h,{body:C,fetchOptions:r,timeout:g})],[{error:y,result:$}]=await A(E);if(y)throw new Dr({body:E,error:y,url:h});return $},retryCount:m,retryDelay:o,timeout:g,type:"http"},{fetchOptions:r,url:e})}}function Vn(e,t){var r,s,a;if(!(e instanceof j))return!1;const n=e.walk(o=>o instanceof ln);return n instanceof ln?!!(((r=n.data)==null?void 0:r.errorName)==="ResolverNotFound"||((s=n.data)==null?void 0:s.errorName)==="ResolverWildcardNotSupported"||(a=n.reason)!=null&&a.includes("Wildcard on non-extended resolvers is not supported")||t==="reverse"&&n.reason===kr[50]):!1}function rs(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return ue(t)?t:null}function Ct(e){let t=new Uint8Array(32).fill(0);if(!e)return Ke(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=rs(n[r]),a=s?ye(s):X(de(n[r]),"bytes");t=X(he([t,a]),"bytes")}return Ke(t)}function Xo(e){return`[${e.slice(2)}]`}function Zo(e){const t=new Uint8Array(32).fill(0);return e?rs(e)||X(de(e)):Ke(t)}function Yt(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(de(t).byteLength+2);let r=0;const s=t.split(".");for(let a=0;a<s.length;a++){let o=de(s[a]);o.byteLength>255&&(o=de(Xo(Zo(s[a])))),n[r]=o.length,n.set(o,r+1),r+=o.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function Qo(e,{blockNumber:t,blockTag:n,coinType:r,name:s,universalResolverAddress:a}){let o=a;if(!o){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");o=Ge({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const i=Pe({abi:mr,functionName:"addr",...r!=null?{args:[Ct(s),BigInt(r)]}:{args:[Ct(s)]}}),c=await k(e,xe,"readContract")({address:o,abi:Vr,functionName:"resolve",args:[me(Yt(s)),i],blockNumber:t,blockTag:n});if(c[0]==="0x")return null;const l=Le({abi:mr,args:r!=null?[Ct(s),BigInt(r)]:void 0,functionName:"addr",data:c[0]});return l==="0x"||Ie(l)==="0x00"?null:l}catch(i){if(Vn(i,"resolve"))return null;throw i}}class ei extends j{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidMetadataError"})}}class We extends j{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidNftUriError"})}}class Xn extends j{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUriResolutionError"})}}class ti extends j{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUnsupportedNamespaceError"})}}const ni=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,ri=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,si=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,ai=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function oi(e){try{const t=await fetch(e,{method:"HEAD"});if(t.status===200){const n=t.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function br(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function ss({uri:e,gatewayUrls:t}){const n=si.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=br(t==null?void 0:t.ipfs,"https://ipfs.io"),s=br(t==null?void 0:t.arweave,"https://arweave.net"),a=e.match(ni),{protocol:o,subpath:i,target:c,subtarget:l=""}=(a==null?void 0:a.groups)||{},d=o==="ipns:/"||i==="ipns/",f=o==="ipfs:/"||i==="ipfs/"||ri.test(e);if(e.startsWith("http")&&!d&&!f){let g=e;return t!=null&&t.arweave&&(g=e.replace(/https:\/\/arweave.net/g,t==null?void 0:t.arweave)),{uri:g,isOnChain:!1,isEncoded:!1}}if((d||f)&&c)return{uri:`${r}/${d?"ipns":"ipfs"}/${c}${l}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&c)return{uri:`${s}/${c}${l||""}`,isOnChain:!1,isEncoded:!1};let m=e.replace(ai,"");if(m.startsWith("<svg")&&(m=`data:image/svg+xml;base64,${btoa(m)}`),m.startsWith("data:")||m.startsWith("{"))return{uri:m,isOnChain:!0,isEncoded:!1};throw new Xn({uri:e})}function as(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new ei({data:e});return e.image||e.image_url||e.image_data}async function ii({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await Zn({gatewayUrls:e,uri:as(n)})}catch{throw new Xn({uri:t})}}async function Zn({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=ss({uri:t,gatewayUrls:e});if(r||await oi(n))return n;throw new Xn({uri:t})}function ci(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[a,o]=n.split(":"),[i,c]=r.split(":");if(!a||a.toLowerCase()!=="eip155")throw new We({reason:"Only EIP-155 supported"});if(!o)throw new We({reason:"Chain ID not found"});if(!c)throw new We({reason:"Contract address not found"});if(!s)throw new We({reason:"Token ID not found"});if(!i)throw new We({reason:"ERC namespace not found"});return{chainID:parseInt(o),namespace:i.toLowerCase(),contractAddress:c,tokenID:s}}async function ui(e,{nft:t}){if(t.namespace==="erc721")return xe(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return xe(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new ti({namespace:t.namespace})}async function li(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?di(e,{gatewayUrls:t,record:n}):Zn({uri:n,gatewayUrls:t})}async function di(e,{gatewayUrls:t,record:n}){const r=ci(n),s=await ui(e,{nft:r}),{uri:a,isOnChain:o,isEncoded:i}=ss({uri:s,gatewayUrls:t});if(o&&(a.includes("data:application/json;base64,")||a.startsWith("{"))){const l=i?atob(a.replace("data:application/json;base64,","")):a,d=JSON.parse(l);return Zn({uri:as(d),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),ii({gatewayUrls:t,uri:a.replace(/(?:0x)?{id}/,c)})}async function os(e,{blockNumber:t,blockTag:n,name:r,key:s,universalResolverAddress:a}){let o=a;if(!o){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");o=Ge({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const i=await k(e,xe,"readContract")({address:o,abi:Vr,functionName:"resolve",args:[me(Yt(r)),Pe({abi:hr,functionName:"text",args:[Ct(r),s]})],blockNumber:t,blockTag:n});if(i[0]==="0x")return null;const c=Le({abi:hr,functionName:"text",data:i[0]});return c===""?null:c}catch(i){if(Vn(i,"resolve"))return null;throw i}}async function fi(e,{blockNumber:t,blockTag:n,gatewayUrls:r,name:s,universalResolverAddress:a}){const o=await k(e,os,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:a});if(!o)return null;try{return await li(e,{record:o,gatewayUrls:r})}catch{return null}}async function hi(e,{address:t,blockNumber:n,blockTag:r,universalResolverAddress:s}){let a=s;if(!a){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=Ge({blockNumber:n,chain:e.chain,contract:"ensUniversalResolver"})}const o=`${t.toLowerCase().substring(2)}.addr.reverse`;try{const[i,c]=await k(e,xe,"readContract")({address:a,abi:Po,functionName:"reverse",args:[me(Yt(o))],blockNumber:n,blockTag:r});return t.toLowerCase()!==c.toLowerCase()?null:i}catch(i){if(Vn(i,"reverse"))return null;throw i}}async function mi(e,{blockNumber:t,blockTag:n,name:r,universalResolverAddress:s}){let a=s;if(!a){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=Ge({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}const[o]=await k(e,xe,"readContract")({address:a,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[me(Yt(r))],blockNumber:t,blockTag:n});return o}async function pi(e){const t=Gt(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function is(e,{address:t,args:n,event:r,events:s,fromBlock:a,strict:o,toBlock:i}={}){const c=s??(r?[r]:void 0),l=Gt(e,{method:"eth_newFilter"});let d=[];c&&(d=[c.flatMap(m=>gt({abi:[m],eventName:m.name,args:n}))],r&&(d=d[0]));const f=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof a=="bigint"?L(a):a,toBlock:typeof i=="bigint"?L(i):i,...d.length?{topics:d}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:a,id:f,request:l(f),strict:o,toBlock:i,type:"event"}}async function cs(e){const t=Gt(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function gi(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n?L(n):void 0,a=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(a)}async function bi(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?L(n):void 0;let a;return t?a=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]}):a=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]}),J(a)}async function yi(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?L(n):void 0,a=await e.request({method:"eth_getCode",params:[t,s||r]});if(a!=="0x")return a}function wi(e){var t;return{baseFeePerGas:e.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:(t=e.reward)==null?void 0:t.map(n=>n.map(r=>BigInt(r)))}}async function vi(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const a=n?L(n):void 0,o=await e.request({method:"eth_feeHistory",params:[L(t),a||r,s]});return wi(o)}async function xi(e,{filter:t}){const n=t.strict??!1;return(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(s=>{var a;try{const{eventName:o,args:i}="abi"in t&&t.abi?wt({abi:t.abi,data:s.data,topics:s.topics,strict:n}):{eventName:void 0,args:void 0};return oe(s,{args:i,eventName:o})}catch(o){let i,c;if(o instanceof Ne||o instanceof ke){if("strict"in t&&t.strict)return;i=o.abiItem.name,c=(a=o.abiItem.inputs)==null?void 0:a.some(l=>!("name"in l&&l.name))}return oe(s,{args:c?[]:{},eventName:i})}}).filter(Boolean)}const Ei=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Pi=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Ti({domain:e,message:t,primaryType:n,types:r}){const s=typeof e>"u"?{}:e,a={EIP712Domain:ms({domain:s}),...r};hs({domain:s,message:t,primaryType:n,types:a});const o=["0x1901"];return s&&o.push(Ni({domain:s,types:a})),n!=="EIP712Domain"&&o.push(us({data:t,primaryType:n,types:a})),X(he(o))}function Ni({domain:e,types:t}){return us({data:e,primaryType:"EIP712Domain",types:t})}function us({data:e,primaryType:t,types:n}){const r=ls({data:e,primaryType:t,types:n});return X(r)}function ls({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[ji({primaryType:t,types:n})];for(const a of n[t]){const[o,i]=fs({types:n,name:a.name,type:a.type,value:e[a.name]});r.push(o),s.push(i)}return mt(r,s)}function ji({primaryType:e,types:t}){const n=me(Ai({primaryType:e,types:t}));return X(n)}function Ai({primaryType:e,types:t}){let n="";const r=ds({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const a of s)n+=`${a}(${t[a].map(({name:o,type:i})=>`${i} ${o}`).join(",")})`;return n}function ds({primaryType:e,types:t},n=new Set){const r=e.match(/^\w*/u),s=r==null?void 0:r[0];if(n.has(s)||t[s]===void 0)return n;n.add(s);for(const a of t[s])ds({primaryType:a.type,types:t},n);return n}function fs({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},X(ls({data:r,primaryType:n,types:e}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},X(r)];if(n==="string")return[{type:"bytes32"},X(me(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),a=r.map(o=>fs({name:t,type:s,types:e,value:o}));return[{type:"bytes32"},X(mt(a.map(([o])=>o),a.map(([,o])=>o)))]}return[{type:n},r]}function hs({domain:e,message:t,primaryType:n,types:r}){const s=r,a=(o,i)=>{for(const c of o){const{name:l,type:d}=c,f=d,m=i[l],g=f.match(Pi);if(g&&(typeof m=="number"||typeof m=="bigint")){const[T,E,P]=g;L(m,{signed:E==="int",size:parseInt(P)/8})}if(f==="address"&&typeof m=="string"&&!we(m))throw new Je({address:m});const h=f.match(Ei);if(h){const[T,E]=h;if(E&&K(m)!==parseInt(E))throw new Ds({expectedSize:parseInt(E),givenSize:K(m)})}const p=s[f];p&&a(p,m)}};if(s.EIP712Domain&&e&&a(s.EIP712Domain,e),n!=="EIP712Domain"){const o=s[n];a(o,t)}}function ms({domain:e}){return[typeof(e==null?void 0:e.name)=="string"&&{name:"name",type:"string"},(e==null?void 0:e.version)&&{name:"version",type:"string"},typeof(e==null?void 0:e.chainId)=="number"&&{name:"chainId",type:"uint256"},(e==null?void 0:e.verifyingContract)&&{name:"verifyingContract",type:"address"},(e==null?void 0:e.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}const sn="/docs/contract/encodeDeployData";function ps({abi:e,args:t,bytecode:n}){if(!t||t.length===0)return n;const r=e.find(a=>"type"in a&&a.type==="constructor");if(!r)throw new Rs({docsPath:sn});if(!("inputs"in r))throw new rr({docsPath:sn});if(!r.inputs||r.inputs.length===0)throw new rr({docsPath:sn});const s=mt(r.inputs,t);return Fn([n,s])}const Ci={"0x0":"reverted","0x1":"success"};function Si(e){return{...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(t=>oe(t)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?J(e.transactionIndex):null,status:e.status?Ci[e.status]:null,type:e.type?_r[e.type]||e.type:null}}const Ii=`Ethereum Signed Message:
`;function $i(e,t){const n=typeof e=="string"?de(e):e.raw instanceof Uint8Array?e.raw:ye(e.raw),r=de(`${Ii}${n.length}`);return X(he([r,n]),t)}function Oi(e,t){let[n,r="0"]=e.split(".");const s=n.startsWith("-");if(s&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),t===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>t){const[a,o,i]=[r.slice(0,t-1),r.slice(t-1,t),r.slice(t)],c=Math.round(+`${o}.${i}`);c>9?r=`${BigInt(a)+BigInt(1)}0`.padStart(a.length+1,"0"):r=`${a}${c}`,r.length>t&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,t)}else r=r.padEnd(t,"0");return BigInt(`${s?"-":""}${n}${r}`)}function an(e,t="wei"){return Oi(e,Mr[t])}function Ri(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function ki(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?J(e.nonce):void 0,storageProof:e.storageProof?Ri(e.storageProof):void 0}}async function Fi(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const a=r??"latest",o=n!==void 0?L(n):void 0,i=await e.request({method:"eth_getProof",params:[t,s,o||a]});return ki(i)}async function Mi(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const a=n!==void 0?L(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,a||r]})}async function Qn(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:a}){var d,f,m;const o=r||"latest",i=n!==void 0?L(n):void 0;let c=null;if(s?c=await e.request({method:"eth_getTransactionByHash",params:[s]}):t?c=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,L(a)]}):c=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[i||o,L(a)]}),!c)throw new Lr({blockHash:t,blockNumber:n,blockTag:o,hash:s,index:a});return(((m=(f=(d=e.chain)==null?void 0:d.formatters)==null?void 0:f.transaction)==null?void 0:m.format)||Hr)(c)}async function Bi(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([k(e,xt,"getBlockNumber")({}),t?k(e,Qn,"getBlockNumber")({hash:t}):void 0]),a=(n==null?void 0:n.blockNumber)||(s==null?void 0:s.blockNumber);return a?r-a+1n:0n}async function Cn(e,{hash:t}){var s,a,o;const n=await e.request({method:"eth_getTransactionReceipt",params:[t]});if(!n)throw new Gr({hash:t});return(((o=(a=(s=e.chain)==null?void 0:s.formatters)==null?void 0:a.transactionReceipt)==null?void 0:o.format)||Si)(n)}async function Li(e,t){var p;const{allowFailure:n=!0,batchSize:r,blockNumber:s,blockTag:a,contracts:o,multicallAddress:i}=t,c=r??(typeof((p=e.batch)==null?void 0:p.multicall)=="object"&&e.batch.multicall.batchSize||1024);let l=i;if(!l){if(!e.chain)throw new Error("client chain not configured. multicallAddress is required.");l=Ge({blockNumber:s,chain:e.chain,contract:"multicall3"})}const d=[[]];let f=0,m=0;for(let T=0;T<o.length;T++){const{abi:E,address:P,args:A,functionName:y}=o[T];try{const $=Pe({abi:E,args:A,functionName:y});m+=($.length-2)/2,c>0&&m>c&&d[f].length>0&&(f++,m=($.length-2)/2,d[f]=[]),d[f]=[...d[f],{allowFailure:!0,callData:$,target:P}]}catch($){const C=dt($,{abi:E,address:P,args:A,docsPath:"/docs/contract/multicall",functionName:y});if(!n)throw C;d[f]=[...d[f],{allowFailure:!0,callData:"0x",target:P}]}}const g=await Promise.allSettled(d.map(T=>k(e,xe,"readContract")({abi:xn,address:l,args:[T],blockNumber:s,blockTag:a,functionName:"aggregate3"}))),h=[];for(let T=0;T<g.length;T++){const E=g[T];if(E.status==="rejected"){if(!n)throw E.reason;for(let A=0;A<d[T].length;A++)h.push({status:"failure",error:E.reason,result:void 0});continue}const P=E.value;for(let A=0;A<P.length;A++){const{returnData:y,success:$}=P[A],{callData:C}=d[T][A],{abi:x,address:M,functionName:F,args:D}=o[h.length];try{if(C==="0x")throw new Mt;if(!$)throw new Dn({data:y});const _=Le({abi:x,args:D,data:y,functionName:F});h.push(n?{result:_,status:"success"}:_)}catch(_){const V=dt(_,{abi:x,address:M,args:D,docsPath:"/docs/contract/multicall",functionName:F});if(!n)throw V;h.push({error:V,result:void 0,status:"failure"})}}}if(h.length!==o.length)throw new j("multicall results mismatch");return h}const Gi="0x60806040523480156200001157600080fd5b50604051620007003803806200070083398101604081905262000034916200056f565b6000620000438484846200004f565b9050806000526001601ff35b600080846001600160a01b0316803b806020016040519081016040528181526000908060200190933c90507f6492649264926492649264926492649264926492649264926492649264926492620000a68462000451565b036200021f57600060608085806020019051810190620000c79190620005ce565b8651929550909350915060000362000192576000836001600160a01b031683604051620000f5919062000643565b6000604051808303816000865af19150503d806000811462000134576040519150601f19603f3d011682016040523d82523d6000602084013e62000139565b606091505b5050905080620001905760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b505b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90620001c4908b90869060040162000661565b602060405180830381865afa158015620001e2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200020891906200069d565b6001600160e01b031916149450505050506200044a565b805115620002b157604051630b135d3f60e11b808252906001600160a01b03871690631626ba7e9062000259908890889060040162000661565b602060405180830381865afa15801562000277573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200029d91906200069d565b6001600160e01b031916149150506200044a565b8251604114620003195760405162461bcd60e51b815260206004820152603a6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e677468000000000000606482015260840162000187565b620003236200046b565b506020830151604080850151855186939260009185919081106200034b576200034b620006c9565b016020015160f81c9050601b81148015906200036b57508060ff16601c14155b15620003cf5760405162461bcd60e51b815260206004820152603b6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c75650000000000606482015260840162000187565b6040805160008152602081018083528a905260ff83169181019190915260608101849052608081018390526001600160a01b038a169060019060a0016020604051602081039080840390855afa1580156200042e573d6000803e3d6000fd5b505050602060405103516001600160a01b031614955050505050505b9392505050565b60006020825110156200046357600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b03811681146200049f57600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b83811015620004d5578181015183820152602001620004bb565b50506000910152565b600082601f830112620004f057600080fd5b81516001600160401b03808211156200050d576200050d620004a2565b604051601f8301601f19908116603f01168101908282118183101715620005385762000538620004a2565b816040528381528660208588010111156200055257600080fd5b62000565846020830160208901620004b8565b9695505050505050565b6000806000606084860312156200058557600080fd5b8351620005928162000489565b6020850151604086015191945092506001600160401b03811115620005b657600080fd5b620005c486828701620004de565b9150509250925092565b600080600060608486031215620005e457600080fd5b8351620005f18162000489565b60208501519093506001600160401b03808211156200060f57600080fd5b6200061d87838801620004de565b935060408601519150808211156200063457600080fd5b50620005c486828701620004de565b6000825162000657818460208701620004b8565b9190910192915050565b828152604060208201526000825180604084015262000688816060850160208701620004b8565b601f01601f1916919091016060019392505050565b600060208284031215620006b057600080fd5b81516001600160e01b0319811681146200044a57600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */BigInt(0);BigInt(1);BigInt(2);function zi(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Di(e,t){const n=ue(e)?ye(e):e,r=ue(t)?ye(t):t;return zi(n,r)}async function gs(e,{address:t,hash:n,signature:r,...s}){const a=ue(r)?r:me(r);try{const{data:o}=await k(e,Ht,"call")({data:ps({abi:To,args:[t,n,a],bytecode:Gi}),...s});return Di(o??"0x0","0x1")}catch(o){if(o instanceof zr)return!1;throw o}}async function Ui(e,{address:t,message:n,signature:r,...s}){const a=$i(n);return gs(e,{address:t,hash:a,signature:r,...s})}async function _i(e,{address:t,signature:n,message:r,primaryType:s,types:a,domain:o,...i}){const c=Ti({message:r,primaryType:s,types:a,domain:o});return gs(e,{address:t,hash:c,signature:n,...i})}function bs(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:a,pollingInterval:o=e.pollingInterval}){const i=typeof a<"u"?a:e.transport.type!=="webSocket";let c;return i?(()=>{const f=Z(["watchBlockNumber",e.uid,t,n,o]);return ze(f,{onBlockNumber:r,onError:s},m=>vt(async()=>{var g;try{const h=await k(e,xt,"getBlockNumber")({cacheTime:0});if(c){if(h===c)return;if(h-c>1&&n)for(let p=c+1n;p<h;p++)m.onBlockNumber(p,c),c=p}(!c||h>c)&&(m.onBlockNumber(h,c),c=h)}catch(h){(g=m.onError)==null||g.call(m,h)}},{emitOnBegin:t,interval:o}))})():(()=>{let f=!0,m=()=>f=!1;return(async()=>{try{const{unsubscribe:g}=await e.transport.subscribe({params:["newHeads"],onData(h){var T;if(!f)return;const p=Bt((T=h.result)==null?void 0:T.number);r(p,c),c=p},onError(h){s==null||s(h)}});m=g,f||m()}catch(g){s==null||s(g)}})(),m})()}async function Hi(e,{confirmations:t=1,hash:n,onReplaced:r,pollingInterval:s=e.pollingInterval,timeout:a}){const o=Z(["waitForTransactionReceipt",e.uid,n]);let i,c,l,d=!1;return new Promise((f,m)=>{a&&setTimeout(()=>m(new ao({hash:n})),a);const g=ze(o,{onReplaced:r,resolve:f,reject:m},h=>{const p=k(e,bs,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:s,async onBlockNumber(T){if(d)return;let E=T;const P=A=>{p(),A(),g()};try{if(l){if(t>1&&(!l.blockNumber||E-l.blockNumber+1n<t))return;P(()=>h.resolve(l));return}if(i||(d=!0,await Nn(async()=>{i=await k(e,Qn,"getTransaction")({hash:n}),i.blockNumber&&(E=i.blockNumber)},{delay:({count:A})=>~~(1<<A)*200,retryCount:6}),d=!1),l=await k(e,Cn,"getTransactionReceipt")({hash:n}),t>1&&(!l.blockNumber||E-l.blockNumber+1n<t))return;P(()=>h.resolve(l))}catch(A){if(i&&(A instanceof Lr||A instanceof Gr))try{c=i,d=!0;const y=await Nn(()=>k(e,ve,"getBlock")({blockNumber:E,includeTransactions:!0}),{delay:({count:x})=>~~(1<<x)*200,retryCount:6,shouldRetry:({error:x})=>x instanceof Ur});d=!1;const $=y.transactions.find(({from:x,nonce:M})=>x===c.from&&M===c.nonce);if(!$||(l=await k(e,Cn,"getTransactionReceipt")({hash:$.hash}),t>1&&(!l.blockNumber||E-l.blockNumber+1n<t)))return;let C="replaced";$.to===c.to&&$.value===c.value?C="repriced":$.from===$.to&&$.value===0n&&(C="cancelled"),P(()=>{var x;(x=h.onReplaced)==null||x.call(h,{reason:C,replacedTransaction:c,transaction:$,transactionReceipt:l}),h.resolve(l)})}catch(y){P(()=>h.reject(y))}else P(()=>h.reject(A))}}})})})}function Wi(e,{blockTag:t="latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:a,includeTransactions:o,poll:i,pollingInterval:c=e.pollingInterval}){const l=typeof i<"u"?i:e.transport.type!=="webSocket",d=o??!1;let f;return l?(()=>{const h=Z(["watchBlocks",e.uid,n,r,d,c]);return ze(h,{onBlock:s,onError:a},p=>vt(async()=>{var T;try{const E=await k(e,ve,"getBlock")({blockTag:t,includeTransactions:d});if(E.number&&(f!=null&&f.number)){if(E.number===f.number)return;if(E.number-f.number>1&&n)for(let P=(f==null?void 0:f.number)+1n;P<E.number;P++){const A=await k(e,ve,"getBlock")({blockNumber:P,includeTransactions:d});p.onBlock(A,f),f=A}}(!(f!=null&&f.number)||t==="pending"&&!(E!=null&&E.number)||E.number&&E.number>f.number)&&(p.onBlock(E,f),f=E)}catch(E){(T=p.onError)==null||T.call(p,E)}},{emitOnBegin:r,interval:c}))})():(()=>{let h=!0,p=()=>h=!1;return(async()=>{try{const{unsubscribe:T}=await e.transport.subscribe({params:["newHeads"],onData(E){var y,$,C;if(!h)return;const A=(((C=($=(y=e.chain)==null?void 0:y.formatters)==null?void 0:$.block)==null?void 0:C.format)||Wr)(E.result);s(A,f),f=A},onError(E){a==null||a(E)}});p=T,h||p()}catch(T){a==null||a(T)}})(),p})()}function qi(e,{address:t,args:n,batch:r=!0,event:s,events:a,onError:o,onLogs:i,poll:c,pollingInterval:l=e.pollingInterval,strict:d}){const f=typeof c<"u"?c:e.transport.type!=="webSocket",m=d??!1;return f?(()=>{const p=Z(["watchEvent",t,n,r,e.uid,s,l]);return ze(p,{onLogs:i,onError:o},T=>{let E,P,A=!1;const y=vt(async()=>{var $;if(!A){try{P=await k(e,is,"createEventFilter")({address:t,args:n,event:s,events:a,strict:m})}catch{}A=!0;return}try{let C;if(P)C=await k(e,Wt,"getFilterChanges")({filter:P});else{const x=await k(e,xt,"getBlockNumber")({});E&&E!==x?C=await k(e,Yn,"getLogs")({address:t,args:n,event:s,events:a,fromBlock:E+1n,toBlock:x}):C=[],E=x}if(C.length===0)return;if(r)T.onLogs(C);else for(const x of C)T.onLogs([x])}catch(C){P&&C instanceof je&&(A=!1),($=T.onError)==null||$.call(T,C)}},{emitOnBegin:!0,interval:l});return async()=>{P&&await k(e,qt,"uninstallFilter")({filter:P}),y()}})})():(()=>{let p=!0,T=()=>p=!1;return(async()=>{try{const E=a??(s?[s]:void 0);let P=[];E&&(P=[E.flatMap(y=>gt({abi:[y],eventName:y.name,args:n}))],s&&(P=P[0]));const{unsubscribe:A}=await e.transport.subscribe({params:["logs",{address:t,topics:P}],onData(y){var C;if(!p)return;const $=y.result;try{const{eventName:x,args:M}=wt({abi:E,data:$.data,topics:$.topics,strict:m}),F=oe($,{args:M,eventName:x});i([F])}catch(x){let M,F;if(x instanceof Ne||x instanceof ke){if(d)return;M=x.abiItem.name,F=(C=x.abiItem.inputs)==null?void 0:C.some(_=>!("name"in _&&_.name))}const D=oe($,{args:F?[]:{},eventName:M});i([D])}},onError(y){o==null||o(y)}});T=A,p||T()}catch(E){o==null||o(E)}})(),T})()}function Yi(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:a=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket")?(()=>{const l=Z(["watchPendingTransactions",e.uid,t,a]);return ze(l,{onTransactions:r,onError:n},d=>{let f;const m=vt(async()=>{var g;try{if(!f)try{f=await k(e,cs,"createPendingTransactionFilter")({});return}catch(p){throw m(),p}const h=await k(e,Wt,"getFilterChanges")({filter:f});if(h.length===0)return;if(t)d.onTransactions(h);else for(const p of h)d.onTransactions([p])}catch(h){(g=d.onError)==null||g.call(d,h)}},{emitOnBegin:!0,interval:a});return async()=>{f&&await k(e,qt,"uninstallFilter")({filter:f}),m()}})})():(()=>{let l=!0,d=()=>l=!1;return(async()=>{try{const{unsubscribe:f}=await e.transport.subscribe({params:["newPendingTransactions"],onData(m){if(!l)return;const g=m.result;r([g])},onError(m){n==null||n(m)}});d=f,l||d()}catch(f){n==null||n(f)}})(),d})()}function Ki(e){return{call:t=>Ht(e,t),createBlockFilter:()=>pi(e),createContractEventFilter:t=>Rr(e,t),createEventFilter:t=>is(e,t),createPendingTransactionFilter:()=>cs(e),estimateContractGas:t=>xo(e,t),estimateGas:t=>qn(e,t),getBalance:t=>gi(e,t),getBlock:t=>ve(e,t),getBlockNumber:t=>xt(e,t),getBlockTransactionCount:t=>bi(e,t),getBytecode:t=>yi(e,t),getChainId:()=>ft(e),getContractEvents:t=>Kr(e,t),getEnsAddress:t=>Qo(e,t),getEnsAvatar:t=>fi(e,t),getEnsName:t=>hi(e,t),getEnsResolver:t=>mi(e,t),getEnsText:t=>os(e,t),getFeeHistory:t=>vi(e,t),estimateFeesPerGas:t=>wo(e,t),getFilterChanges:t=>Wt(e,t),getFilterLogs:t=>xi(e,t),getGasPrice:()=>Wn(e),getLogs:t=>Yn(e,t),getProof:t=>Fi(e,t),estimateMaxPriorityFeePerGas:t=>yo(e,t),getStorageAt:t=>Mi(e,t),getTransaction:t=>Qn(e,t),getTransactionConfirmations:t=>Bi(e,t),getTransactionCount:t=>Yr(e,t),getTransactionReceipt:t=>Cn(e,t),multicall:t=>Li(e,t),prepareTransactionRequest:t=>_t(e,t),readContract:t=>xe(e,t),sendRawTransaction:t=>Kn(e,t),simulateContract:t=>Oo(e,t),verifyMessage:t=>Ui(e,t),verifyTypedData:t=>_i(e,t),uninstallFilter:t=>qt(e,t),waitForTransactionReceipt:t=>Hi(e,t),watchBlocks:t=>Wi(e,t),watchBlockNumber:t=>bs(e,t),watchContractEvent:t=>Go(e,t),watchEvent:t=>qi(e,t),watchPendingTransactions:t=>Yi(e,t)}}function Ji(e){const{key:t="public",name:n="Public Client"}=e;return es({...e,key:t,name:n,type:"publicClient"}).extend(Ki)}function Vi(e,{abi:t,args:n,bytecode:r,...s}){const a=ps({abi:t,args:n,bytecode:r});return Jn(e,{...s,data:a})}async function Xi(e){var n;return((n=e.account)==null?void 0:n.type)==="local"?[e.account.address]:(await e.request({method:"eth_accounts"})).map(r=>Gn(r))}async function Zi(e){return await e.request({method:"wallet_getPermissions"})}async function Qi(e){return(await e.request({method:"eth_requestAccounts"})).map(n=>Wa(n))}async function ec(e,t){return e.request({method:"wallet_requestPermissions",params:[t]})}async function tc(e,{account:t=e.account,message:n}){if(!t)throw new Be({docsPath:"/docs/actions/wallet/signMessage"});const r=re(t);if(r.type==="local")return r.signMessage({message:n});const s=typeof n=="string"?$n(n):n.raw instanceof Uint8Array?me(n.raw):n.raw;return e.request({method:"personal_sign",params:[s,r.address]})}async function nc(e,t){var l,d,f,m;const{account:n=e.account,chain:r=e.chain,...s}=t;if(!n)throw new Be({docsPath:"/docs/actions/wallet/signTransaction"});const a=re(n);yt({account:a,...t});const o=await k(e,ft,"getChainId")({});r!==null&&Qr({currentChainId:o,chain:r});const i=(r==null?void 0:r.formatters)||((l=e.chain)==null?void 0:l.formatters),c=((d=i==null?void 0:i.transactionRequest)==null?void 0:d.format)||Ut;return a.type==="local"?a.signTransaction({...s,chainId:o},{serializer:(m=(f=e.chain)==null?void 0:f.serializers)==null?void 0:m.transaction}):await e.request({method:"eth_signTransaction",params:[{...c(s),chainId:L(o),from:a.address}]})}async function rc(e,{account:t=e.account,domain:n,message:r,primaryType:s,types:a}){if(!t)throw new Be({docsPath:"/docs/actions/wallet/signTypedData"});const o=re(t),i={EIP712Domain:ms({domain:n}),...a};if(hs({domain:n,message:r,primaryType:s,types:i}),o.type==="local")return o.signTypedData({domain:n,primaryType:s,types:i,message:r});const c=Z({domain:n??{},primaryType:s,types:i,message:r},(l,d)=>ue(d)?d.toLowerCase():d);return e.request({method:"eth_signTypedData_v4",params:[o.address,c]})}async function sc(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:L(t)}]})}async function ac(e,t){return await e.request({method:"wallet_watchAsset",params:t})}function oc(e){return{addChain:t=>Uo(e,t),deployContract:t=>Vi(e,t),getAddresses:()=>Xi(e),getChainId:()=>ft(e),getPermissions:()=>Zi(e),prepareTransactionRequest:t=>_t(e,t),requestAddresses:()=>Qi(e),requestPermissions:t=>ec(e,t),sendRawTransaction:t=>Kn(e,t),sendTransaction:t=>Jn(e,t),signMessage:t=>tc(e,t),signTransaction:t=>nc(e,t),signTypedData:t=>rc(e,t),switchChain:t=>sc(e,t),watchAsset:t=>ac(e,t),writeContract:t=>Do(e,t)}}function yr(e){const{key:t="wallet",name:n="Wallet Client",transport:r}=e;return es({...e,key:t,name:n,transport:a=>r({...a,retryCount:0}),type:"walletClient"}).extend(oc)}const qe={6342:{name:"MegaETH Testnet",rpcUrl:"https://carrot.megaeth.com/rpc",wsUrl:"wss://carrot.megaeth.com/ws",contractAddress:"0xb34cac1135c27ec810e7e6880325085783c1a7e0",faucetAddress:"0x76b71a17d82232fd29aca475d14ed596c67c4b85",chainId:6342,sendMethod:"realtime_sendRawTransaction"},31337:{name:"Foundry Local",rpcUrl:"http://127.0.0.1:8545",contractAddress:"0xb34cac1135c27ec810e7e6880325085783c1a7e0",faucetAddress:"0x76b71a17d82232fd29aca475d14ed596c67c4b85",chainId:31337,sendMethod:"eth_sendRawTransaction"},50311:{name:"Somnia Testnet",rpcUrl:"https://testnet.somnia.network",contractAddress:"0xb34cac1135c27ec810e7e6880325085783c1a7e0",faucetAddress:"0x76b71a17d82232fd29aca475d14ed596c67c4b85",chainId:50311,sendMethod:"eth_sendRawTransaction"},1313161556:{name:"RISE Testnet",rpcUrl:"https://testnet-rpc.rise.com",contractAddress:"0xb34cac1135c27ec810e7e6880325085783c1a7e0",faucetAddress:"0x76b71a17d82232fd29aca475d14ed596c67c4b85",chainId:1313161556,sendMethod:"eth_sendRawTransactionSync"}},ic=[{inputs:[],name:"update",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"number",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],cc=()=>{const{authenticated:e}=ht(),{wallets:t}=Sn(),[n,r]=G.useState(!1),[s,a]=G.useState(!1),[o,i]=G.useState("0"),[c,l]=G.useState(0),d=G.useRef({}),f=G.useRef({}),m=G.useRef({}),g=G.useRef({}),h=G.useRef({}),p={reducedBatchSize:1,increasedDelay:1e3,degradedMode:!1},T=G.useRef({6342:{...p}}),E=w=>{const S=T.current[w];S&&(S.degradedMode=!0,console.log(`Enabled fallback mode for chain ${w}`))},P=w=>{const S=T.current[w];return S!=null&&S.degradedMode?S:null},A=()=>{if(!e||!t.length)return console.log("Not authenticated or no wallets available"),null;console.log("Available wallets:",t.map(S=>({address:S.address,walletClientType:S.walletClientType,connectorType:S.connectorType})));const w=t.find(S=>S.walletClientType==="privy"||S.connectorType==="embedded"||S.connectorType==="privy");return w?(console.log("Found embedded wallet:",w.address),w):t.length>0?(console.log("No embedded wallet found, using first available wallet:",t[0].address),t[0]):(console.log("No wallets available"),null)},y=async w=>{const S=`${w}`;if(d.current[S])return d.current[S];const v=qe[w];if(!v)throw new Error(`Unsupported network: ${w}`);const O=A();if(!O)throw new Error("No embedded wallet found");try{const R=Ji({chain:{id:w,name:v.name,network:v.name.toLowerCase().replace(/\s+/g,"-"),nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:[v.rpcUrl]},public:{http:[v.rpcUrl]}}},transport:gr(v.rpcUrl,{timeout:1e4,retryCount:2})});let B;w===6342?B=yr({account:O.address,chain:R.chain,transport:qo({async request({method:q,params:N}){var b,Q;if(q==="eth_signTransaction"){const I=A();if(!I)throw new Error("No embedded wallet found for signing");const se=await((b=I.getProvider)==null?void 0:b.call(I))||await((Q=I.getEthereumProvider)==null?void 0:Q.call(I))||I;if(se!=null&&se.request)return await se.request({method:q,params:N});throw new Error("Unable to get provider for signing")}return await R.request({method:q,params:N})}})}):B=yr({account:O.address,chain:R.chain,transport:gr(v.rpcUrl)});const z={publicClient:R,walletClient:B,config:v};return d.current[S]=z,console.log(`Created clients for chain ${w}:`,{publicRPC:v.rpcUrl,signingMethod:w===6342?"Local Privy":"RPC"}),z}catch(R){throw console.error(`Error creating clients for chain ${w}:`,R),R}},$=async w=>{if(f.current[w])return f.current[w];const{publicClient:S}=await y(w);let v,O;w===6342?(console.log("Using optimized gas parameters for MegaETH Testnet"),v=an("0.0012"),O=an("0.0006"),console.log(`Gas params for chain ${w}: {maxFeePerGas: '${v}', maxPriorityFeePerGas: '${O}', maxFeePerGasGwei: ${Number(v)/1e9}, maxPriorityFeePerGasGwei: ${Number(O)/1e9}}`)):(v=await S.getGasPrice()*2n,O=an("2"),console.log(`Dynamic gas params for chain ${w}: {maxFeePerGas: '${v}', maxPriorityFeePerGas: '${O}'}`));const R={maxFeePerGas:v,maxPriorityFeePerGas:O};return f.current[w]=R,console.log(`Using gas parameters: {maxFeePerGasGwei: ${Number(v)/1e9}, maxPriorityFeePerGasGwei: ${Number(O)/1e9}}`),R},C=async w=>{const S=w.toString();if(h.current[S])return h.current[S];try{const{publicClient:v}=await y(w),[O,R]=await Promise.all([pe(()=>v.getChainId(),2,500),pe(()=>v.getBlockNumber(),2,500)]),B={chainId:O,blockNumber:Number(R)},z=w===6342?3e4:6e4;return h.current[S]=B,setTimeout(()=>{delete h.current[S]},z),console.log(`Cached chain params for ${w}:`,B),B}catch(v){return console.error("Error getting chain params:",v),{chainId:w,blockNumber:0}}},x=async(w,S,v)=>{var Et,Pt;const O=w.toString(),R=P(w);let B=w===6342?3:w===1234?5:v;R&&(B=R.reducedBatchSize,console.log(`Using fallback mode for chain ${w}: batch size ${B}`));const z=Math.min(v,B);console.log(`Pre-signing ${z} transactions for chain ${w} starting from nonce ${S}`),m.current[O]||(m.current[O]={transactions:[],currentIndex:0,baseNonce:S,hasTriggeredRefill:!1});const q=m.current[O],{walletClient:N}=await y(w),b=await $(w);console.log(`Using gas parameters: {maxFeePerGasGwei: ${Number(b.maxFeePerGas)/10**9}, maxPriorityFeePerGasGwei: ${Number(b.maxPriorityFeePerGas)/10**9}}`);const Q=qe[w],I=A();let se=0;const Ae=3;for(let ge=0;ge<z;ge++)try{const ie=R?R.increasedDelay:w===6342?200:0;ie>0&&ge>0&&await new Promise(Zt=>setTimeout(Zt,ie));const Xt=S+q.transactions.length,De={account:I.address,to:Q.contractAddress,data:"0xa2e62045",nonce:Xt,maxFeePerGas:b.maxFeePerGas,maxPriorityFeePerGas:b.maxPriorityFeePerGas,value:0n,type:"eip1559",gas:100000n};let Ue;w===6342?(console.log(`Signing transaction ${ge+1} locally for MegaETH`),Ue=await pe(async()=>await N.signTransaction(De),R?1:2,500)):(console.log(`Signing transaction ${ge+1} via RPC for chain ${w}`),Ue=await pe(()=>N.signTransaction(De),R?1:3,500)),q.transactions.push(Ue),se=0,console.log(`Signed transaction ${q.transactions.length}/${z}`)}catch(ie){if(console.error(`Error signing transaction ${ge+1}:`,ie),se++,(Et=ie.message)!=null&&Et.includes("rate limit")||ie.status===429||ie.status===403||(Pt=ie.message)!=null&&Pt.includes("not whitelisted")){console.log("Rate limit/403/not whitelisted detected, enabling fallback mode"),E(w);break}if(se>=Ae){console.log(`Too many consecutive errors (${se}), stopping batch signing`),E(w);break}continue}console.log(`Successfully pre-signed ${q.transactions.length} transactions`),R&&q.transactions.length>0&&console.log("Fallback mode: minimum transactions ready for gaming")},M=async(w,S,v)=>{try{console.log(`Extending pool for chain ${w} from nonce ${S} with ${v} transactions`),await x(w,S,v);const O=w.toString(),R=m.current[O];R&&(R.hasTriggeredRefill=!1,console.log(`Pool extended successfully. Total transactions: ${R.transactions.length}`))}catch(O){console.error("Error extending transaction pool:",O)}},F=async w=>{const S=w.toString(),v=m.current[S];if(v&&v.transactions.length>v.currentIndex){const O=v.transactions[v.currentIndex];if(v.currentIndex++,v.currentIndex>=v.transactions.length/2&&!v.hasTriggeredRefill){v.hasTriggeredRefill=!0,console.log("Pool half empty, extending with new transactions...");try{const R=v.baseNonce+v.transactions.length;await M(w,R,3)}catch(R){console.error("Error extending pool:",R)}}return O}return console.log("No pre-signed transactions available, signing realtime..."),await D(w)},D=async w=>{try{const{publicClient:S}=await y(w),v=qe[w],O=A(),R=await $(w);if(!O)throw new Error("No embedded wallet available for realtime signing");const B=await S.getTransactionCount({address:O.address,blockTag:"pending"}),z={account:O.address,to:v.contractAddress,data:"0xa2e62045",nonce:B,maxFeePerGas:R.maxFeePerGas,maxPriorityFeePerGas:R.maxPriorityFeePerGas,value:0n,type:"eip1559",gas:100000n};console.log(`Creating realtime transaction for chain ${w} with nonce ${B}`);const{walletClient:q}=await y(w);return await q.signTransaction(z)}catch(S){throw console.error("Error creating realtime transaction:",S),S}},_=async w=>{try{const{publicClient:S}=await y(w),v=A();if(!v)return console.error("No embedded wallet available for balance check"),"0";const O=await S.getBalance({address:v.address}),R=(Number(O)/10**18).toFixed(4);return i(R),console.log(`Balance for ${v.address}: ${R} ETH`),R}catch(S){return console.error("Error checking balance:",S),i("0"),"0"}},V=async(w,S)=>{try{console.log("Calling faucet for address:",w);const v=await fetch("/api/faucet",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({address:w,chainId:S})});if(!v.ok){let R="Faucet request failed";try{R=(await v.json()).error||R}catch(B){console.error("Failed to parse error response:",B),R=`HTTP ${v.status}: ${v.statusText}`}throw new Error(R)}const O=await v.json();return console.log("Faucet success:",O),O}catch(v){if(console.error("Faucet error:",v),v.message.includes("405"))throw new Error("Faucet service is temporarily unavailable. Please try again later.");if(v.message.includes("insufficient balance"))throw new Error("Faucet is empty. Please contact support.");if(v.message.includes("already has sufficient balance"))return console.log("User already has sufficient balance, continuing..."),{success:!0,message:"Sufficient balance already available"};throw new Error(`Faucet error: ${v.message}`)}},Te=async(w,S)=>{const v=qe[w];try{let O,R;if(v.sendMethod==="realtime_sendRawTransaction"){if(console.log("Using MegaETH realtime_sendRawTransaction..."),O=await pe(async()=>{const z=await fetch(v.rpcUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",method:"realtime_sendRawTransaction",params:[S],id:Date.now()})});if(!z.ok){const q=await z.text();throw new Error(`HTTP ${z.status}: ${q}`)}return await z.json()},3,1e3),O.error)throw new Error(`RPC Error: ${O.error.message}`);return R=O.result,console.log("MegaETH transaction hash:",R),{hash:R,receipt:O.result}}else if(v.sendMethod==="eth_sendRawTransactionSync"){O=await fetch(v.rpcUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",method:"eth_sendRawTransactionSync",params:[S],id:Date.now()})});const B=await O.json();if(B.error)throw new Error(B.error.message||"RISE transaction failed");return{hash:B.result,receipt:B.result}}else{O=await fetch(v.rpcUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",method:"eth_sendRawTransaction",params:[S],id:Date.now()})});const B=await O.json();if(B.error)throw new Error(B.error.message||"Transaction failed");return{hash:B.result}}}catch(O){throw console.error("Send transaction error:",O),O}},Kt=async w=>{if(s)throw new Error("Transaction already pending");try{a(!0);const S=await F(w);console.log("Sending on-chain jump transaction...");const v=await Te(w,S);console.log("Transaction sent:",v);const O=qe[w];let R=v;if(O.sendMethod==="realtime_sendRawTransaction")console.log("Transaction confirmed:",v),R=v.receipt||v;else if(O.sendMethod==="eth_sendRawTransactionSync")console.log("Transaction confirmed:",v),R=v.receipt||v;else{console.log("Waiting for transaction confirmation...");const{publicClient:B}=await y(w),z=await B.waitForTransactionReceipt({hash:v.hash,timeout:3e4});console.log("Transaction confirmed:",z),R=z}return console.log("Jump transaction confirmed:",R),R}catch(S){throw console.error("Error sending update:",S),S}finally{a(!1)}},Jt=async w=>{const S=w.toString();if(!(g.current[S]||n))try{r(!0),console.log("Initializing blockchain data for chain:",w);let v=null,O=0;const R=10;for(;!v&&O<R;)v=A(),v||(console.log(`Waiting for embedded wallet creation... (attempt ${O+1}/${R})`),await new Promise(b=>setTimeout(b,1e3)),O++);if(!v)throw new Error("No embedded wallet available");console.log("Using embedded wallet address:",v.address),await C(w);const[B,z]=await Promise.all([_(w),pe(async()=>{const{publicClient:b}=await y(w);return await b.getTransactionCount({address:v.address,blockTag:"pending"})},2,500)]);if(console.log("Current balance:",B),console.log("Starting nonce:",z),parseFloat(B)===0){console.log("Balance is 0, calling faucet...");try{await V(v.address,w),console.log("Waiting for faucet transaction to complete..."),await new Promise(Q=>setTimeout(Q,5e3));const b=await _(w);console.log("Balance after faucet:",b)}catch(b){console.error("Faucet failed, but continuing with initialization:",b)}}const q=P(w);let N=w===6342?3:w===1234?5:10;q&&(N=q.reducedBatchSize,console.log(`Using fallback batch size: ${N}`)),console.log(`Pre-signing ${N} transactions starting from nonce ${z}`);try{await x(w,z,N);const b=m.current[S];(!b||b.transactions.length===0)&&console.warn("No transactions were pre-signed, but continuing with manual signing mode")}catch(b){console.error("Pre-signing failed, enabling fallback mode:",b),E(w)}g.current[S]=!0,console.log("Initialization complete for chain:",w),q&&console.log("⚠️ Running in fallback mode - reduced performance expected")}catch(v){throw console.error("Initialization error:",v),v}finally{r(!1)}},Vt=async w=>{try{const{publicClient:S,config:v}=await y(w),O=await S.readContract({address:v.contractAddress,abi:ic,functionName:"number"});return l(Number(O)),Number(O)}catch(S){return console.error("Error reading contract number:",S),0}},pe=async(w,S=3,v=1e3)=>{var O,R;for(let B=0;B<S;B++)try{return await w()}catch(z){const q=B===S-1,N=z.status===429||z.status===403||z.status===500||z.status===502||z.status===503||((O=z.message)==null?void 0:O.includes("rate limit"))||((R=z.message)==null?void 0:R.includes("timeout"));if(q||!N)throw z;const b=v*Math.pow(2,B);console.log(`Retry attempt ${B+1}/${S} after ${b}ms delay due to:`,z.message),await new Promise(Q=>setTimeout(Q,b))}};return{isInitializing:n,transactionPending:s,balance:o,contractNumber:c,initData:Jt,sendUpdate:Kt,checkBalance:_,callFaucet:V,getContractNumber:Vt,getEmbeddedWallet:A,isAuthenticated:e,isReady:e&&t.length>0}};class uc{constructor(t,n,r,s,a,o,i=null){W(this,"WALK_ANIMATION_TIMER",180);W(this,"walkAnimationTimer",this.WALK_ANIMATION_TIMER);W(this,"buddyRunImages",[]);W(this,"jumpPressed",!1);W(this,"jumpInProgress",!1);W(this,"falling",!1);W(this,"JUMP_SPEED",.65);W(this,"GRAVITY",.38);W(this,"dustParticles",[]);W(this,"showDust",!1);W(this,"dustTimer",0);W(this,"touchstart",()=>{this.jumpPressed=!0});W(this,"touchend",()=>{this.jumpPressed=!1});W(this,"keydown",t=>{t.code==="Space"&&(this.jumpPressed=!0)});W(this,"keyup",t=>{t.code==="Space"&&(this.jumpPressed=!1)});this.ctx=t,this.canvas=t.canvas,this.width=n,this.height=r,this.minJumpHeight=s,this.maxJumpHeight=a,this.scaleRatio=o,this.onMovementCallback=i,this.x=10*o,this.y=this.canvas.height-this.height,this.yStandingPosition=this.y,this.standingStillImage=new Image,this.standingStillImage.src="assets/buddy_standing_still.png",this.standingStillImage.onerror=()=>console.error("Failed to load buddy_standing_still.png"),this.image=this.standingStillImage,this.jumpingImage=new Image,this.jumpingImage.src="assets/buddy_standing_still_eye_closed.png",this.jumpingImage.onerror=()=>console.error("Failed to load buddy_standing_still_eye_closed.png");const c=new Image;c.src="assets/buddy_run1.png",c.onerror=()=>console.error("Failed to load buddy_run1.png");const l=new Image;l.src="assets/buddy_run2.png",l.onerror=()=>console.error("Failed to load buddy_run2.png"),this.buddyRunImages.push(c),this.buddyRunImages.push(l),window.removeEventListener("keydown",this.keydown),window.removeEventListener("keyup",this.keyup),window.addEventListener("keydown",this.keydown),window.addEventListener("keyup",this.keyup),window.removeEventListener("touchstart",this.touchstart),window.removeEventListener("touchend",this.touchend),window.addEventListener("touchstart",this.touchstart),window.addEventListener("touchend",this.touchend)}update(t,n){this.run(t,n),this.jumpInProgress&&(this.image=this.jumpingImage),this.jump(n),this.updateDust(n)}jump(t){this.jumpPressed&&(this.jumpInProgress||this.onMovementCallback&&this.onMovementCallback(),this.jumpInProgress=!0),this.jumpInProgress&&!this.falling?this.y>this.canvas.height-this.minJumpHeight||this.y>this.canvas.height-this.maxJumpHeight&&this.jumpPressed?this.y-=this.JUMP_SPEED*t*this.scaleRatio:this.falling=!0:this.y<this.yStandingPosition?(this.y+=this.GRAVITY*t*this.scaleRatio,this.y+this.height>this.canvas.height&&(this.y=this.yStandingPosition,this.createDustEffect())):(this.falling=!1,this.jumpInProgress=!1)}createDustEffect(){this.showDust=!0,this.dustTimer=300}updateDust(t){this.showDust&&(this.dustTimer-=t,this.dustTimer<=0&&(this.showDust=!1))}run(t,n){this.walkAnimationTimer<=0&&(this.image===this.buddyRunImages[0]?this.image=this.buddyRunImages[1]:this.image=this.buddyRunImages[0],this.walkAnimationTimer=this.WALK_ANIMATION_TIMER),this.walkAnimationTimer-=n*t}draw(){if(this.image&&this.image.complete&&this.image.naturalWidth>0&&this.ctx.drawImage(this.image,this.x,this.y,this.width,this.height),this.showDust){this.ctx.fillStyle="rgba(139, 69, 19, 0.6)";const t=this.yStandingPosition+this.height;for(let n=0;n<5;n++){const r=this.x+this.width*.2+n*8*this.scaleRatio,s=(3-n*.5)*this.scaleRatio;this.ctx.beginPath(),this.ctx.arc(r,t-s,s,0,Math.PI*2),this.ctx.fill()}}}}class lc{constructor(t,n,r,s,a){this.ctx=t,this.canvas=t.canvas,this.width=n,this.height=r,this.speed=s,this.scaleRatio=a,this.x=0,this.y=this.canvas.height-this.height,this.groundImage=new Image,this.groundImage.src="assets/ground.png",this.groundImage.onerror=()=>console.error("Failed to load ground.png")}update(t,n){this.x-=t*n*this.speed*this.scaleRatio}draw(){this.ctx.fillStyle="#7BA428",this.ctx.fillRect(0,this.y,this.canvas.width,this.height),this.ctx.fillStyle="#6B9420";for(let t=0;t<this.canvas.width;t+=3)this.ctx.fillRect(t,this.y,1,this.height);this.ctx.fillStyle="#8B4513",this.ctx.fillRect(0,this.y+this.height*.7,this.canvas.width,this.height*.3),this.x<-this.width&&(this.x=0)}reset(){this.x=0}}class dc{constructor(t,n,r,s,a,o){this.ctx=t,this.x=n,this.y=r,this.width=s,this.height=a,this.image=o}update(t,n,r,s){this.x-=t*n*r*s}draw(){this.image&&this.image.complete&&this.image.naturalWidth>0&&this.ctx.drawImage(this.image,this.x,this.y,this.width,this.height)}collideWith(t){return t.x<this.x+this.width/1.4&&t.x+t.width/1.4>this.x&&t.y<this.y+this.height/1.4&&t.height+t.y/1.4>this.y}}class fc{constructor(t,n,r,s){W(this,"CARROT_INTERVAL_MIN",500);W(this,"CARROT_INTERVAL_MAX",2e3);W(this,"nextCarrotInterval",null);W(this,"carrots",[]);this.ctx=t,this.canvas=t.canvas,this.carrotImages=n,this.scaleRatio=r,this.speed=s,this.setNextCarrotTime()}setNextCarrotTime(){const t=this.getRandomNumber(this.CARROT_INTERVAL_MIN,this.CARROT_INTERVAL_MAX);this.nextCarrotInterval=t}getRandomNumber(t,n){return Math.floor(Math.random()*(n-t+1)+t)}createCarrot(){const t=this.getRandomNumber(0,this.carrotImages.length-1),n=this.carrotImages[t],r=this.canvas.width*1.5,s=this.canvas.height-n.height,a=new dc(this.ctx,r,s,n.width,n.height,n.image);this.carrots.push(a)}update(t,n){this.nextCarrotInterval<=0&&(this.createCarrot(),this.setNextCarrotTime()),this.nextCarrotInterval-=n,this.carrots.forEach(r=>{r.update(this.speed,t,n,this.scaleRatio)}),this.carrots=this.carrots.filter(r=>r.x>-r.width)}draw(){this.carrots.forEach(t=>t.draw())}collideWith(t){return this.carrots.some(n=>n.collideWith(t))}reset(){this.carrots=[]}}class hc{constructor(t,n,r=null){W(this,"score",0);W(this,"HIGH_SCORE_KEY","highScore");this.ctx=t,this.canvas=t.canvas,this.scaleRatio=n,this.blockchainStatus=r}update(t){this.score+=t*.01}reset(){this.score=0}setHighScore(){const t=Number(localStorage.getItem(this.HIGH_SCORE_KEY));this.score>t&&localStorage.setItem(this.HIGH_SCORE_KEY,Math.floor(this.score))}draw(){const t=Number(localStorage.getItem(this.HIGH_SCORE_KEY)),n=20*this.scaleRatio,r=20*this.scaleRatio;this.ctx.font=`${r}px serif`,this.ctx.fillStyle="#6B8E6B";const s=this.canvas.width-75*this.scaleRatio,a=s-125*this.scaleRatio,o=Math.floor(this.score).toString().padStart(6,0),i=t.toString().padStart(6,0);if(this.ctx.fillText(o,s,n),this.ctx.fillText(`HI ${i}`,a,n),this.blockchainStatus){const c=n+30*this.scaleRatio,l=12*this.scaleRatio;this.ctx.font=`${l}px monospace`,this.ctx.fillStyle=this.blockchainStatus.contractAvailable?"#7FBC7F":"#FFA500",this.ctx.fillText(`⛓️ ${this.blockchainStatus.networkName}`,10*this.scaleRatio,c),this.ctx.fillStyle="#4169E1",this.ctx.fillText(`Moves: ${this.blockchainStatus.totalMovements}`,10*this.scaleRatio,c+20*this.scaleRatio),this.blockchainStatus.pendingTransactions>0&&(this.ctx.fillStyle="#FF6347",this.ctx.fillText(`Pending: ${this.blockchainStatus.pendingTransactions}`,10*this.scaleRatio,c+40*this.scaleRatio)),this.blockchainStatus.onChainScore>0&&(this.ctx.fillStyle="#32CD32",this.ctx.fillText(`On-chain: ${this.blockchainStatus.onChainScore}`,10*this.scaleRatio,c+60*this.scaleRatio))}}}const mc=({selectedNetwork:e})=>{const t=G.useRef(null),n=G.useRef({}),{user:r,authenticated:s}=ht(),{wallets:a}=Sn(),{login:o}=Rt(),{isInitializing:i,transactionPending:c,balance:l,contractNumber:d,initData:f,sendUpdate:m,checkBalance:g,getContractNumber:h,isReady:p,getEmbeddedWallet:T,callFaucet:E}=cc(),[P,A]=G.useState({initialized:!1,networkName:(e==null?void 0:e.name)||"Unknown",contractAvailable:!1,pendingTransactions:0,totalMovements:0,onChainScore:0}),[y,$]=G.useState(!1),C=G.useRef(!1);G.useRef(null);const[x,M]=G.useState(!1),F=1,D=1e-5,_=800,V=200,Te=88/1.5,Kt=94/1.5,Jt=V,Vt=150,pe=2400,w=24,S=.5,v=[{width:48/1.5,height:100/1.5,imageSrc:"assets/carrot_1.png"},{width:98/1.5,height:100/1.5,imageSrc:"assets/carrot_2.png"},{width:68/1.5,height:70/1.5,imageSrc:"assets/carrot_3.png"}],O=async()=>{if(!p||!e||e.isWeb2){console.log("Skipping blockchain initialization - Web2 mode or not ready"),A(N=>({...N,initialized:!1,networkName:(e==null?void 0:e.name)||"Web2 Mode"}));return}try{console.log("Initializing blockchain for network:",e.name),await f(e.id);const N=await h(e.id);A({initialized:!0,networkName:e.name,contractAvailable:!0,pendingTransactions:0,totalMovements:N,onChainScore:N}),console.log("Blockchain initialization complete")}catch(N){console.error("Failed to initialize blockchain:",N),A(b=>({...b,initialized:!1,contractAvailable:!1}))}},R=async()=>{if(!e||e.isWeb2||!P.initialized){console.log("Skipping on-chain movement - Web2 mode or not initialized");return}if(C.current){console.log("Transaction already pending, blocking jump");return}try{C.current=!0,$(!0),console.log("Sending on-chain jump transaction...");const N=await m(e.id);console.log("Jump transaction confirmed:",N),A(b=>({...b,totalMovements:b.totalMovements+1,onChainScore:b.onChainScore+1})),setTimeout(async()=>{try{await h(e.id)}catch(b){console.error("Error updating contract number:",b)}},1e3)}catch(N){console.error("Error sending on-chain movement:",N);let b="Transaction failed";N.message.includes("insufficient funds")?b="Insufficient funds for transaction. Please check your balance.":N.message.includes("nonce")?b="Transaction nonce error. Please try again.":N.message.includes("timeout")?b="Transaction timeout. Please try again.":N.message.includes("rejected")?b="Transaction was rejected by the network.":b=`Transaction failed: ${N.message}`,console.error("Blockchain transaction error:",b)}finally{C.current=!1,$(!1)}},B=async()=>{if(!(!e||e.isWeb2||!p))try{M(!0);const N=T();if(!N){alert("Please connect your wallet first");return}console.log("Manual faucet request for:",N.address),await E(N.address,e.id),setTimeout(async()=>{await g(e.id)},3e3),alert("Faucet request successful! Funds should arrive shortly.")}catch(N){console.error("Manual faucet error:",N),alert(`Faucet request failed: ${N.message}`)}finally{M(!1)}},z=()=>{if(e&&e.isWeb2)return{identifier:"CLASSIC PLAYER",address:null,isWeb2:!0};if(!s||!r)return null;const N=q();return N?{identifier:`${N.slice(0,6)}...${N.slice(-4)}`,address:N}:r.email?{identifier:r.email.split("@")[0],address:null}:null},q=()=>{var N;return!s||!a||a.length===0?null:((N=a[0])==null?void 0:N.address)||null};return G.useEffect(()=>{if(e&&e.isWeb2){console.log("Web2 mode selected, skipping blockchain initialization"),A({initialized:!1,networkName:e.name,contractAvailable:!1,pendingTransactions:0,totalMovements:0,onChainScore:0});return}e&&p&&s&&a.length>0?(console.log("Initializing blockchain for:",e.name),console.log("Authentication status:",{authenticated:s,wallets:a.length,isReady:p}),O()):console.log("Waiting for authentication and embedded wallet creation...",{selectedNetwork:!!e,isReady:p,authenticated:s,wallets:a.length})},[e,p,s,a]),G.useEffect(()=>{e&&!e.isWeb2&&A(N=>({...N,pendingTransactions:c?1:0}))},[c,e]),G.useEffect(()=>{const N=t.current;if(!N)return;const b=N.getContext("2d");let Q;b.imageSmoothingEnabled=!1,b.webkitImageSmoothingEnabled=!1,b.mozImageSmoothingEnabled=!1,b.msImageSmoothingEnabled=!1;const I=n.current;Object.assign(I,{scaleRatio:null,previousTime:null,gameSpeed:F,gameOver:!1,hasAddedEventListenersForRestart:!1,waitingToStart:!0});function se(){const U=Te*I.scaleRatio,H=Kt*I.scaleRatio,ne=Vt*I.scaleRatio,ce=Jt*I.scaleRatio,ae=pe*I.scaleRatio,ys=w*I.scaleRatio;I.player=new uc(b,U,H,ne,ce,I.scaleRatio,e&&!e.isWeb2?R:null),I.ground=new lc(b,ae,ys,S,I.scaleRatio);const ws=v.map(Tt=>{const en=new Image;return en.src=Tt.imageSrc,en.onerror=()=>console.error(`Failed to load ${Tt.imageSrc}`),{image:en,width:Tt.width*I.scaleRatio,height:Tt.height*I.scaleRatio}});I.carrotController=new fc(b,ws,I.scaleRatio,S),I.score=new hc(b,I.scaleRatio)}function Ae(){I.scaleRatio=Et(),N.width=_*I.scaleRatio,N.height=V*I.scaleRatio,se()}function Et(){const U=Math.min(window.innerHeight,document.documentElement.clientHeight),H=Math.min(window.innerWidth,document.documentElement.clientWidth);return H/U<_/V?H/_:U/V}function Pt(){const U=Math.floor(I.scaleRatio*32);b.font=`${U}px monospace`,b.fillStyle="#ef5435",b.textAlign="center",b.shadowColor="#ef5435",b.shadowBlur=10,b.fillText("GAME OVER",N.width/2,N.height/2-U),b.shadowBlur=0;const H=Math.floor(I.scaleRatio*16);b.font=`${H}px monospace`,b.fillStyle="#929397",b.fillText("> PRESS ANY KEY TO RESTART",N.width/2,N.height/2+H);const ne=z();if(ne){const ce=Math.floor(I.scaleRatio*12);b.font=`${ce}px monospace`,b.fillStyle="#1391ff",b.fillText(`> PILOT: ${ne.identifier}`,N.width/2,N.height/2+H+ce+20),b.fillStyle="#929397",b.fillText(`> NETWORK: ${P.networkName}`,N.width/2,N.height/2+H+ce*2+25),P.totalMovements>0&&b.fillText(`> ON-CHAIN MOVES: ${P.totalMovements}`,N.width/2,N.height/2+H+ce*3+30)}}function ge(){const U=Math.floor(I.scaleRatio*24);b.font=`${U}px monospace`,b.fillStyle="#929397",b.textAlign="center",b.shadowColor="#929397",b.shadowBlur=5,b.fillText("> PRESS ANY KEY TO START MISSION",N.width/2,N.height/2),b.shadowBlur=0;const H=z(),ne=Math.floor(I.scaleRatio*12);b.font=`${ne}px monospace`,H?(b.fillStyle="#1391ff",b.shadowColor="#1391ff",b.shadowBlur=3,b.fillText(`> PILOT AUTHENTICATED: ${H.identifier}`,N.width/2,N.height/2+U+20),b.shadowBlur=0,b.fillStyle="#929397",b.fillText(`> TARGET NETWORK: ${P.networkName}`,N.width/2,N.height/2+U+ne+25),P.initialized?(b.fillStyle="#28a745",b.fillText("> BLOCKCHAIN CONNECTION: ACTIVE",N.width/2,N.height/2+U+ne*2+30)):(b.fillStyle="#ffc107",b.fillText("> BLOCKCHAIN CONNECTION: SIMULATED MODE",N.width/2,N.height/2+U+ne*2+30))):(b.fillStyle="#ef5435",b.fillText("> WARNING: NO PILOT AUTHENTICATED",N.width/2,N.height/2+U+20))}function ie(){const U=b.createLinearGradient(0,0,0,N.height);U.addColorStop(0,"#121218"),U.addColorStop(.5,"#1a1a2e"),U.addColorStop(1,"#16213e"),b.fillStyle=U,b.fillRect(0,0,N.width,N.height),b.strokeStyle="rgba(146, 147, 151, 0.1)",b.lineWidth=1;const H=20*I.scaleRatio;for(let ae=0;ae<N.width;ae+=H)b.beginPath(),b.moveTo(ae,0),b.lineTo(ae,N.height),b.stroke();for(let ae=0;ae<N.height;ae+=H)b.beginPath(),b.moveTo(0,ae),b.lineTo(N.width,ae),b.stroke();const ne=Date.now()/20%N.height;b.strokeStyle="rgba(19, 145, 255, 0.3)",b.lineWidth=2,b.beginPath(),b.moveTo(0,ne),b.lineTo(N.width,ne),b.stroke();const ce=b.createLinearGradient(0,0,0,N.height*.3);ce.addColorStop(0,"rgba(19, 145, 255, 0.1)"),ce.addColorStop(1,"transparent"),b.fillStyle=ce,b.fillRect(0,0,N.width,N.height*.3)}function Xt(){I.hasAddedEventListenersForRestart||(I.hasAddedEventListenersForRestart=!0,setTimeout(()=>{const U=()=>{De(),document.removeEventListener("keyup",U),document.removeEventListener("touchstart",U)};document.addEventListener("keyup",U),document.addEventListener("touchstart",U)},1e3))}function De(){I.hasAddedEventListenersForRestart=!1,I.gameOver=!1,I.waitingToStart=!1,I.ground.reset(),I.carrotController.reset(),I.score.reset(),I.gameSpeed=F}function Ue(U){I.gameSpeed+=U*D}function Zt(){return I.carrotController.collideWith(I.player)}function Qt(U){if(I.previousTime===null){I.previousTime=U,Q=requestAnimationFrame(Qt);return}const H=U-I.previousTime;I.previousTime=U,ie(),!I.gameOver&&!I.waitingToStart&&(I.ground.update(I.gameSpeed,H),I.carrotController.update(I.gameSpeed,H),I.player.update(I.gameSpeed,H),I.score.update(H),Ue(H),Zt()&&(I.gameOver=!0,Xt())),I.ground.draw(),I.carrotController.draw(),I.player.draw(),I.score.draw(),I.gameOver&&Pt(),I.waitingToStart&&ge(),Q=requestAnimationFrame(Qt)}Ae();const er=()=>setTimeout(Ae,500);window.addEventListener("resize",er),screen.orientation&&screen.orientation.addEventListener("change",Ae);const Ce=()=>{De(),document.removeEventListener("keyup",Ce),document.removeEventListener("touchstart",Ce)};return document.addEventListener("keyup",Ce),document.addEventListener("touchstart",Ce),Q=requestAnimationFrame(Qt),()=>{Q&&cancelAnimationFrame(Q),window.removeEventListener("resize",er),screen.orientation&&screen.orientation.removeEventListener("change",Ae),document.removeEventListener("keyup",Ce),document.removeEventListener("touchstart",Ce)}},[e,R,P,i,l,d]),u.jsxs("div",{className:"game-container",children:[e&&!e.isWeb2&&!s&&u.jsx("div",{className:"login-prompt-overlay",children:u.jsx("div",{className:"login-prompt-container",children:u.jsxs("div",{className:"login-prompt-content",children:[u.jsx("h2",{children:"🔐 Authentication Required"}),u.jsxs("p",{children:["You need to connect your wallet to play on ",u.jsx("strong",{children:e.name})]}),u.jsx("p",{children:"This will create an embedded wallet for seamless blockchain gaming."}),u.jsx("button",{className:"login-prompt-button",onClick:o,children:"Connect Wallet"})]})})}),u.jsx("canvas",{ref:t}),y&&u.jsx("div",{className:"transaction-toast",children:u.jsxs("div",{className:"toast-content",children:[u.jsx("div",{className:"loading-spinner"}),u.jsx("span",{children:"Sending on-chain jump..."})]})}),e&&!e.isWeb2&&u.jsxs("div",{className:"blockchain-status-panel",children:[u.jsxs("div",{className:"status-header",children:[u.jsx("span",{className:"network-name",children:P.networkName}),u.jsx("span",{className:`status-indicator ${P.initialized?"connected":"disconnected"}`,children:P.initialized?"🟢":"🔴"})]}),P.initialized&&u.jsxs("div",{className:"status-details",children:[u.jsxs("div",{className:"status-item",children:[u.jsx("span",{className:"label",children:"Balance:"}),u.jsxs("span",{className:"value",children:[l," ETH"]})]}),u.jsxs("div",{className:"status-item",children:[u.jsx("span",{className:"label",children:"Contract #:"}),u.jsx("span",{className:"value",children:d})]}),u.jsxs("div",{className:"status-item",children:[u.jsx("span",{className:"label",children:"Jumps:"}),u.jsx("span",{className:"value",children:P.totalMovements})]}),parseFloat(l)<=0&&u.jsx("div",{className:"status-item",children:u.jsx("button",{className:"faucet-button",onClick:B,disabled:x,children:x?"Requesting...":"Get Test ETH"})}),c&&u.jsxs("div",{className:"status-item",children:[u.jsx("span",{className:"label",children:"Status:"}),u.jsx("span",{className:"value pending",children:"Pending TX..."})]})]}),i&&u.jsxs("div",{className:"initialization-status",children:[u.jsx("div",{className:"loading-spinner"}),u.jsx("span",{children:"Initializing blockchain..."})]})]})]})},pc=({selectedNetwork:e,onDisconnect:t,disableNetworkControls:n=!1})=>{var C;const{user:r,authenticated:s,ready:a}=ht(),{login:o}=Rt(),{logout:i}=Ps(),{wallets:c}=Sn(),[l,d]=G.useState(!1),[f,m]=G.useState(!1),g=[{id:6342,name:"MegaETH Testnet",emoji:"⚡"},{id:84532,name:"Base Sepolia",emoji:"🔵"},{id:10143,name:"Monad Testnet",emoji:"🟣"}];G.useEffect(()=>{(async()=>{if(s&&c&&c.length>0&&e&&!f)try{await c[0].getChainId()!==e.id&&(console.log(`Auto-switching to ${e.name}...`),m(!0),await p(e.id))}catch(M){console.warn("Auto network switch failed:",M)}finally{m(!1)}})()},[s,c,e]);const h=()=>{s?(i(),t&&t()):o()},p=async x=>{var M;if(!(!c||c.length===0)){m(!0);try{const F=c[0],D=((M=g.find(_=>_.id===x))==null?void 0:M.name)||"Unknown Network";try{await F.switchChain(x),d(!1),console.log(`Successfully switched to ${D}`);return}catch(_){console.log(`Network ${D} not found, attempting to add it...`,_);const V=T(x);if(V)console.log(`Adding network ${D} to wallet...`),await E(F,V),await new Promise(Te=>setTimeout(Te,1e3)),console.log(`Switching to ${D}...`),await F.switchChain(x),d(!1),console.log(`Successfully added and switched to ${D}`);else throw new Error(`Network configuration not found for chain ID ${x}`)}}catch(F){console.error("Failed to switch network:",F);let D="Failed to switch network. ";F.message.includes("rejected")?D+="User cancelled the operation.":F.message.includes("already pending")?D+="Another network operation is in progress. Please wait and try again.":D+="Please try again or add the network manually.",alert(D)}finally{m(!1)}}},T=x=>({6342:{chainId:"0x18C6",chainName:"MegaETH Testnet",rpcUrls:["https://carrot.megaeth.com/rpc"],nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockExplorerUrls:["https://carrot.megaeth.com"]},84532:{chainId:"0x14A34",chainName:"Base Sepolia",rpcUrls:["https://sepolia.base.org"],nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockExplorerUrls:["https://sepolia.basescan.org"]},10143:{chainId:"0x279F",chainName:"Monad Testnet",rpcUrls:["https://testnet-rpc.monad.xyz"],nativeCurrency:{name:"Monad",symbol:"MON",decimals:18},blockExplorerUrls:["https://testnet.monadexplorer.com"]}})[x],E=async(x,M)=>{try{await(await x.getEthersProvider()).send("wallet_addEthereumChain",[M])}catch(F){if(F.code===4902||F.message.includes("already exists")||F.message.includes("Already added")){console.log("Network already exists in wallet");return}throw F}},P=()=>{if(!c||c.length===0)return null;const x=c[0];return g.find(M=>M.id===x.chainId)},A=x=>x?`${x.slice(0,6)}...${x.slice(-4)}`:"",y=()=>{var x;if((x=r==null?void 0:r.wallet)!=null&&x.address)return r.wallet.address;if(r!=null&&r.linkedAccounts){const M=r.linkedAccounts.find(F=>F.type==="wallet");return M==null?void 0:M.address}return null},$=()=>{var M,F;if((M=r==null?void 0:r.email)!=null&&M.address)return r.email.address;if((F=r==null?void 0:r.phone)!=null&&F.number)return r.phone.number;const x=y();return x?A(x):"Unknown User"};return a?u.jsxs("div",{className:"wallet-container",children:[u.jsxs("div",{className:"wallet-controls",children:[u.jsx("button",{className:`wallet-button ${s?"connected":""}`,onClick:h,children:s?"Disconnect":"Connect Wallet"}),s&&c&&c.length>0&&!n&&u.jsxs("div",{className:"network-selector",children:[u.jsx("button",{className:"network-button",onClick:()=>d(!l),disabled:f,children:f?"🔄 Switching...":P()?`${P().emoji} ${P().name}`:"🌐 Select Network"}),l&&u.jsx("div",{className:"network-dropdown",children:g.map(x=>{var M;return u.jsxs("button",{className:`network-option ${((M=P())==null?void 0:M.id)===x.id?"active":""} ${(e==null?void 0:e.id)===x.id?"selected-game-network":""}`,onClick:()=>p(x.id),disabled:f,children:[f?"🔄":x.emoji," ",x.name,(e==null?void 0:e.id)===x.id&&" 🎮"]},x.id)})})]})]}),s&&u.jsxs("div",{className:"wallet-info",children:[u.jsx("div",{className:"wallet-status",children:"Connected"}),u.jsx("div",{className:"wallet-user",children:$()}),u.jsx("div",{className:"wallet-network",children:e?e.name:((C=P())==null?void 0:C.name)||"Unknown Network"})]})]}):u.jsx("div",{className:"wallet-container",children:u.jsx("button",{className:"wallet-button",disabled:!0,children:"Loading..."})})},gc=({onNetworkSelect:e,onStartGame:t})=>{const[n,r]=G.useState(null),[s,a]=G.useState(!0),[o,i]=G.useState(""),[c,l]=G.useState({width:window.innerWidth,height:window.innerHeight}),{user:d,authenticated:f}=ht(),{login:m}=Rt(),g=[{id:"web2",name:"CLASSIC BROWSER",emoji:"🌐",description:"Pure web2 experience",tech:"No wallet required",color:"#2ecc71",status:"ONLINE",icon:"🦕",isWeb2:!0},{id:6342,name:"MEGAETH TESTNET",emoji:"⚡",description:"Ultra-fast execution layer",tech:"Lightning-fast transactions",color:"#ff6b6b",status:"ONLINE",icon:"🚀"},{id:84532,name:"BASE SEPOLIA",emoji:"🔵",description:"Ethereum L2 testnet",tech:"Reliable scaling solution",color:"#4ecdc4",status:"ONLINE",icon:"🌐"},{id:10143,name:"MONAD TESTNET",emoji:"🟣",description:"Next-gen blockchain",tech:"Advanced consensus",color:"#9b59b6",status:"BETA",icon:"🔮"}];G.useEffect(()=>{const y=["INITIALIZING NETWORK SCANNER...","DETECTING AVAILABLE CHAINS...","ESTABLISHING SECURE CONNECTIONS...","SYSTEM READY FOR NETWORK SELECTION"];let $=0;const C=setInterval(()=>{i(y[$]),$++,$>=y.length&&(clearInterval(C),setTimeout(()=>a(!1),500))},800);return()=>clearInterval(C)},[]),G.useEffect(()=>{const y=()=>{l({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]),G.useEffect(()=>{},[c]);const h=()=>{const{width:y,height:$}=c,C=y<=768,x=y>768&&y<=1024,M=y>1024,F=y>1600;let D;C?D=Math.min(y*.98,y-20):x?D=Math.min(y*.92,y-60):F?D=Math.min(y*.85,1400):D=Math.min(y*.88,1200);const _=$*(C?.95:.9),V=Math.min($*(C?.7:.6),C?500:600),Te=C?Math.max(15,y*.03):Math.max(20,y*.025);return{containerStyle:{width:`${D}px`,maxHeight:`${_}px`,minHeight:`${V}px`,transition:"all 0.3s ease"},contentStyle:{padding:`${Te}px`,transition:"all 0.3s ease"},networkGridStyle:{gridTemplateColumns:C?"1fr":x?"repeat(auto-fit, minmax(280px, 1fr))":"repeat(auto-fit, minmax(300px, 1fr))",gap:`${C?15:M?25:20}px`}}},{containerStyle:p,contentStyle:T,networkGridStyle:E}=h(),P=y=>{r(y),e(y)},A=()=>{if(n){if(n.isWeb2){t(n);return}f&&d?t(n):(e(n),m())}};return G.useEffect(()=>{f&&d&&n&&t(n)},[f,d,n,t]),s?u.jsx("div",{className:"network-scanner-overlay",children:u.jsx("div",{className:"scanner-container",style:p,children:u.jsxs("div",{className:"scanner-content",style:T,children:[u.jsxs("div",{className:"terminal-header",children:[u.jsx("div",{className:"terminal-title",children:"NETWORK SCANNER PROTOCOL"}),u.jsxs("div",{className:"terminal-buttons",children:[u.jsx("div",{className:"terminal-button red"}),u.jsx("div",{className:"terminal-button yellow"}),u.jsx("div",{className:"terminal-button green"})]})]}),u.jsx("div",{className:"logo-section",children:u.jsx("div",{className:"pixel-logo",children:u.jsxs("div",{className:"logo-text",children:[u.jsx("span",{className:"logo-main",children:"BUDDY"}),u.jsx("span",{className:"logo-accent",children:"RUNNER"})]})})}),u.jsx("div",{className:"scanner-display",children:u.jsxs("div",{className:"radar-container",children:[u.jsx("div",{className:"radar-sweep"}),u.jsx("div",{className:"radar-grid"})]})}),u.jsxs("div",{className:"scanner-text",children:[u.jsx("span",{className:"terminal-prompt",children:">"})," ",o]})]})})}):u.jsx("div",{className:"network-selection-overlay",children:u.jsx("div",{className:"network-selection-container",style:p,children:u.jsxs("div",{className:"network-selection-content",style:T,children:[u.jsxs("div",{className:"terminal-header",children:[u.jsx("div",{className:"terminal-title",children:"BLOCKCHAIN NETWORK SELECTOR"}),u.jsxs("div",{className:"terminal-buttons",children:[u.jsx("div",{className:"terminal-button red"}),u.jsx("div",{className:"terminal-button yellow"}),u.jsx("div",{className:"terminal-button green"})]})]}),u.jsx("div",{className:"logo-section",children:u.jsxs("div",{className:"pixel-logo",children:[u.jsxs("div",{className:"logo-text",children:[u.jsx("span",{className:"logo-main",children:"BUDDY"}),u.jsx("span",{className:"logo-accent",children:"RUNNER"})]}),u.jsxs("div",{className:"logo-powered",children:["POWERED BY ",u.jsx("strong",{children:"MEGA BUDDIES"})]})]})}),u.jsxs("div",{className:"mission-briefing",children:[u.jsx("div",{className:"briefing-title",children:"MISSION BRIEFING"}),u.jsxs("div",{className:"briefing-content",children:[u.jsxs("div",{className:"terminal-text",children:[u.jsx("span",{className:"terminal-prompt",children:">"})," OBJECTIVE: SURVIVE 60 SECONDS ON EACH NETWORK"]}),u.jsxs("div",{className:"terminal-text",children:[u.jsx("span",{className:"terminal-prompt",children:">"})," ANALYZE BLOCK TIME IMPACT ON USER EXPERIENCE"]}),u.jsxs("div",{className:"terminal-text",children:[u.jsx("span",{className:"terminal-prompt",children:">"})," DISCOVER THE POWER OF REAL-TIME BLOCKCHAIN"]})]})]}),u.jsxs("div",{className:"network-selection",children:[u.jsx("div",{className:"selection-title",children:"SELECT TARGET BLOCKCHAIN NETWORK:"}),u.jsx("div",{className:"network-grid",style:E,children:g.map(y=>u.jsxs("div",{className:`network-card ${(n==null?void 0:n.id)===y.id?"selected":""}`,onClick:()=>P(y),children:[u.jsxs("div",{className:"network-header",children:[u.jsx("div",{className:"network-icon",children:y.icon}),u.jsx("div",{className:"network-status","data-status":y.status,children:y.status})]}),u.jsxs("div",{className:"network-info",children:[u.jsx("div",{className:"network-name",children:y.name}),u.jsx("div",{className:"network-description",children:y.description}),u.jsx("div",{className:"network-tech",children:y.tech})]}),u.jsxs("div",{className:"network-specs",children:[u.jsxs("div",{className:"spec-item",children:[u.jsx("span",{className:"spec-label",children:y.isWeb2?"TYPE:":"CHAIN ID:"}),u.jsx("span",{className:"spec-value",children:y.isWeb2?"WEB2":y.id})]}),u.jsxs("div",{className:"spec-item",children:[u.jsx("span",{className:"spec-label",children:"NETWORK:"}),u.jsx("span",{className:"spec-value",children:y.isWeb2?"BROWSER":"TESTNET"})]})]}),u.jsx("div",{className:"selection-indicator",children:(n==null?void 0:n.id)===y.id&&u.jsx("div",{className:"selected-glow",children:"SELECTED"})})]},y.id))}),n&&u.jsxs("div",{className:"launch-section",children:[u.jsxs("div",{className:"launch-info",children:[u.jsxs("div",{className:"terminal-text",children:[u.jsx("span",{className:"terminal-prompt",children:">"})," TARGET NETWORK: ",n.name]}),u.jsxs("div",{className:"terminal-text",children:[u.jsx("span",{className:"terminal-prompt",children:">"})," MISSION STATUS: READY FOR DEPLOYMENT"]})]}),u.jsxs("button",{className:"launch-button",onClick:A,children:[u.jsx("span",{className:"button-icon",children:"🚀"}),"LAUNCH MISSION ON ",n.name,u.jsx("div",{className:"button-glow"})]})]})]})]})})})},bc=({onWalletConnected:e})=>{const{user:t,authenticated:n,ready:r}=ht(),{login:s}=Rt(),[a,o]=G.useState("INITIALIZING"),[i,c]=G.useState("");G.useEffect(()=>{n&&t&&e()},[n,t,e]),G.useEffect(()=>{const d=setInterval(()=>{c(m=>m.length>=3?"":m+".")},500),f=setInterval(()=>{const m=["INITIALIZING","LOADING SYSTEMS","CONNECTING","SYNCING"];o(m[Math.floor(Math.random()*m.length)])},2e3);return()=>{clearInterval(d),clearInterval(f)}},[]);const l=()=>{s()};return r?u.jsx("div",{className:"wallet-connection-overlay",children:u.jsx("div",{className:"wallet-connection-container",children:u.jsxs("div",{className:"wallet-connection-content",children:[u.jsxs("div",{className:"terminal-header",children:[u.jsx("div",{className:"terminal-title",children:"WALLET CONNECTION PROTOCOL"}),u.jsxs("div",{className:"terminal-buttons",children:[u.jsx("div",{className:"terminal-button red"}),u.jsx("div",{className:"terminal-button yellow"}),u.jsx("div",{className:"terminal-button green"})]})]}),u.jsx("div",{className:"logo-section",children:u.jsxs("div",{className:"pixel-logo",children:[u.jsxs("div",{className:"logo-text",children:[u.jsx("span",{className:"logo-main",children:"BUDDY"}),u.jsx("span",{className:"logo-accent",children:"RUNNER"})]}),u.jsxs("div",{className:"logo-powered",children:["POWERED BY ",u.jsx("strong",{children:"MEGA BUDDIES"})]})]})}),u.jsxs("div",{className:"connection-section",children:[u.jsx("div",{className:"connection-icon",children:"🔗"}),u.jsx("h2",{className:"connection-title",children:"AUTHENTICATION REQUIRED"}),u.jsxs("div",{className:"terminal-content",children:[u.jsxs("div",{className:"terminal-text",children:[u.jsx("span",{className:"terminal-prompt",children:">"})," CONNECT YOUR WALLET TO ACCESS THE GAME"]}),u.jsxs("div",{className:"terminal-text",children:[u.jsx("span",{className:"terminal-prompt",children:">"})," ALL SCORES WILL BE STORED ON-CHAIN"]}),u.jsxs("div",{className:"terminal-text",children:[u.jsx("span",{className:"terminal-prompt",children:">"})," SECURE BLOCKCHAIN AUTHENTICATION"]})]}),u.jsxs("button",{className:"connect-wallet-button",onClick:l,children:[u.jsx("span",{className:"button-icon",children:"🔐"}),"CONNECT WALLET",u.jsx("div",{className:"button-glow"})]}),u.jsxs("div",{className:"supported-options",children:[u.jsx("div",{className:"options-title",children:"SUPPORTED AUTHENTICATION METHODS:"}),u.jsxs("div",{className:"options-grid",children:[u.jsxs("div",{className:"option-item",children:[u.jsx("span",{className:"option-icon",children:"📧"}),u.jsx("span",{className:"option-text",children:"EMAIL"})]}),u.jsxs("div",{className:"option-item",children:[u.jsx("span",{className:"option-icon",children:"📱"}),u.jsx("span",{className:"option-text",children:"PHONE"})]}),u.jsxs("div",{className:"option-item",children:[u.jsx("span",{className:"option-icon",children:"🦊"}),u.jsx("span",{className:"option-text",children:"METAMASK"})]}),u.jsxs("div",{className:"option-item",children:[u.jsx("span",{className:"option-icon",children:"💼"}),u.jsx("span",{className:"option-text",children:"OTHER WALLETS"})]})]})]}),u.jsxs("div",{className:"security-info",children:[u.jsxs("div",{className:"terminal-text",children:[u.jsx("span",{className:"terminal-prompt",children:">"})," SECURITY: 256-BIT ENCRYPTION"]}),u.jsxs("div",{className:"terminal-text",children:[u.jsx("span",{className:"terminal-prompt",children:">"})," NETWORK: MEGAETH COMPATIBLE"]})]})]})]})})}):u.jsx("div",{className:"preloader-overlay",children:u.jsx("div",{className:"preloader-container",children:u.jsxs("div",{className:"preloader-content",children:[u.jsxs("div",{className:"terminal-header",children:[u.jsx("div",{className:"terminal-title",children:"BUDDY RUNNER SYSTEM"}),u.jsxs("div",{className:"terminal-buttons",children:[u.jsx("div",{className:"terminal-button red"}),u.jsx("div",{className:"terminal-button yellow"}),u.jsx("div",{className:"terminal-button green"})]})]}),u.jsx("div",{className:"logo-section",children:u.jsx("div",{className:"pixel-logo",children:u.jsxs("div",{className:"logo-text",children:[u.jsx("span",{className:"logo-main",children:"BUDDY"}),u.jsx("span",{className:"logo-accent",children:"RUNNER"})]})})}),u.jsx("div",{className:"loading-bar",children:u.jsx("div",{className:"progress",style:{width:"100%"}})}),u.jsxs("div",{className:"loading-text",children:[a,u.jsx("span",{className:"dots",children:i})]}),u.jsxs("div",{className:"terminal-text",children:[u.jsx("span",{className:"terminal-prompt",children:">"})," System initialization in progress..."]})]})})})},yc=()=>{const e="cme84q0og02aalc0bh9blzwa9",[t,n]=G.useState("network-selection"),[r,s]=G.useState(null),a={id:6342,name:"MegaETH Testnet",network:"megaeth-testnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://carrot.megaeth.com/rpc"],webSocket:["wss://carrot.megaeth.com/ws"]}},blockExplorers:{default:{name:"MegaETH Explorer",url:"https://carrot.megaeth.com"}}},l={appearance:{theme:"light",accentColor:"#7FBC7F",logo:"https://your-logo-url.com/logo.png"},embeddedWallets:{createOnLogin:"all-users"},loginMethods:["email","wallet"],defaultChain:a,supportedChains:[a,{id:31337,name:"Foundry Local",network:"foundry",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["http://127.0.0.1:8545"]}}},{id:50311,name:"Somnia Testnet",network:"somnia-testnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://testnet.somnia.network"]}}},{id:1313161556,name:"RISE Testnet",network:"rise-testnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://testnet-rpc.rise.com"]}}},{id:84532,name:"Base Sepolia",network:"base-sepolia",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Base Sepolia Explorer",url:"https://sepolia.basescan.org"}}},{id:10143,name:"Monad Testnet",network:"monad-testnet",nativeCurrency:{name:"Monad",symbol:"MON",decimals:18},rpcUrls:{default:{http:["https://testnet-rpc.monad.xyz"]}},blockExplorers:{default:{name:"Monad Explorer",url:"https://testnet.monadexplorer.com"}}},{id:1,name:"Ethereum",network:"homestead",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://eth-mainnet.g.alchemy.com/v2/your-api-key"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io"}}},{id:11155111,name:"Sepolia",network:"sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.infura.io/v3/your-api-key"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.etherscan.io"}}}]},d=p=>{s(p)},f=p=>{s(p),p.isWeb2?n("game"):n("wallet-connection")},m=()=>{n("game")},g=()=>{n("network-selection"),s(null)},h=()=>{n("network-selection"),s(null)};return u.jsx(Ts,{appId:e,config:l,children:u.jsx("div",{className:"app",children:t==="network-selection"?u.jsx(gc,{onNetworkSelect:d,onStartGame:f}):t==="wallet-connection"?u.jsxs("div",{children:[u.jsx("div",{className:"back-to-wallet",children:u.jsx("button",{className:"back-button-small",onClick:g,children:"← Back to Network Selection"})}),u.jsx(bc,{onWalletConnected:m})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"back-to-network-button",children:u.jsx("button",{className:"back-button",onClick:g,children:"← Back to Network Selection"})}),r&&!r.isWeb2&&u.jsx(pc,{selectedNetwork:r,onDisconnect:h,disableNetworkControls:!0}),u.jsx("div",{className:"game-layout",children:u.jsx("div",{className:"game-header",children:u.jsx("div",{className:"header-center",children:u.jsxs("div",{className:"title",children:["Buddy Runner",r&&r.isWeb2&&u.jsx("span",{className:"web2-mode",children:" - Classic Mode"})]})})})}),u.jsx(mc,{selectedNetwork:r}),u.jsxs("div",{className:"instructions",children:[u.jsx("p",{className:"main-instruction",children:"📱 Press SPACE or tap to make Buddy jump!"}),u.jsx("p",{className:"help-text",children:"Help our brave bunny Buddy hop over the giant carrots and achieve the highest score!"}),u.jsx("p",{className:"warning-text",children:"Watch out for those sneaky garden carrots!"})]})]})})})};on.createRoot(document.getElementById("root")).render(u.jsx(js.StrictMode,{children:u.jsx(yc,{})}));export{j as B,Ye as H,Je as I,he as a,ue as b,Ht as c,eo as d,mt as e,Ft as g,we as i,Z as s};
