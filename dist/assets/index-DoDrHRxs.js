const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ccip-DLwmcr-6.js","assets/privy-CJey9ZCd.js","assets/vendor-C7A1SLig.js"])))=>i.map(i=>d[i]);
var Ds=Object.defineProperty;var Ls=(e,t,n)=>t in e?Ds(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ne=(e,t,n)=>Ls(e,typeof t!="symbol"?t+"":t,n);import{_ as Gs,m as It,o as Kn,i as tn,j as u,a as Us,X as zs}from"./privy-CJey9ZCd.js";import{b as Hs,r as L,R as _s}from"./vendor-C7A1SLig.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var Nn={},wr=Hs;Nn.createRoot=wr.createRoot,Nn.hydrateRoot=wr.hydrateRoot;function Ws(e,t){const n=e.exec(t);return n==null?void 0:n.groups}const vr=/^tuple(?<array>(\[(\d*)\])*)$/;function Cn(e){let t=e.type;if(vr.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){const a=e.components[s];t+=Cn(a),s<n-1&&(t+=", ")}const r=Ws(vr,e.type);return t+=`)${(r==null?void 0:r.array)??""}`,Cn({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function dt(e){let t="";const n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=Cn(s),r!==n-1&&(t+=", ")}return t}function qs(e){return e.type==="function"?`function ${e.name}(${dt(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs.length?` returns (${dt(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${dt(e.inputs)})`:e.type==="error"?`error ${e.name}(${dt(e.inputs)})`:e.type==="constructor"?`constructor(${dt(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?"fallback()":"receive() external payable"}function U(e,t,n){return r=>{var s;return((s=e[t.name||n])==null?void 0:s.call(e,r))??t(e,r)}}function Ie(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new la(e.type);return`${e.name}(${nn(e.inputs,{includeName:t})})`}function nn(e,{includeName:t=!1}={}){return e?e.map(n=>Ks(n,{includeName:t})).join(t?", ":","):""}function Ks(e,{includeName:t}){return e.type.startsWith("tuple")?`(${nn(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}function Ae(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function ae(e){return Ae(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const Js="1.21.3",Ys=e=>e,rn=e=>e,Vs=()=>`viem@${Js}`;class S extends Error{constructor(t,n={}){var a;super(),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:Vs()});const r=n.cause instanceof S?n.cause.details:(a=n.cause)!=null&&a.message?n.cause.message:n.details,s=n.cause instanceof S&&n.cause.docsPath||n.docsPath;this.message=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://viem.sh${s}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}walk(t){return Br(this,t)}}function Br(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e?Br(e.cause,t):t?null:e}class Xs extends S{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorNotFoundError"})}}class xr extends S{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorParamsNotFoundError"})}}class Jn extends S{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${nn(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class sn extends S{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingZeroDataError"})}}class Zs extends S{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingArrayLengthMismatchError"})}}class Qs extends S{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${ae(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingBytesSizeMismatchError"})}}class ea extends S{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingLengthMismatchError"})}}class Dr extends S{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class ta extends S{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureEmptyTopicsError"})}}class na extends S{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureNotFoundError"})}}class Tr extends S{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventNotFoundError"})}}class Xt extends S{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionNotFoundError"})}}class ra extends S{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionOutputsNotFoundError"})}}class sa extends S{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${Ie(t.abiItem)}\`, and`,`\`${n.type}\` in \`${Ie(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItemAmbiguityError"})}}class aa extends S{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytesSizeMismatchError"})}}class Ke extends S{constructor({abiItem:t,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${nn(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=s}}class nt extends S{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${Ie(t,{includeName:!0})}".`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class oa extends S{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiEncodingType"})}}class ia extends S{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiDecodingType"})}}class ca extends S{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidArrayError"})}}class la extends S{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidDefinitionTypeError"})}}class ua extends S{constructor(t){super(`Filter type "${t}" is not supported.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FilterTypeNotSupportedError"})}}class Lr extends S{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${r}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SliceOffsetOutOfBoundsError"})}}class Gr extends S{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeExceedsPaddingSizeError"})}}function rt(e,{dir:t,size:n=32}={}){return typeof e=="string"?De(e,{dir:t,size:n}):da(e,{dir:t,size:n})}function De(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new Gr({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function da(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new Gr({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const a=t==="right";r[a?s:n-s-1]=e[a?s:e.length-s-1]}return r}class fa extends S{constructor({max:t,min:n,signed:r,size:s,value:a}){super(`Number "${a}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntegerOutOfRangeError"})}}class ha extends S{constructor(t){super(`Hex value "${t}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidHexBooleanError"})}}class ma extends S{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"})}}function Ze(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,r=0;for(let s=0;s<n.length-1&&n[t==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=t==="left"?n.slice(r):n.slice(0,n.length-r),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function He(e,{size:t}){if(ae(e)>t)throw new ma({givenSize:ae(e),maxSize:t})}function an(e,t={}){const{signed:n}=t;t.size&&He(e,{size:t.size});const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,a=(1n<<BigInt(s)*8n-1n)-1n;return r<=a?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function ga(e,t={}){let n=e;if(t.size&&(He(n,{size:t.size}),n=Ze(n)),Ze(n)==="0x00")return!1;if(Ze(n)==="0x01")return!0;throw new ha(n)}function le(e,t={}){return Number(an(e,t))}function pa(e,t={}){let n=Vn(e);return t.size&&(He(n,{size:t.size}),n=Ze(n,{dir:"right"})),new TextDecoder().decode(n)}const ba=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Fe(e,t={}){return typeof e=="number"||typeof e=="bigint"?W(e,t):typeof e=="string"?Yn(e,t):typeof e=="boolean"?Ur(e,t):gt(e,t)}function Ur(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(He(n,{size:t.size}),rt(n,{size:t.size})):n}function gt(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=ba[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(He(r,{size:t.size}),rt(r,{dir:"right",size:t.size})):r}function W(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let a;r?n?a=(1n<<BigInt(r)*8n-1n)-1n:a=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(a=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof a=="bigint"&&n?-a-1n:0;if(a&&s>a||s<o){const l=typeof e=="bigint"?"n":"";throw new fa({max:a?`${a}${l}`:void 0,min:`${o}${l}`,signed:n,size:r,value:`${e}${l}`})}const i=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?rt(i,{size:r}):i}const ya=new TextEncoder;function Yn(e,t={}){const n=ya.encode(e);return gt(n,t)}const wa=new TextEncoder;function Le(e,t={}){return typeof e=="number"||typeof e=="bigint"?xa(e,t):typeof e=="boolean"?va(e,t):Ae(e)?Vn(e,t):Oe(e,t)}function va(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(He(n,{size:t.size}),rt(n,{size:t.size})):n}const ke={zero:48,nine:57,A:65,F:70,a:97,f:102};function Er(e){if(e>=ke.zero&&e<=ke.nine)return e-ke.zero;if(e>=ke.A&&e<=ke.F)return e-(ke.A-10);if(e>=ke.a&&e<=ke.f)return e-(ke.a-10)}function Vn(e,t={}){let n=e;t.size&&(He(n,{size:t.size}),n=rt(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,a=new Uint8Array(s);for(let o=0,i=0;o<s;o++){const l=Er(r.charCodeAt(i++)),d=Er(r.charCodeAt(i++));if(l===void 0||d===void 0)throw new S(`Invalid byte sequence ("${r[i-2]}${r[i-1]}" in "${r}").`);a[o]=l*16+d}return a}function xa(e,t){const n=W(e,t);return Vn(n)}function Oe(e,t={}){const n=wa.encode(e);return typeof t.size=="number"?(He(n,{size:t.size}),rt(n,{dir:"right",size:t.size})):n}function Ta(e){let t=!0,n="",r=0,s="",a=!1;for(let o=0;o<e.length;o++){const i=e[o];if(["(",")",","].includes(i)&&(t=!0),i==="("&&r++,i===")"&&r--,!!t){if(r===0){if(i===" "&&["event","function",""].includes(s))s="";else if(s+=i,i===")"){a=!0;break}continue}if(i===" "){e[o-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=i,n+=i}}if(!a)throw new S("Unable to normalize signature.");return s}const zr=e=>{const t=typeof e=="string"?e:qs(e);return Ta(t)},Ea=e=>zr(e);function Pr(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function Hr(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function Nr(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Pa(e,t){Hr(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Kt=BigInt(2**32-1),Cr=BigInt(32);function Na(e,t=!1){return t?{h:Number(e&Kt),l:Number(e>>Cr&Kt)}:{h:Number(e>>Cr&Kt)|0,l:Number(e&Kt)|0}}function Ca(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:a,l:o}=Na(e[s],t);[n[s],r[s]]=[a,o]}return[n,r]}const Sa=(e,t,n)=>e<<n|t>>>32-n,ja=(e,t,n)=>t<<n|e>>>32-n,Aa=(e,t,n)=>t<<n-32|e>>>64-n,Ra=(e,t,n)=>e<<n-32|t>>>64-n;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ka=e=>e instanceof Uint8Array,$a=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),Oa=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Oa)throw new Error("Non little-endian hardware is not supported");function Ia(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function _r(e){if(typeof e=="string"&&(e=Ia(e)),!ka(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}class Ma{clone(){return this._cloneInto()}}function Fa(e){const t=r=>e().update(_r(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}const[Wr,qr,Kr]=[[],[],[]],Ba=BigInt(0),ft=BigInt(1),Da=BigInt(2),La=BigInt(7),Ga=BigInt(256),Ua=BigInt(113);for(let e=0,t=ft,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],Wr.push(2*(5*r+n)),qr.push((e+1)*(e+2)/2%64);let s=Ba;for(let a=0;a<7;a++)t=(t<<ft^(t>>La)*Ua)%Ga,t&Da&&(s^=ft<<(ft<<BigInt(a))-ft);Kr.push(s)}const[za,Ha]=Ca(Kr,!0),Sr=(e,t,n)=>n>32?Aa(e,t,n):Sa(e,t,n),jr=(e,t,n)=>n>32?Ra(e,t,n):ja(e,t,n);function _a(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let o=0;o<10;o++)n[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const i=(o+8)%10,l=(o+2)%10,d=n[l],h=n[l+1],m=Sr(d,h,1)^n[i],y=jr(d,h,1)^n[i+1];for(let T=0;T<50;T+=10)e[o+T]^=m,e[o+T+1]^=y}let s=e[2],a=e[3];for(let o=0;o<24;o++){const i=qr[o],l=Sr(s,a,i),d=jr(s,a,i),h=Wr[o];s=e[h],a=e[h+1],e[h]=l,e[h+1]=d}for(let o=0;o<50;o+=10){for(let i=0;i<10;i++)n[i]=e[o+i];for(let i=0;i<10;i++)e[o+i]^=~n[(i+2)%10]&n[(i+4)%10]}e[0]^=za[r],e[1]^=Ha[r]}n.fill(0)}class Xn extends Ma{constructor(t,n,r,s=!1,a=24){if(super(),this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=a,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Pr(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=$a(this.state)}keccak(){_a(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){Nr(this);const{blockLen:n,state:r}=this;t=_r(t);const s=t.length;for(let a=0;a<s;){const o=Math.min(n-this.pos,s-a);for(let i=0;i<o;i++)r[this.pos++]^=t[a++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,n&128&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){Nr(this,!1),Hr(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,a=t.length;s<a;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,a-s);t.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Pr(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Pa(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:a,enableXOF:o}=this;return t||(t=new Xn(n,r,s,o,a)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=a,t.suffix=r,t.outputLen=s,t.enableXOF=o,t.destroyed=this.destroyed,t}}const Wa=(e,t,n)=>Fa(()=>new Xn(t,e,n)),qa=Wa(1,136,256/8);function de(e,t){const n=t||"hex",r=qa(Ae(e,{strict:!1})?Le(e):e);return n==="bytes"?r:Fe(r)}const Ka=e=>de(Le(e)),Zn=e=>Ka(Ea(e));class pt extends S{constructor({address:t}){super(`Address "${t}" is invalid.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}}const Ja=/^0x[a-fA-F0-9]{40}$/;function Ge(e){return Ja.test(e)}function Me(e){return typeof e[0]=="string"?Qn(e):Ya(e)}function Ya(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function Qn(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function se(e,t,n,{strict:r}={}){return Ae(e,{strict:!1})?Xa(e,t,n,{strict:r}):Va(e,t,n,{strict:r})}function Jr(e,t){if(typeof t=="number"&&t>0&&t>ae(e)-1)throw new Lr({offset:t,position:"start",size:ae(e)})}function Yr(e,t,n){if(typeof t=="number"&&typeof n=="number"&&ae(e)!==n-t)throw new Lr({offset:n,position:"end",size:ae(e)})}function Va(e,t,n,{strict:r}={}){Jr(e,t);const s=e.slice(t,n);return r&&Yr(s,t,n),s}function Xa(e,t,n,{strict:r}={}){Jr(e,t);const s=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&Yr(s,t,n),s}function Mt(e,t){if(e.length!==t.length)throw new ea({expectedLength:e.length,givenLength:t.length});const n=Za({params:e,values:t}),r=tr(n);return r.length===0?"0x":r}function Za({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(er({param:e[r],value:t[r]}));return n}function er({param:e,value:t}){const n=on(e.type);if(n){const[r,s]=n;return eo(t,{length:r,param:{...e,type:s}})}if(e.type==="tuple")return ao(t,{param:e});if(e.type==="address")return Qa(t);if(e.type==="bool")return no(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int");return ro(t,{signed:r})}if(e.type.startsWith("bytes"))return to(t,{param:e});if(e.type==="string")return so(t);throw new oa(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function tr(e){let t=0;for(let a=0;a<e.length;a++){const{dynamic:o,encoded:i}=e[a];o?t+=32:t+=ae(i)}const n=[],r=[];let s=0;for(let a=0;a<e.length;a++){const{dynamic:o,encoded:i}=e[a];o?(n.push(W(t+s,{size:32})),r.push(i),s+=ae(i)):n.push(i)}return Me([...n,...r])}function Qa(e){if(!Ge(e))throw new pt({address:e});return{dynamic:!1,encoded:De(e.toLowerCase())}}function eo(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new ca(e);if(!r&&e.length!==t)throw new Zs({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const a=[];for(let o=0;o<e.length;o++){const i=er({param:n,value:e[o]});i.dynamic&&(s=!0),a.push(i)}if(r||s){const o=tr(a);if(r){const i=W(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?Me([i,o]):i}}if(s)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:Me(a.map(({encoded:o})=>o))}}function to(e,{param:t}){const[,n]=t.type.split("bytes"),r=ae(e);if(!n){let s=e;return r%32!==0&&(s=De(s,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:Me([De(W(r,{size:32})),s])}}if(r!==parseInt(n))throw new Qs({expectedSize:parseInt(n),value:e});return{dynamic:!1,encoded:De(e,{dir:"right"})}}function no(e){return{dynamic:!1,encoded:De(Ur(e))}}function ro(e,{signed:t}){return{dynamic:!1,encoded:W(e,{size:32,signed:t})}}function so(e){const t=Yn(e),n=Math.ceil(ae(t)/32),r=[];for(let s=0;s<n;s++)r.push(De(se(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Me([De(W(ae(t),{size:32})),...r])}}function ao(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const a=t.components[s],o=Array.isArray(e)?s:a.name,i=er({param:a,value:e[o]});r.push(i),i.dynamic&&(n=!0)}return{dynamic:n,encoded:n?tr(r):Me(r.map(({encoded:s})=>s))}}function on(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const oo=e=>de(Le(e)),nr=e=>se(oo(zr(e)),0,4);function Ft({abi:e,args:t=[],name:n}){const r=Ae(n,{strict:!1}),s=e.filter(o=>r?o.type==="function"?nr(o)===n:o.type==="event"?Zn(o)===n:!1:"name"in o&&o.name===n);if(s.length===0)return;if(s.length===1)return s[0];let a;for(const o of s){if(!("inputs"in o))continue;if(!t||t.length===0){if(!o.inputs||o.inputs.length===0)return o;continue}if(!o.inputs||o.inputs.length===0||o.inputs.length!==t.length)continue;if(t.every((l,d)=>{const h="inputs"in o&&o.inputs[d];return h?Sn(l,h):!1})){if(a&&"inputs"in a&&a.inputs){const l=Vr(o.inputs,a.inputs,t);if(l)throw new sa({abiItem:o,type:l[0]},{abiItem:a,type:l[1]})}a=o}}return a||s[0]}function Sn(e,t){const n=typeof e,r=t.type;switch(r){case"address":return Ge(e);case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,a)=>Sn(Object.values(e)[a],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>Sn(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Vr(e,t,n){for(const r in e){const s=e[r],a=t[r];if(s.type==="tuple"&&a.type==="tuple"&&"components"in s&&"components"in a)return Vr(s.components,a.components,n[r]);const o=[s.type,a.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")||o.includes("address")&&o.includes("bytes")?Ge(n[r]):!1)return o}}function Bt({abi:e,eventName:t,args:n}){var i;let r=e[0];if(t&&(r=Ft({abi:e,args:n,name:t}),!r))throw new Tr(t,{docsPath:"/docs/contract/encodeEventTopics"});if(r.type!=="event")throw new Tr(void 0,{docsPath:"/docs/contract/encodeEventTopics"});const s=Ie(r),a=Zn(s);let o=[];if(n&&"inputs"in r){const l=(i=r.inputs)==null?void 0:i.filter(h=>"indexed"in h&&h.indexed),d=Array.isArray(n)?n:Object.values(n).length>0?(l==null?void 0:l.map(h=>n[h.name]))??[]:[];d.length>0&&(o=(l==null?void 0:l.map((h,m)=>Array.isArray(d[m])?d[m].map((y,T)=>Ar({param:h,value:d[m][T]})):d[m]?Ar({param:h,value:d[m]}):null))??[])}return[a,...o]}function Ar({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return de(Le(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new ua(e.type);return Mt([e],[t])}function cn(e,{method:t}){var r,s;const n={};return e.transport.type==="fallback"&&((s=(r=e.transport).onResponse)==null||s.call(r,({method:a,response:o,status:i,transport:l})=>{i==="success"&&t===a&&(n[o]=l.request)})),a=>n[a]||e.request}async function Xr(e,{address:t,abi:n,args:r,eventName:s,fromBlock:a,strict:o,toBlock:i}){const l=cn(e,{method:"eth_newFilter"}),d=s?Bt({abi:n,args:r,eventName:s}):void 0,h=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof a=="bigint"?W(a):a,toBlock:typeof i=="bigint"?W(i):i,topics:d}]});return{abi:n,args:r,eventName:s,id:h,request:l(h),strict:o,type:"event"}}function Pe(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}function _e({abi:e,args:t,functionName:n}){let r=e[0];if(n&&(r=Ft({abi:e,args:t,name:n}),!r))throw new Xt(n,{docsPath:"/docs/contract/encodeFunctionData"});if(r.type!=="function")throw new Xt(void 0,{docsPath:"/docs/contract/encodeFunctionData"});const s=Ie(r),a=nr(s),o="inputs"in r&&r.inputs?Mt(r.inputs,t??[]):void 0;return Qn([a,o??"0x"])}const Zr={1:"An `assert` condition failed.",17:"Arithmic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},io={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},co={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function rr(e,t){const n=e.substring(2).toLowerCase(),r=de(Oe(n),"bytes"),s=n.split("");for(let a=0;a<40;a+=2)r[a>>1]>>4>=8&&s[a]&&(s[a]=s[a].toUpperCase()),(r[a>>1]&15)>=8&&s[a+1]&&(s[a+1]=s[a+1].toUpperCase());return`0x${s.join("")}`}function lo(e,t){if(!Ge(e))throw new pt({address:e});return rr(e)}function ln(e,t){if(t==="0x"&&e.length>0)throw new sn;if(ae(t)&&ae(t)<32)throw new Jn({data:t,params:e,size:ae(t)});return uo({data:t,params:e})}function uo({data:e,params:t}){const n=[];let r=0;for(let s=0;s<t.length;s++){if(r>=ae(e))throw new Jn({data:e,params:t,size:ae(e)});const a=t[s],{consumed:o,value:i}=Qe({data:e,param:a,position:r});n.push(i),r+=o}return n}function Qe({data:e,param:t,position:n}){const r=on(t.type);if(r){const[a,o]=r;return ho(e,{length:a,param:{...t,type:o},position:n})}if(t.type==="tuple")return yo(e,{param:t,position:n});if(t.type==="string")return bo(e,{position:n});if(t.type.startsWith("bytes"))return go(e,{param:t,position:n});const s=se(e,n,n+32,{strict:!0});if(t.type.startsWith("uint")||t.type.startsWith("int"))return po(s,{param:t});if(t.type==="address")return fo(s);if(t.type==="bool")return mo(s);throw new ia(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}function fo(e){return{consumed:32,value:rr(se(e,-20))}}function ho(e,{param:t,length:n,position:r}){if(!n){const o=le(se(e,r,r+32,{strict:!0})),i=le(se(e,o,o+32,{strict:!0}));let l=0;const d=[];for(let h=0;h<i;++h){const m=Qe({data:se(e,o+32),param:t,position:l});l+=m.consumed,d.push(m.value)}return{value:d,consumed:32}}if(Zt(t)){const o=on(t.type),i=!(o!=null&&o[0]);let l=0;const d=[];for(let h=0;h<n;++h){const m=le(se(e,r,r+32,{strict:!0})),y=Qe({data:se(e,m),param:t,position:i?l:h*32});l+=y.consumed,d.push(y.value)}return{value:d,consumed:32}}let s=0;const a=[];for(let o=0;o<n;++o){const i=Qe({data:e,param:t,position:r+s});s+=i.consumed,a.push(i.value)}return{value:a,consumed:s}}function mo(e){return{consumed:32,value:ga(e)}}function go(e,{param:t,position:n}){const[r,s]=t.type.split("bytes");if(!s){const o=le(se(e,n,n+32,{strict:!0})),i=le(se(e,o,o+32,{strict:!0}));return i===0?{consumed:32,value:"0x"}:{consumed:32,value:se(e,o+32,o+32+i,{strict:!0})}}return{consumed:32,value:se(e,n,n+parseInt(s),{strict:!0})}}function po(e,{param:t}){const n=t.type.startsWith("int");return{consumed:32,value:parseInt(t.type.split("int")[1]||"256")>48?an(e,{signed:n}):le(e,{signed:n})}}function bo(e,{position:t}){const n=le(se(e,t,t+32,{strict:!0})),r=le(se(e,n,n+32,{strict:!0}));return r===0?{consumed:32,value:""}:{consumed:32,value:pa(Ze(se(e,n+32,n+32+r,{strict:!0})))}}function yo(e,{param:t,position:n}){const r=t.components.length===0||t.components.some(({name:o})=>!o),s=r?[]:{};let a=0;if(Zt(t)){const o=le(se(e,n,n+32,{strict:!0}));for(let i=0;i<t.components.length;++i){const l=t.components[i],d=Qe({data:se(e,o),param:l,position:a});a+=d.consumed,s[r?i:l==null?void 0:l.name]=d.value}return{consumed:32,value:s}}for(let o=0;o<t.components.length;++o){const i=t.components[o],l=Qe({data:e,param:i,position:n+a});a+=l.consumed,s[r?o:i==null?void 0:i.name]=l.value}return{consumed:a,value:s}}function Zt(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(Zt);const n=on(e.type);return!!(n&&Zt({...e,type:n[1]}))}function wo({abi:e,data:t}){const n=se(t,0,4);if(n==="0x")throw new sn;const s=[...e||[],io,co].find(a=>a.type==="error"&&n===nr(Ie(a)));if(!s)throw new Dr(n,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:s,args:"inputs"in s&&s.inputs&&s.inputs.length>0?ln(s.inputs,se(t,4)):void 0,errorName:s.name}}const fe=(e,t,n)=>JSON.stringify(e,(r,s)=>{const a=typeof s=="bigint"?s.toString():s;return typeof t=="function"?t(r,a):a},n);function Qr({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,a)=>`${r&&s.name?`${s.name}: `:""}${typeof t[a]=="object"?fe(t[a]):t[a]}`).join(", ")})`}const vo={gwei:9,wei:18},es={ether:-9,wei:9};function ts(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[s,a]=[n.slice(0,n.length-t),n.slice(n.length-t)];return a=a.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${a?`.${a}`:""}`}function sr(e,t="wei"){return ts(e,vo[t])}function me(e,t="wei"){return ts(e,es[t])}function Dt(e){const t=Object.entries(e).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=t.reduce((r,[s])=>Math.max(r,s.length),0);return t.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class xo extends S{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeConflictError"})}}class To extends S{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Dt(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- a Legacy Transaction with `gasPrice`"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSerializableTransactionError"})}}class Eo extends S{constructor(t,{account:n,docsPath:r,chain:s,data:a,gas:o,gasPrice:i,maxFeePerGas:l,maxPriorityFeePerGas:d,nonce:h,to:m,value:y}){var p;const T=Dt({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:n==null?void 0:n.address,to:m,value:typeof y<"u"&&`${sr(y)} ${((p=s==null?void 0:s.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:a,gas:o,gasPrice:typeof i<"u"&&`${me(i)} gwei`,maxFeePerGas:typeof l<"u"&&`${me(l)} gwei`,maxPriorityFeePerGas:typeof d<"u"&&`${me(d)} gwei`,nonce:h});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",T].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionExecutionError"}),this.cause=t}}class ns extends S{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:s,index:a}){let o="Transaction";r&&a!==void 0&&(o=`Transaction at block time "${r}" at index "${a}"`),t&&a!==void 0&&(o=`Transaction at block hash "${t}" at index "${a}"`),n&&a!==void 0&&(o=`Transaction at block number "${n}" at index "${a}"`),s&&(o=`Transaction with hash "${s}"`),super(`${o} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionNotFoundError"})}}class rs extends S{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionReceiptNotFoundError"})}}class Po extends S{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WaitForTransactionReceiptTimeoutError"})}}class ss extends S{constructor(t,{account:n,docsPath:r,chain:s,data:a,gas:o,gasPrice:i,maxFeePerGas:l,maxPriorityFeePerGas:d,nonce:h,to:m,value:y}){var v;const T=n?Pe(n):void 0,p=Dt({from:T==null?void 0:T.address,to:m,value:typeof y<"u"&&`${sr(y)} ${((v=s==null?void 0:s.nativeCurrency)==null?void 0:v.symbol)||"ETH"}`,data:a,gas:o,gasPrice:typeof i<"u"&&`${me(i)} gwei`,maxFeePerGas:typeof l<"u"&&`${me(l)} gwei`,maxPriorityFeePerGas:typeof d<"u"&&`${me(d)} gwei`,nonce:h});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",p].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CallExecutionError"}),this.cause=t}}class No extends S{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:a,functionName:o,sender:i}){const l=Ft({abi:n,args:r,name:o}),d=l?Qr({abiItem:l,args:r,includeFunctionName:!1,includeName:!1}):void 0,h=l?Ie(l,{includeName:!0}):void 0,m=Dt({address:s&&Ys(s),function:h,args:d&&d!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${d}`,sender:i});super(t.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:t,docsPath:a,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Contract Call:",m].filter(Boolean)}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionExecutionError"}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=o,this.sender=i}}class jn extends S{constructor({abi:t,data:n,functionName:r,message:s}){let a,o,i,l;if(n&&n!=="0x")try{o=wo({abi:t,data:n});const{abiItem:h,errorName:m,args:y}=o;if(m==="Error")l=y[0];else if(m==="Panic"){const[T]=y;l=Zr[T]}else{const T=h?Ie(h,{includeName:!0}):void 0,p=h&&y?Qr({abiItem:h,args:y,includeFunctionName:!1,includeName:!1}):void 0;i=[T?`Error: ${T}`:"",p&&p!=="()"?`       ${[...Array((m==null?void 0:m.length)??0).keys()].map(()=>" ").join("")}${p}`:""]}}catch(h){a=h}else s&&(l=s);let d;a instanceof Dr&&(d=a.signature,i=[`Unable to decode signature "${d}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${d}.`]),super(l&&l!=="execution reverted"||d?[`The contract function "${r}" reverted with the following ${d?"signature":"reason"}:`,l||d].join(`
`):`The contract function "${r}" reverted.`,{cause:a,metaMessages:i}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.reason=l,this.signature=d}}class Co extends S{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionZeroDataError"})}}class ar extends S{constructor({data:t,message:n}){super(n||""),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RawContractError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}class mt extends S{constructor({body:t,details:n,headers:r,status:s,url:a}){super("HTTP request failed.",{details:n,metaMessages:[s&&`Status: ${s}`,`URL: ${rn(a)}`,t&&`Request body: ${fe(t)}`].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=r,this.status=s,this.url=a}}class So extends S{constructor({body:t,details:n,url:r}){super("WebSocket request failed.",{details:n,metaMessages:[`URL: ${rn(r)}`,`Request body: ${fe(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WebSocketRequestError"})}}class as extends S{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${rn(r)}`,`Request body: ${fe(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code}}class An extends S{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${rn(n)}`,`Request body: ${fe(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TimeoutError"})}}const jo=-1;class ge extends S{constructor(t,{code:n,docsPath:r,metaMessages:s,shortMessage:a}){super(a,{cause:t,docsPath:r,metaMessages:s||(t==null?void 0:t.metaMessages)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=t.name,this.code=t instanceof as?t.code:n??jo}}class st extends ge{constructor(t,n){super(t,n),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class bt extends ge{constructor(t){super(t,{code:bt.code,shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ParseRpcError"})}}Object.defineProperty(bt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class yt extends ge{constructor(t){super(t,{code:yt.code,shortMessage:"JSON is not a valid request object."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRequestRpcError"})}}Object.defineProperty(yt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class wt extends ge{constructor(t){super(t,{code:wt.code,shortMessage:"The method does not exist / is not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotFoundRpcError"})}}Object.defineProperty(wt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class vt extends ge{constructor(t){super(t,{code:vt.code,shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParamsRpcError"})}}Object.defineProperty(vt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class tt extends ge{constructor(t){super(t,{code:tt.code,shortMessage:"An internal error was received."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalRpcError"})}}Object.defineProperty(tt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Je extends ge{constructor(t){super(t,{code:Je.code,shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidInputRpcError"})}}Object.defineProperty(Je,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class xt extends ge{constructor(t){super(t,{code:xt.code,shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(xt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Tt extends ge{constructor(t){super(t,{code:Tt.code,shortMessage:"Requested resource not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceUnavailableRpcError"})}}Object.defineProperty(Tt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class Et extends ge{constructor(t){super(t,{code:Et.code,shortMessage:"Transaction creation failed."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionRejectedRpcError"})}}Object.defineProperty(Et,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Pt extends ge{constructor(t){super(t,{code:Pt.code,shortMessage:"Method is not implemented."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotSupportedRpcError"})}}Object.defineProperty(Pt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Nt extends ge{constructor(t){super(t,{code:Nt.code,shortMessage:"Request exceeds defined limit."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"LimitExceededRpcError"})}}Object.defineProperty(Nt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class Ct extends ge{constructor(t){super(t,{code:Ct.code,shortMessage:"Version of JSON-RPC protocol is not supported."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"JsonRpcVersionUnsupportedError"})}}Object.defineProperty(Ct,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class et extends st{constructor(t){super(t,{code:et.code,shortMessage:"User rejected the request."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UserRejectedRequestError"})}}Object.defineProperty(et,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class St extends st{constructor(t){super(t,{code:St.code,shortMessage:"The requested method and/or account has not been authorized by the user."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnauthorizedProviderError"})}}Object.defineProperty(St,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class jt extends st{constructor(t){super(t,{code:jt.code,shortMessage:"The Provider does not support the requested method."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedProviderMethodError"})}}Object.defineProperty(jt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class At extends st{constructor(t){super(t,{code:At.code,shortMessage:"The Provider is disconnected from all chains."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderDisconnectedError"})}}Object.defineProperty(At,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Rt extends st{constructor(t){super(t,{code:Rt.code,shortMessage:"The Provider is not connected to the requested chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDisconnectedError"})}}Object.defineProperty(Rt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class kt extends st{constructor(t){super(t,{code:kt.code,shortMessage:"An error occurred when attempting to switch chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainError"})}}Object.defineProperty(kt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Ao extends ge{constructor(t){super(t,{shortMessage:"An unknown RPC error occurred."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownRpcError"})}}const Ro=3;function $t(e,{abi:t,address:n,args:r,docsPath:s,functionName:a,sender:o}){const{code:i,data:l,message:d,shortMessage:h}=e instanceof ar?e:e instanceof S?e.walk(y=>"data"in y)||e.walk():{},m=e instanceof sn?new Co({functionName:a}):[Ro,tt.code].includes(i)&&(l||d||h)?new jn({abi:t,data:typeof l=="object"?l.data:l,functionName:a,message:h??d}):e;return new No(m,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:a,sender:o})}class at extends S{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the WalletClient."].join(`
`),{docsPath:t,docsSlug:"account"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountNotFoundError"})}}class ko extends S{constructor(t,{account:n,docsPath:r,chain:s,data:a,gas:o,gasPrice:i,maxFeePerGas:l,maxPriorityFeePerGas:d,nonce:h,to:m,value:y}){var p;const T=Dt({from:n==null?void 0:n.address,to:m,value:typeof y<"u"&&`${sr(y)} ${((p=s==null?void 0:s.nativeCurrency)==null?void 0:p.symbol)||"ETH"}`,data:a,gas:o,gasPrice:typeof i<"u"&&`${me(i)} gwei`,maxFeePerGas:typeof l<"u"&&`${me(l)} gwei`,maxPriorityFeePerGas:typeof d<"u"&&`${me(d)} gwei`,nonce:h});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",T].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EstimateGasExecutionError"}),this.cause=t}}class Xe extends S{constructor({cause:t,message:n}={}){var s;const r=(s=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ExecutionRevertedError"})}}Object.defineProperty(Xe,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(Xe,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class Qt extends S{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${me(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooHigh"})}}Object.defineProperty(Qt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class Rn extends S{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${me(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooLow"})}}Object.defineProperty(Rn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class kn extends S{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooHighError"})}}Object.defineProperty(kn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class $n extends S{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooLowError"})}}Object.defineProperty($n,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class On extends S{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceMaxValueError"})}}Object.defineProperty(On,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class In extends S{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InsufficientFundsError"})}}Object.defineProperty(In,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds/});class Mn extends S{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooHighError"})}}Object.defineProperty(Mn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class Fn extends S{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooLowError"})}}Object.defineProperty(Fn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class Bn extends S{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionTypeNotSupportedError"})}}Object.defineProperty(Bn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class en extends S{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${me(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${me(r)} gwei`:""}).`].join(`
`),{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TipAboveFeeCapError"})}}Object.defineProperty(en,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class un extends S{constructor({cause:t}){super(`An error occurred while executing: ${t==null?void 0:t.shortMessage}`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownNodeError"})}}function or(e,t){const n=(e.details||"").toLowerCase(),r=e.walk(s=>s.code===Xe.code);return r instanceof S?new Xe({cause:e,message:r.details}):Xe.nodeMessage.test(n)?new Xe({cause:e,message:e.details}):Qt.nodeMessage.test(n)?new Qt({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):Rn.nodeMessage.test(n)?new Rn({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):kn.nodeMessage.test(n)?new kn({cause:e,nonce:t==null?void 0:t.nonce}):$n.nodeMessage.test(n)?new $n({cause:e,nonce:t==null?void 0:t.nonce}):On.nodeMessage.test(n)?new On({cause:e,nonce:t==null?void 0:t.nonce}):In.nodeMessage.test(n)?new In({cause:e}):Mn.nodeMessage.test(n)?new Mn({cause:e,gas:t==null?void 0:t.gas}):Fn.nodeMessage.test(n)?new Fn({cause:e,gas:t==null?void 0:t.gas}):Bn.nodeMessage.test(n)?new Bn({cause:e}):en.nodeMessage.test(n)?new en({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):new un({cause:e})}function $o(e,{docsPath:t,...n}){const r=(()=>{const s=or(e,n);return s instanceof un?e:s})();return new ko(r,{docsPath:t,...n})}function ir(e,{format:t}){if(!t)return{};const n={};function r(a){const o=Object.keys(a);for(const i of o)i in e&&(n[i]=e[i]),a[i]&&typeof a[i]=="object"&&!Array.isArray(a[i])&&r(a[i])}const s=t(e||{});return r(s),n}const Oo={legacy:"0x0",eip2930:"0x1",eip1559:"0x2"};function dn(e){return{...e,gas:typeof e.gas<"u"?W(e.gas):void 0,gasPrice:typeof e.gasPrice<"u"?W(e.gasPrice):void 0,maxFeePerGas:typeof e.maxFeePerGas<"u"?W(e.maxFeePerGas):void 0,maxPriorityFeePerGas:typeof e.maxPriorityFeePerGas<"u"?W(e.maxPriorityFeePerGas):void 0,nonce:typeof e.nonce<"u"?W(e.nonce):void 0,type:typeof e.type<"u"?Oo[e.type]:void 0,value:typeof e.value<"u"?W(e.value):void 0}}function Lt(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:a}=e,o=t?Pe(t):void 0;if(o&&!Ge(o.address))throw new pt({address:o.address});if(a&&!Ge(a))throw new pt({address:a});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new xo;if(r&&r>2n**256n-1n)throw new Qt({maxFeePerGas:r});if(s&&r&&s>r)throw new en({maxFeePerGas:r,maxPriorityFeePerGas:s})}class Io extends S{constructor(){super("`baseFeeMultiplier` must be greater than 1."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseFeeScalarError"})}}class cr extends S{constructor(){super("Chain does not support EIP-1559 fees."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Eip1559FeesNotSupportedError"})}}class Mo extends S{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${me(t)} gwei).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MaxFeePerGasTooLowError"})}}class os extends S{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlockNotFoundError"})}}const is={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559"};function cs(e){const t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?le(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?le(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?is[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return t.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof t.v=="bigint"){if(t.v===0n||t.v===27n)return 0;if(t.v===1n||t.v===28n)return 1;if(t.v>=35n)return t.v%2n===0n?1:0}})(),t.type==="legacy"&&(delete t.accessList,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),t.type==="eip2930"&&(delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),t}function ls(e){var n;const t=(n=e.transactions)==null?void 0:n.map(r=>typeof r=="string"?r:cs(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,difficulty:e.difficulty?BigInt(e.difficulty):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}async function Ue(e,{blockHash:t,blockNumber:n,blockTag:r,includeTransactions:s}={}){var h,m,y;const a=r??"latest",o=s??!1,i=n!==void 0?W(n):void 0;let l=null;if(t?l=await e.request({method:"eth_getBlockByHash",params:[t,o]}):l=await e.request({method:"eth_getBlockByNumber",params:[i||a,o]}),!l)throw new os({blockHash:t,blockNumber:n});return(((y=(m=(h=e.chain)==null?void 0:h.formatters)==null?void 0:m.block)==null?void 0:y.format)||ls)(l)}async function lr(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function Fo(e,t){return us(e,t)}async function us(e,t){var a,o,i;const{block:n,chain:r=e.chain,request:s}=t||{};if(typeof((a=r==null?void 0:r.fees)==null?void 0:a.defaultPriorityFee)=="function"){const l=n||await U(e,Ue,"getBlock")({});return r.fees.defaultPriorityFee({block:l,client:e,request:s})}if(typeof((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee)<"u")return(i=r==null?void 0:r.fees)==null?void 0:i.defaultPriorityFee;try{const l=await e.request({method:"eth_maxPriorityFeePerGas"});return an(l)}catch{const[l,d]=await Promise.all([n?Promise.resolve(n):U(e,Ue,"getBlock")({}),U(e,lr,"getGasPrice")({})]);if(typeof l.baseFeePerGas!="bigint")throw new cr;const h=d-l.baseFeePerGas;return h<0n?0n:h}}async function Bo(e,t){return Dn(e,t)}async function Dn(e,t){var y,T;const{block:n,chain:r=e.chain,request:s,type:a="eip1559"}=t||{},o=await(async()=>{var p,v;return typeof((p=r==null?void 0:r.fees)==null?void 0:p.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):((v=r==null?void 0:r.fees)==null?void 0:v.baseFeeMultiplier)??1.2})();if(o<1)throw new Io;const l=10**(((y=o.toString().split(".")[1])==null?void 0:y.length)??0),d=p=>p*BigInt(Math.ceil(o*l))/BigInt(l),h=n||await U(e,Ue,"getBlock")({});if(typeof((T=r==null?void 0:r.fees)==null?void 0:T.estimateFeesPerGas)=="function")return r.fees.estimateFeesPerGas({block:n,client:e,multiply:d,request:s,type:a});if(a==="eip1559"){if(typeof h.baseFeePerGas!="bigint")throw new cr;const p=s!=null&&s.maxPriorityFeePerGas?s.maxPriorityFeePerGas:await us(e,{block:h,chain:r,request:s}),v=d(h.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??v+p,maxPriorityFeePerGas:p}}return{gasPrice:(s==null?void 0:s.gasPrice)??d(await U(e,lr,"getGasPrice")({}))}}async function ds(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,r?W(r):n]});return le(s)}function Do(e){if(e.type)return e.type;if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new To({transaction:e})}async function fn(e,t){const{account:n=e.account,chain:r,gas:s,nonce:a,type:o}=t;if(!n)throw new at;const i=Pe(n),l=await U(e,Ue,"getBlock")({blockTag:"latest"}),d={...t,from:i.address};if(typeof a>"u"&&(d.nonce=await U(e,ds,"getTransactionCount")({address:i.address,blockTag:"pending"})),typeof o>"u")try{d.type=Do(d)}catch{d.type=typeof l.baseFeePerGas=="bigint"?"eip1559":"legacy"}if(d.type==="eip1559"){const{maxFeePerGas:h,maxPriorityFeePerGas:m}=await Dn(e,{block:l,chain:r,request:d});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<m)throw new Mo({maxPriorityFeePerGas:m});d.maxPriorityFeePerGas=m,d.maxFeePerGas=h}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new cr;const{gasPrice:h}=await Dn(e,{block:l,chain:r,request:d,type:"legacy"});d.gasPrice=h}return typeof s>"u"&&(d.gas=await U(e,ur,"estimateGas")({...d,account:{address:i.address,type:"json-rpc"}})),Lt(d),d}async function ur(e,t){var s,a,o;const n=t.account??e.account;if(!n)throw new at({docsPath:"/docs/actions/public/estimateGas"});const r=Pe(n);try{const{accessList:i,blockNumber:l,blockTag:d,data:h,gas:m,gasPrice:y,maxFeePerGas:T,maxPriorityFeePerGas:p,nonce:v,to:P,value:E,...x}=r.type==="local"?await fn(e,t):t,N=(l?W(l):void 0)||d;Lt(t);const I=(o=(a=(s=e.chain)==null?void 0:s.formatters)==null?void 0:a.transactionRequest)==null?void 0:o.format,B=(I||dn)({...ir(x,{format:I}),from:r.address,accessList:i,data:h,gas:m,gasPrice:y,maxFeePerGas:T,maxPriorityFeePerGas:p,nonce:v,to:P,value:E}),$=await e.request({method:"eth_estimateGas",params:N?[B,N]:[B]});return BigInt($)}catch(i){throw $o(i,{...t,account:r,chain:e.chain})}}async function Lo(e,{abi:t,address:n,args:r,functionName:s,...a}){const o=_e({abi:t,args:r,functionName:s});try{return await U(e,ur,"estimateGas")({data:o,to:n,...a})}catch(i){const l=a.account?Pe(a.account):void 0;throw $t(i,{abi:t,address:n,args:r,docsPath:"/docs/contract/estimateContractGas",functionName:s,sender:l==null?void 0:l.address})}}const Rr="/docs/contract/decodeEventLog";function Gt({abi:e,data:t,strict:n,topics:r}){const s=n??!0,[a,...o]=r;if(!a)throw new ta({docsPath:Rr});const i=e.find(p=>p.type==="event"&&a===Zn(Ie(p)));if(!(i&&"name"in i)||i.type!=="event")throw new na(a,{docsPath:Rr});const{name:l,inputs:d}=i,h=d==null?void 0:d.some(p=>!("name"in p&&p.name));let m=h?[]:{};const y=d.filter(p=>"indexed"in p&&p.indexed);for(let p=0;p<y.length;p++){const v=y[p],P=o[p];if(!P)throw new nt({abiItem:i,param:v});m[v.name||p]=Go({param:v,value:P})}const T=d.filter(p=>!("indexed"in p&&p.indexed));if(T.length>0){if(t&&t!=="0x")try{const p=ln(T,t);if(p)if(h)m=[...m,...p];else for(let v=0;v<T.length;v++)m[T[v].name]=p[v]}catch(p){if(s)throw p instanceof Jn?new Ke({abiItem:i,data:p.data,params:p.params,size:p.size}):p}else if(s)throw new Ke({abiItem:i,data:"0x",params:T,size:0})}return{eventName:l,args:Object.values(m).length>0?m:void 0}}function Go({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(ln([e],t)||[])[0]}function Ce(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function dr(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:a,events:o,args:i,strict:l}={}){const d=l??!1,h=o??(a?[a]:void 0);let m=[];h&&(m=[h.flatMap(T=>Bt({abi:[T],eventName:T.name,args:i}))],a&&(m=m[0]));let y;return n?y=await e.request({method:"eth_getLogs",params:[{address:t,topics:m,blockHash:n}]}):y=await e.request({method:"eth_getLogs",params:[{address:t,topics:m,fromBlock:typeof r=="bigint"?W(r):r,toBlock:typeof s=="bigint"?W(s):s}]}),y.map(T=>{var p;try{const{eventName:v,args:P}=h?Gt({abi:h,data:T.data,topics:T.topics,strict:d}):{eventName:void 0,args:void 0};return Ce(T,{args:P,eventName:v})}catch(v){let P,E;if(v instanceof Ke||v instanceof nt){if(d)return;P=v.abiItem.name,E=(p=v.abiItem.inputs)==null?void 0:p.some(x=>!("name"in x&&x.name))}return Ce(T,{args:E?[]:{},eventName:P})}}).filter(Boolean)}async function fs(e,{abi:t,address:n,args:r,blockHash:s,eventName:a,fromBlock:o,toBlock:i,strict:l}){const d=a?Ft({abi:t,name:a}):void 0,h=d?void 0:t.filter(m=>m.type==="event");return U(e,dr,"getLogs")({address:n,args:r,blockHash:s,event:d,events:h,fromBlock:o,toBlock:i,strict:l})}const vn="/docs/contract/decodeFunctionResult";function ot({abi:e,args:t,functionName:n,data:r}){let s=e[0];if(n&&(s=Ft({abi:e,args:t,name:n}),!s))throw new Xt(n,{docsPath:vn});if(s.type!=="function")throw new Xt(void 0,{docsPath:vn});if(!s.outputs)throw new ra(s.name,{docsPath:vn});const a=ln(s.outputs,r);if(a&&a.length>1)return a;if(a&&a.length===1)return a[0]}const Ln=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],hs=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"}],ms=[...hs,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],Uo=[...hs,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],kr=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],$r=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],zo=[{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"}],Ho="0x82ad56cb";class Gn extends S{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDoesNotSupportContract"})}}class _o extends S{constructor({chain:t,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${t.id} – ${t.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t.id} – ${t.name}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainMismatchError"})}}class Wo extends S{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotFoundError"})}}class gs extends S{constructor(){super("No chain was provided to the Client."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ClientChainNotConfiguredError"})}}function it({blockNumber:e,chain:t,contract:n}){var s;const r=(s=t==null?void 0:t.contracts)==null?void 0:s[n];if(!r)throw new Gn({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new Gn({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function qo(e,{docsPath:t,...n}){const r=(()=>{const s=or(e,n);return s instanceof un?e:s})();return new ss(r,{docsPath:t,...n})}const xn=new Map;function ps({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const a=async()=>{const h=l();o();const m=h.map(({args:y})=>y);m.length!==0&&e(m).then(y=>{var T;s&&Array.isArray(y)&&y.sort(s);for(let p=0;p<h.length;p++){const{pendingPromise:v}=h[p];(T=v.resolve)==null||T.call(v,[y[p],y])}}).catch(y=>{var T;for(let p=0;p<h.length;p++){const{pendingPromise:v}=h[p];(T=v.reject)==null||T.call(v,y)}})},o=()=>xn.delete(t),i=()=>l().map(({args:h})=>h),l=()=>xn.get(t)||[],d=h=>xn.set(t,[...l(),h]);return{flush:o,async schedule(h){const m={},y=new Promise((v,P)=>{m.resolve=v,m.reject=P});return(n==null?void 0:n([...i(),h]))&&a(),l().length>0?(d({args:h,pendingPromise:m}),y):(d({args:h,pendingPromise:m}),setTimeout(a,r),y)}}}async function hn(e,t){var E,x,j,N;const{account:n=e.account,batch:r=!!((E=e.batch)!=null&&E.multicall),blockNumber:s,blockTag:a="latest",accessList:o,data:i,gas:l,gasPrice:d,maxFeePerGas:h,maxPriorityFeePerGas:m,nonce:y,to:T,value:p,...v}=t,P=n?Pe(n):void 0;try{Lt(t);const A=(s?W(s):void 0)||a,B=(N=(j=(x=e.chain)==null?void 0:x.formatters)==null?void 0:j.transactionRequest)==null?void 0:N.format,k=(B||dn)({...ir(v,{format:B}),from:P==null?void 0:P.address,accessList:o,data:i,gas:l,gasPrice:d,maxFeePerGas:h,maxPriorityFeePerGas:m,nonce:y,to:T,value:p});if(r&&Ko({request:k}))try{return await Jo(e,{...k,blockNumber:s,blockTag:a})}catch(Z){if(!(Z instanceof gs)&&!(Z instanceof Gn))throw Z}const G=await e.request({method:"eth_call",params:A?[k,A]:[k]});return G==="0x"?{data:void 0}:{data:G}}catch(I){const A=Yo(I),{offchainLookup:B,offchainLookupSignature:$}=await Gs(async()=>{const{offchainLookup:k,offchainLookupSignature:G}=await import("./ccip-DLwmcr-6.js");return{offchainLookup:k,offchainLookupSignature:G}},__vite__mapDeps([0,1,2]));if((A==null?void 0:A.slice(0,10))===$&&T)return{data:await B(e,{data:A,to:T})};throw qo(I,{...t,account:P,chain:e.chain})}}function Ko({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(Ho)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function Jo(e,t){var v;const{batchSize:n=1024,wait:r=0}=typeof((v=e.batch)==null?void 0:v.multicall)=="object"?e.batch.multicall:{},{blockNumber:s,blockTag:a="latest",data:o,multicallAddress:i,to:l}=t;let d=i;if(!d){if(!e.chain)throw new gs;d=it({blockNumber:s,chain:e.chain,contract:"multicall3"})}const m=(s?W(s):void 0)||a,{schedule:y}=ps({id:`${e.uid}.${m}`,wait:r,shouldSplitBatch(P){return P.reduce((x,{data:j})=>x+(j.length-2),0)>n*2},fn:async P=>{const E=P.map(N=>({allowFailure:!0,callData:N.data,target:N.to})),x=_e({abi:Ln,args:[E],functionName:"aggregate3"}),j=await e.request({method:"eth_call",params:[{data:x,to:d},m]});return ot({abi:Ln,args:[E],functionName:"aggregate3",data:j||"0x"})}}),[{returnData:T,success:p}]=await y({data:o,to:l});if(!p)throw new ar({data:T});return T==="0x"?{data:void 0}:{data:T}}function Yo(e){if(!(e instanceof S))return;const t=e.walk();return typeof t.data=="object"?t.data.data:t.data}async function ze(e,{abi:t,address:n,args:r,functionName:s,...a}){const o=_e({abi:t,args:r,functionName:s});try{const{data:i}=await U(e,hn,"call")({data:o,to:n,...a});return ot({abi:t,args:r,functionName:s,data:i||"0x"})}catch(i){throw $t(i,{abi:t,address:n,args:r,docsPath:"/docs/contract/readContract",functionName:s})}}async function Vo(e,{abi:t,address:n,args:r,dataSuffix:s,functionName:a,...o}){const i=o.account?Pe(o.account):void 0,l=_e({abi:t,args:r,functionName:a});try{const{data:d}=await U(e,hn,"call")({batch:!1,data:`${l}${s?s.replace("0x",""):""}`,to:n,...o});return{result:ot({abi:t,args:r,functionName:a,data:d||"0x"}),request:{abi:t,address:n,args:r,dataSuffix:s,functionName:a,...o}}}catch(d){throw $t(d,{abi:t,address:n,args:r,docsPath:"/docs/contract/simulateContract",functionName:a,sender:i==null?void 0:i.address})}}const Tn=new Map,Or=new Map;let Xo=0;function ct(e,t,n){const r=++Xo,s=()=>Tn.get(e)||[],a=()=>{const h=s();Tn.set(e,h.filter(m=>m.id!==r))},o=()=>{const h=Or.get(e);s().length===1&&h&&h(),a()},i=s();if(Tn.set(e,[...i,{id:r,fns:t}]),i&&i.length>0)return o;const l={};for(const h in t)l[h]=(...m)=>{var T,p;const y=s();if(y.length!==0)for(const v of y)(p=(T=v.fns)[h])==null||p.call(T,...m)};const d=n(l);return typeof d=="function"&&Or.set(e,d),o}async function Un(e){return new Promise(t=>setTimeout(t,e))}function Ut(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const a=()=>s=!1;return(async()=>{let i;t&&(i=await e({unpoll:a}));const l=await(n==null?void 0:n(i))??r;await Un(l);const d=async()=>{s&&(await e({unpoll:a}),await Un(r),d())};d()})(),a}const Zo=new Map,Qo=new Map;function ei(e){const t=(s,a)=>({clear:()=>a.delete(s),get:()=>a.get(s),set:o=>a.set(s,o)}),n=t(e,Zo),r=t(e,Qo);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function ti(e,{cacheKey:t,cacheTime:n=1/0}){const r=ei(t),s=r.response.get();if(s&&n>0&&new Date().getTime()-s.created.getTime()<n)return s.data;let a=r.promise.get();a||(a=e(),r.promise.set(a));try{const o=await a;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const ni=e=>`blockNumber.${e}`;async function zt(e,{cacheTime:t=e.cacheTime,maxAge:n}={}){const r=await ti(()=>e.request({method:"eth_blockNumber"}),{cacheKey:ni(e.uid),cacheTime:n??t});return BigInt(r)}async function mn(e,{filter:t}){const n="strict"in t&&t.strict;return(await t.request({method:"eth_getFilterChanges",params:[t.id]})).map(s=>{var a;if(typeof s=="string")return s;try{const{eventName:o,args:i}="abi"in t&&t.abi?Gt({abi:t.abi,data:s.data,topics:s.topics,strict:n}):{eventName:void 0,args:void 0};return Ce(s,{args:i,eventName:o})}catch(o){let i,l;if(o instanceof Ke||o instanceof nt){if("strict"in t&&t.strict)return;i=o.abiItem.name,l=(a=o.abiItem.inputs)==null?void 0:a.some(d=>!("name"in d&&d.name))}return Ce(s,{args:l?[]:{},eventName:i})}}).filter(Boolean)}async function gn(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function ri(e,{abi:t,address:n,args:r,batch:s=!0,eventName:a,onError:o,onLogs:i,poll:l,pollingInterval:d=e.pollingInterval,strict:h}){return(typeof l<"u"?l:e.transport.type!=="webSocket")?(()=>{const p=fe(["watchContractEvent",n,r,s,e.uid,a,d]),v=h??!1;return ct(p,{onLogs:i,onError:o},P=>{let E,x,j=!1;const N=Ut(async()=>{var I;if(!j){try{x=await U(e,Xr,"createContractEventFilter")({abi:t,address:n,args:r,eventName:a,strict:v})}catch{}j=!0;return}try{let A;if(x)A=await U(e,mn,"getFilterChanges")({filter:x});else{const B=await U(e,zt,"getBlockNumber")({});E&&E!==B?A=await U(e,fs,"getContractEvents")({abi:t,address:n,args:r,eventName:a,fromBlock:E+1n,toBlock:B,strict:v}):A=[],E=B}if(A.length===0)return;if(s)P.onLogs(A);else for(const B of A)P.onLogs([B])}catch(A){x&&A instanceof Je&&(j=!1),(I=P.onError)==null||I.call(P,A)}},{emitOnBegin:!0,interval:d});return async()=>{x&&await U(e,gn,"uninstallFilter")({filter:x}),N()}})})():(()=>{let p=!0,v=()=>p=!1;return(async()=>{try{const P=a?Bt({abi:t,eventName:a,args:r}):[],{unsubscribe:E}=await e.transport.subscribe({params:["logs",{address:n,topics:P}],onData(x){var N;if(!p)return;const j=x.result;try{const{eventName:I,args:A}=Gt({abi:t,data:j.data,topics:j.topics,strict:h}),B=Ce(j,{args:A,eventName:I});i([B])}catch(I){let A,B;if(I instanceof Ke||I instanceof nt){if(h)return;A=I.abiItem.name,B=(N=I.abiItem.inputs)==null?void 0:N.some(k=>!("name"in k&&k.name))}const $=Ce(j,{args:B?[]:{},eventName:A});i([$])}},onError(x){o==null||o(x)}});v=E,p||v()}catch(P){o==null||o(P)}})(),v})()}function bs({chain:e,currentChainId:t}){if(!e)throw new Wo;if(t!==e.id)throw new _o({chain:e,currentChainId:t})}function si(e,{docsPath:t,...n}){const r=(()=>{const s=or(e,n);return s instanceof un?e:s})();return new Eo(r,{docsPath:t,...n})}async function Ot(e){const t=await e.request({method:"eth_chainId"});return le(t)}async function fr(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]})}async function hr(e,t){var v,P,E,x;const{account:n=e.account,chain:r=e.chain,accessList:s,data:a,gas:o,gasPrice:i,maxFeePerGas:l,maxPriorityFeePerGas:d,nonce:h,to:m,value:y,...T}=t;if(!n)throw new at({docsPath:"/docs/actions/wallet/sendTransaction"});const p=Pe(n);try{Lt(t);let j;if(r!==null&&(j=await U(e,Ot,"getChainId")({}),bs({currentChainId:j,chain:r})),p.type==="local"){const B=await U(e,fn,"prepareTransactionRequest")({account:p,accessList:s,chain:r,data:a,gas:o,gasPrice:i,maxFeePerGas:l,maxPriorityFeePerGas:d,nonce:h,to:m,value:y,...T});j||(j=await U(e,Ot,"getChainId")({}));const $=(v=r==null?void 0:r.serializers)==null?void 0:v.transaction,k=await p.signTransaction({...B,chainId:j},{serializer:$});return await U(e,fr,"sendRawTransaction")({serializedTransaction:k})}const N=(x=(E=(P=e.chain)==null?void 0:P.formatters)==null?void 0:E.transactionRequest)==null?void 0:x.format,A=(N||dn)({...ir(T,{format:N}),accessList:s,data:a,from:p.address,gas:o,gasPrice:i,maxFeePerGas:l,maxPriorityFeePerGas:d,nonce:h,to:m,value:y});return await e.request({method:"eth_sendTransaction",params:[A]})}catch(j){throw si(j,{...t,account:p,chain:t.chain||void 0})}}async function ai(e,{abi:t,address:n,args:r,dataSuffix:s,functionName:a,...o}){const i=_e({abi:t,args:r,functionName:a});return await U(e,hr,"sendTransaction")({data:`${i}${s?s.replace("0x",""):""}`,to:n,...o})}async function oi(e,{chain:t}){const{id:n,name:r,nativeCurrency:s,rpcUrls:a,blockExplorers:o}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:W(n),chainName:r,nativeCurrency:s,rpcUrls:a.default.http,blockExplorerUrls:o?Object.values(o).map(({url:i})=>i):void 0}]})}const zn=256;let Jt=zn,Yt;function ii(e=11){if(!Yt||Jt+e>zn*2){Yt="",Jt=0;for(let t=0;t<zn;t++)Yt+=(256+Math.random()*256|0).toString(16).substring(1)}return Yt.substring(Jt,Jt+++e)}function ys(e){const{batch:t,cacheTime:n=e.pollingInterval??4e3,key:r="base",name:s="Base Client",pollingInterval:a=4e3,type:o="base"}=e,i=e.chain,l=e.account?Pe(e.account):void 0,{config:d,request:h,value:m}=e.transport({chain:i,pollingInterval:a}),y={...d,...m},T={account:l,batch:t,cacheTime:n,chain:i,key:r,name:s,pollingInterval:a,request:h,transport:y,type:o,uid:ii()};function p(v){return P=>{const E=P(v);for(const j in T)delete E[j];const x={...v,...E};return Object.assign(x,{extend:p(x)})}}return Object.assign(T,{extend:p(T)})}function Hn(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,a)=>{const o=async({count:i=0}={})=>{const l=async({error:d})=>{const h=typeof t=="function"?t({count:i,error:d}):t;h&&await Un(h),o({count:i+1})};try{const d=await e();s(d)}catch(d){if(i<n&&await r({count:i,error:d}))return l({error:d});a(d)}};o()})}const ci=e=>"code"in e?e.code!==-1&&e.code!==-32004&&e.code!==-32005&&e.code!==-32042&&e.code!==-32603:e instanceof mt&&e.status?e.status!==403&&e.status!==408&&e.status!==413&&e.status!==429&&e.status!==500&&e.status!==502&&e.status!==503&&e.status!==504:!1;function li(e,{retryDelay:t=150,retryCount:n=3}={}){return async r=>Hn(async()=>{try{return await e(r)}catch(s){const a=s;switch(a.code){case bt.code:throw new bt(a);case yt.code:throw new yt(a);case wt.code:throw new wt(a);case vt.code:throw new vt(a);case tt.code:throw new tt(a);case Je.code:throw new Je(a);case xt.code:throw new xt(a);case Tt.code:throw new Tt(a);case Et.code:throw new Et(a);case Pt.code:throw new Pt(a);case Nt.code:throw new Nt(a);case Ct.code:throw new Ct(a);case et.code:throw new et(a);case St.code:throw new St(a);case jt.code:throw new jt(a);case At.code:throw new At(a);case Rt.code:throw new Rt(a);case kt.code:throw new kt(a);case 5e3:throw new et(a);default:throw s instanceof S?s:new Ao(a)}}},{delay:({count:s,error:a})=>{var o;if(a&&a instanceof mt){const i=(o=a==null?void 0:a.headers)==null?void 0:o.get("Retry-After");if(i!=null&&i.match(/\d/))return parseInt(i)*1e3}return~~(1<<s)*t},retryCount:n,shouldRetry:({error:s})=>!ci(s)})}function ws({key:e,name:t,request:n,retryCount:r=3,retryDelay:s=150,timeout:a,type:o},i){return{config:{key:e,name:t,request:n,retryCount:r,retryDelay:s,timeout:a,type:o},request:li(n,{retryCount:r,retryDelay:s}),value:i}}function ui(e,t={}){const{key:n="custom",name:r="Custom Provider",retryDelay:s}=t;return({retryCount:a})=>ws({key:n,name:r,request:e.request.bind(e),retryCount:t.retryCount??a,retryDelay:s,type:"custom"})}class di extends S{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro"})}}function vs(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,a)=>{(async()=>{let o;try{const i=new AbortController;n>0&&(o=setTimeout(()=>{r?i.abort():a(t)},n)),s(await e({signal:i==null?void 0:i.signal}))}catch(i){i.name==="AbortError"&&a(t),a(i)}finally{clearTimeout(o)}})()})}let _n=0;async function fi(e,{body:t,fetchOptions:n={},timeout:r=1e4}){var i;const{headers:s,method:a,signal:o}=n;try{const l=await vs(async({signal:h})=>await fetch(e,{...n,body:Array.isArray(t)?fe(t.map(y=>({jsonrpc:"2.0",id:y.id??_n++,...y}))):fe({jsonrpc:"2.0",id:t.id??_n++,...t}),headers:{...s,"Content-Type":"application/json"},method:a||"POST",signal:o||(r>0?h:void 0)}),{errorInstance:new An({body:t,url:e}),timeout:r,signal:!0});let d;if((i=l.headers.get("Content-Type"))!=null&&i.startsWith("application/json")?d=await l.json():d=await l.text(),!l.ok)throw new mt({body:t,details:fe(d.error)||l.statusText,headers:l.headers,status:l.status,url:e});return d}catch(l){throw l instanceof mt||l instanceof An?l:new mt({body:t,details:l.message,url:e})}}function hi(e,{body:t,onResponse:n}){if(e.readyState===e.CLOSED||e.readyState===e.CLOSING)throw new So({body:t,url:e.url,details:"Socket is closed."});const r=_n++,s=({data:a})=>{var i;const o=JSON.parse(a);typeof o.id=="number"&&r!==o.id||(n==null||n(o),t.method==="eth_subscribe"&&typeof o.result=="string"&&e.subscriptions.set(o.result,s),t.method==="eth_unsubscribe"&&e.subscriptions.delete((i=t.params)==null?void 0:i[0]))};return e.requests.set(r,s),e.send(JSON.stringify({jsonrpc:"2.0",...t,id:r})),e}async function mi(e,{body:t,timeout:n=1e4}){return vs(()=>new Promise(r=>Wn.webSocket(e,{body:t,onResponse:r})),{errorInstance:new An({body:t,url:e.url}),timeout:n})}const Wn={http:fi,webSocket:hi,webSocketAsync:mi};function Ir(e,t={}){const{batch:n,fetchOptions:r,key:s="http",name:a="HTTP JSON-RPC",retryDelay:o}=t;return({chain:i,retryCount:l,timeout:d})=>{const{batchSize:h=1e3,wait:m=0}=typeof n=="object"?n:{},y=t.retryCount??l,T=d??t.timeout??1e4,p=e||(i==null?void 0:i.rpcUrls.default.http[0]);if(!p)throw new di;return ws({key:s,name:a,async request({method:v,params:P}){const E={method:v,params:P},{schedule:x}=ps({id:`${e}`,wait:m,shouldSplitBatch(A){return A.length>h},fn:A=>Wn.http(p,{body:A,fetchOptions:r,timeout:T}),sort:(A,B)=>A.id-B.id}),j=async A=>n?x(A):[await Wn.http(p,{body:A,fetchOptions:r,timeout:T})],[{error:N,result:I}]=await j(E);if(N)throw new as({body:E,error:N,url:p});return I},retryCount:y,retryDelay:o,timeout:T,type:"http"},{fetchOptions:r,url:e})}}function mr(e,t){var r,s,a;if(!(e instanceof S))return!1;const n=e.walk(o=>o instanceof jn);return n instanceof jn?!!(((r=n.data)==null?void 0:r.errorName)==="ResolverNotFound"||((s=n.data)==null?void 0:s.errorName)==="ResolverWildcardNotSupported"||(a=n.reason)!=null&&a.includes("Wildcard on non-extended resolvers is not supported")||t==="reverse"&&n.reason===Zr[50]):!1}function xs(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return Ae(t)?t:null}function Vt(e){let t=new Uint8Array(32).fill(0);if(!e)return gt(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=xs(n[r]),a=s?Le(s):de(Oe(n[r]),"bytes");t=de(Me([t,a]),"bytes")}return gt(t)}function gi(e){return`[${e.slice(2)}]`}function pi(e){const t=new Uint8Array(32).fill(0);return e?xs(e)||de(Oe(e)):gt(t)}function pn(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(Oe(t).byteLength+2);let r=0;const s=t.split(".");for(let a=0;a<s.length;a++){let o=Oe(s[a]);o.byteLength>255&&(o=Oe(gi(pi(s[a])))),n[r]=o.length,n.set(o,r+1),r+=o.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function bi(e,{blockNumber:t,blockTag:n,coinType:r,name:s,universalResolverAddress:a}){let o=a;if(!o){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");o=it({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const i=_e({abi:$r,functionName:"addr",...r!=null?{args:[Vt(s),BigInt(r)]}:{args:[Vt(s)]}}),l=await U(e,ze,"readContract")({address:o,abi:ms,functionName:"resolve",args:[Fe(pn(s)),i],blockNumber:t,blockTag:n});if(l[0]==="0x")return null;const d=ot({abi:$r,args:r!=null?[Vt(s),BigInt(r)]:void 0,functionName:"addr",data:l[0]});return d==="0x"||Ze(d)==="0x00"?null:d}catch(i){if(mr(i,"resolve"))return null;throw i}}class yi extends S{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidMetadataError"})}}class ht extends S{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidNftUriError"})}}class gr extends S{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUriResolutionError"})}}class wi extends S{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUnsupportedNamespaceError"})}}const vi=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,xi=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,Ti=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,Ei=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function Pi(e){try{const t=await fetch(e,{method:"HEAD"});if(t.status===200){const n=t.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function Mr(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function Ts({uri:e,gatewayUrls:t}){const n=Ti.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=Mr(t==null?void 0:t.ipfs,"https://ipfs.io"),s=Mr(t==null?void 0:t.arweave,"https://arweave.net"),a=e.match(vi),{protocol:o,subpath:i,target:l,subtarget:d=""}=(a==null?void 0:a.groups)||{},h=o==="ipns:/"||i==="ipns/",m=o==="ipfs:/"||i==="ipfs/"||xi.test(e);if(e.startsWith("http")&&!h&&!m){let T=e;return t!=null&&t.arweave&&(T=e.replace(/https:\/\/arweave.net/g,t==null?void 0:t.arweave)),{uri:T,isOnChain:!1,isEncoded:!1}}if((h||m)&&l)return{uri:`${r}/${h?"ipns":"ipfs"}/${l}${d}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&l)return{uri:`${s}/${l}${d||""}`,isOnChain:!1,isEncoded:!1};let y=e.replace(Ei,"");if(y.startsWith("<svg")&&(y=`data:image/svg+xml;base64,${btoa(y)}`),y.startsWith("data:")||y.startsWith("{"))return{uri:y,isOnChain:!0,isEncoded:!1};throw new gr({uri:e})}function Es(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new yi({data:e});return e.image||e.image_url||e.image_data}async function Ni({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await pr({gatewayUrls:e,uri:Es(n)})}catch{throw new gr({uri:t})}}async function pr({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=Ts({uri:t,gatewayUrls:e});if(r||await Pi(n))return n;throw new gr({uri:t})}function Ci(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[a,o]=n.split(":"),[i,l]=r.split(":");if(!a||a.toLowerCase()!=="eip155")throw new ht({reason:"Only EIP-155 supported"});if(!o)throw new ht({reason:"Chain ID not found"});if(!l)throw new ht({reason:"Contract address not found"});if(!s)throw new ht({reason:"Token ID not found"});if(!i)throw new ht({reason:"ERC namespace not found"});return{chainID:parseInt(o),namespace:i.toLowerCase(),contractAddress:l,tokenID:s}}async function Si(e,{nft:t}){if(t.namespace==="erc721")return ze(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return ze(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new wi({namespace:t.namespace})}async function ji(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?Ai(e,{gatewayUrls:t,record:n}):pr({uri:n,gatewayUrls:t})}async function Ai(e,{gatewayUrls:t,record:n}){const r=Ci(n),s=await Si(e,{nft:r}),{uri:a,isOnChain:o,isEncoded:i}=Ts({uri:s,gatewayUrls:t});if(o&&(a.includes("data:application/json;base64,")||a.startsWith("{"))){const d=i?atob(a.replace("data:application/json;base64,","")):a,h=JSON.parse(d);return pr({uri:Es(h),gatewayUrls:t})}let l=r.tokenID;return r.namespace==="erc1155"&&(l=l.replace("0x","").padStart(64,"0")),Ni({gatewayUrls:t,uri:a.replace(/(?:0x)?{id}/,l)})}async function Ps(e,{blockNumber:t,blockTag:n,name:r,key:s,universalResolverAddress:a}){let o=a;if(!o){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");o=it({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const i=await U(e,ze,"readContract")({address:o,abi:ms,functionName:"resolve",args:[Fe(pn(r)),_e({abi:kr,functionName:"text",args:[Vt(r),s]})],blockNumber:t,blockTag:n});if(i[0]==="0x")return null;const l=ot({abi:kr,functionName:"text",data:i[0]});return l===""?null:l}catch(i){if(mr(i,"resolve"))return null;throw i}}async function Ri(e,{blockNumber:t,blockTag:n,gatewayUrls:r,name:s,universalResolverAddress:a}){const o=await U(e,Ps,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:a});if(!o)return null;try{return await ji(e,{record:o,gatewayUrls:r})}catch{return null}}async function ki(e,{address:t,blockNumber:n,blockTag:r,universalResolverAddress:s}){let a=s;if(!a){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=it({blockNumber:n,chain:e.chain,contract:"ensUniversalResolver"})}const o=`${t.toLowerCase().substring(2)}.addr.reverse`;try{const[i,l]=await U(e,ze,"readContract")({address:a,abi:Uo,functionName:"reverse",args:[Fe(pn(o))],blockNumber:n,blockTag:r});return t.toLowerCase()!==l.toLowerCase()?null:i}catch(i){if(mr(i,"reverse"))return null;throw i}}async function $i(e,{blockNumber:t,blockTag:n,name:r,universalResolverAddress:s}){let a=s;if(!a){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=it({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}const[o]=await U(e,ze,"readContract")({address:a,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[Fe(pn(r))],blockNumber:t,blockTag:n});return o}async function Oi(e){const t=cn(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function Ns(e,{address:t,args:n,event:r,events:s,fromBlock:a,strict:o,toBlock:i}={}){const l=s??(r?[r]:void 0),d=cn(e,{method:"eth_newFilter"});let h=[];l&&(h=[l.flatMap(y=>Bt({abi:[y],eventName:y.name,args:n}))],r&&(h=h[0]));const m=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof a=="bigint"?W(a):a,toBlock:typeof i=="bigint"?W(i):i,...h.length?{topics:h}:{}}]});return{abi:l,args:n,eventName:r?r.name:void 0,fromBlock:a,id:m,request:d(m),strict:o,toBlock:i,type:"event"}}async function Cs(e){const t=cn(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function Ii(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n?W(n):void 0,a=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(a)}async function Mi(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?W(n):void 0;let a;return t?a=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]}):a=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]}),le(a)}async function Fi(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?W(n):void 0,a=await e.request({method:"eth_getCode",params:[t,s||r]});if(a!=="0x")return a}function Bi(e){var t;return{baseFeePerGas:e.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:(t=e.reward)==null?void 0:t.map(n=>n.map(r=>BigInt(r)))}}async function Di(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const a=n?W(n):void 0,o=await e.request({method:"eth_feeHistory",params:[W(t),a||r,s]});return Bi(o)}async function Li(e,{filter:t}){const n=t.strict??!1;return(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(s=>{var a;try{const{eventName:o,args:i}="abi"in t&&t.abi?Gt({abi:t.abi,data:s.data,topics:s.topics,strict:n}):{eventName:void 0,args:void 0};return Ce(s,{args:i,eventName:o})}catch(o){let i,l;if(o instanceof Ke||o instanceof nt){if("strict"in t&&t.strict)return;i=o.abiItem.name,l=(a=o.abiItem.inputs)==null?void 0:a.some(d=>!("name"in d&&d.name))}return Ce(s,{args:l?[]:{},eventName:i})}}).filter(Boolean)}const Gi=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Ui=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function zi({domain:e,message:t,primaryType:n,types:r}){const s=typeof e>"u"?{}:e,a={EIP712Domain:$s({domain:s}),...r};ks({domain:s,message:t,primaryType:n,types:a});const o=["0x1901"];return s&&o.push(Hi({domain:s,types:a})),n!=="EIP712Domain"&&o.push(Ss({data:t,primaryType:n,types:a})),de(Me(o))}function Hi({domain:e,types:t}){return Ss({data:e,primaryType:"EIP712Domain",types:t})}function Ss({data:e,primaryType:t,types:n}){const r=js({data:e,primaryType:t,types:n});return de(r)}function js({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[_i({primaryType:t,types:n})];for(const a of n[t]){const[o,i]=Rs({types:n,name:a.name,type:a.type,value:e[a.name]});r.push(o),s.push(i)}return Mt(r,s)}function _i({primaryType:e,types:t}){const n=Fe(Wi({primaryType:e,types:t}));return de(n)}function Wi({primaryType:e,types:t}){let n="";const r=As({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const a of s)n+=`${a}(${t[a].map(({name:o,type:i})=>`${i} ${o}`).join(",")})`;return n}function As({primaryType:e,types:t},n=new Set){const r=e.match(/^\w*/u),s=r==null?void 0:r[0];if(n.has(s)||t[s]===void 0)return n;n.add(s);for(const a of t[s])As({primaryType:a.type,types:t},n);return n}function Rs({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},de(js({data:r,primaryType:n,types:e}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},de(r)];if(n==="string")return[{type:"bytes32"},de(Fe(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),a=r.map(o=>Rs({name:t,type:s,types:e,value:o}));return[{type:"bytes32"},de(Mt(a.map(([o])=>o),a.map(([,o])=>o)))]}return[{type:n},r]}function ks({domain:e,message:t,primaryType:n,types:r}){const s=r,a=(o,i)=>{for(const l of o){const{name:d,type:h}=l,m=h,y=i[d],T=m.match(Ui);if(T&&(typeof y=="number"||typeof y=="bigint")){const[P,E,x]=T;W(y,{signed:E==="int",size:parseInt(x)/8})}if(m==="address"&&typeof y=="string"&&!Ge(y))throw new pt({address:y});const p=m.match(Gi);if(p){const[P,E]=p;if(E&&ae(y)!==parseInt(E))throw new aa({expectedSize:parseInt(E),givenSize:ae(y)})}const v=s[m];v&&a(v,y)}};if(s.EIP712Domain&&e&&a(s.EIP712Domain,e),n!=="EIP712Domain"){const o=s[n];a(o,t)}}function $s({domain:e}){return[typeof(e==null?void 0:e.name)=="string"&&{name:"name",type:"string"},(e==null?void 0:e.version)&&{name:"version",type:"string"},typeof(e==null?void 0:e.chainId)=="number"&&{name:"chainId",type:"uint256"},(e==null?void 0:e.verifyingContract)&&{name:"verifyingContract",type:"address"},(e==null?void 0:e.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}const En="/docs/contract/encodeDeployData";function Os({abi:e,args:t,bytecode:n}){if(!t||t.length===0)return n;const r=e.find(a=>"type"in a&&a.type==="constructor");if(!r)throw new Xs({docsPath:En});if(!("inputs"in r))throw new xr({docsPath:En});if(!r.inputs||r.inputs.length===0)throw new xr({docsPath:En});const s=Mt(r.inputs,t);return Qn([n,s])}const qi={"0x0":"reverted","0x1":"success"};function Ki(e){return{...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(t=>Ce(t)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?le(e.transactionIndex):null,status:e.status?qi[e.status]:null,type:e.type?is[e.type]||e.type:null}}const Ji=`Ethereum Signed Message:
`;function Yi(e,t){const n=typeof e=="string"?Oe(e):e.raw instanceof Uint8Array?e.raw:Le(e.raw),r=Oe(`${Ji}${n.length}`);return de(Me([r,n]),t)}function Vi(e,t){let[n,r="0"]=e.split(".");const s=n.startsWith("-");if(s&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),t===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>t){const[a,o,i]=[r.slice(0,t-1),r.slice(t-1,t),r.slice(t)],l=Math.round(+`${o}.${i}`);l>9?r=`${BigInt(a)+BigInt(1)}0`.padStart(a.length+1,"0"):r=`${a}${l}`,r.length>t&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,t)}else r=r.padEnd(t,"0");return BigInt(`${s?"-":""}${n}${r}`)}function $e(e,t="wei"){return Vi(e,es[t])}function Xi(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function Zi(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?le(e.nonce):void 0,storageProof:e.storageProof?Xi(e.storageProof):void 0}}async function Qi(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const a=r??"latest",o=n!==void 0?W(n):void 0,i=await e.request({method:"eth_getProof",params:[t,s,o||a]});return Zi(i)}async function ec(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const a=n!==void 0?W(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,a||r]})}async function br(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:a}){var h,m,y;const o=r||"latest",i=n!==void 0?W(n):void 0;let l=null;if(s?l=await e.request({method:"eth_getTransactionByHash",params:[s]}):t?l=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,W(a)]}):l=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[i||o,W(a)]}),!l)throw new ns({blockHash:t,blockNumber:n,blockTag:o,hash:s,index:a});return(((y=(m=(h=e.chain)==null?void 0:h.formatters)==null?void 0:m.transaction)==null?void 0:y.format)||cs)(l)}async function tc(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([U(e,zt,"getBlockNumber")({}),t?U(e,br,"getBlockNumber")({hash:t}):void 0]),a=(n==null?void 0:n.blockNumber)||(s==null?void 0:s.blockNumber);return a?r-a+1n:0n}async function qn(e,{hash:t}){var s,a,o;const n=await e.request({method:"eth_getTransactionReceipt",params:[t]});if(!n)throw new rs({hash:t});return(((o=(a=(s=e.chain)==null?void 0:s.formatters)==null?void 0:a.transactionReceipt)==null?void 0:o.format)||Ki)(n)}async function nc(e,t){var v;const{allowFailure:n=!0,batchSize:r,blockNumber:s,blockTag:a,contracts:o,multicallAddress:i}=t,l=r??(typeof((v=e.batch)==null?void 0:v.multicall)=="object"&&e.batch.multicall.batchSize||1024);let d=i;if(!d){if(!e.chain)throw new Error("client chain not configured. multicallAddress is required.");d=it({blockNumber:s,chain:e.chain,contract:"multicall3"})}const h=[[]];let m=0,y=0;for(let P=0;P<o.length;P++){const{abi:E,address:x,args:j,functionName:N}=o[P];try{const I=_e({abi:E,args:j,functionName:N});y+=(I.length-2)/2,l>0&&y>l&&h[m].length>0&&(m++,y=(I.length-2)/2,h[m]=[]),h[m]=[...h[m],{allowFailure:!0,callData:I,target:x}]}catch(I){const A=$t(I,{abi:E,address:x,args:j,docsPath:"/docs/contract/multicall",functionName:N});if(!n)throw A;h[m]=[...h[m],{allowFailure:!0,callData:"0x",target:x}]}}const T=await Promise.allSettled(h.map(P=>U(e,ze,"readContract")({abi:Ln,address:d,args:[P],blockNumber:s,blockTag:a,functionName:"aggregate3"}))),p=[];for(let P=0;P<T.length;P++){const E=T[P];if(E.status==="rejected"){if(!n)throw E.reason;for(let j=0;j<h[P].length;j++)p.push({status:"failure",error:E.reason,result:void 0});continue}const x=E.value;for(let j=0;j<x.length;j++){const{returnData:N,success:I}=x[j],{callData:A}=h[P][j],{abi:B,address:$,functionName:k,args:G}=o[p.length];try{if(A==="0x")throw new sn;if(!I)throw new ar({data:N});const Z=ot({abi:B,args:G,data:N,functionName:k});p.push(n?{result:Z,status:"success"}:Z)}catch(Z){const Q=$t(Z,{abi:B,address:$,args:G,docsPath:"/docs/contract/multicall",functionName:k});if(!n)throw Q;p.push({error:Q,result:void 0,status:"failure"})}}}if(p.length!==o.length)throw new S("multicall results mismatch");return p}const rc="0x60806040523480156200001157600080fd5b50604051620007003803806200070083398101604081905262000034916200056f565b6000620000438484846200004f565b9050806000526001601ff35b600080846001600160a01b0316803b806020016040519081016040528181526000908060200190933c90507f6492649264926492649264926492649264926492649264926492649264926492620000a68462000451565b036200021f57600060608085806020019051810190620000c79190620005ce565b8651929550909350915060000362000192576000836001600160a01b031683604051620000f5919062000643565b6000604051808303816000865af19150503d806000811462000134576040519150601f19603f3d011682016040523d82523d6000602084013e62000139565b606091505b5050905080620001905760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b505b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90620001c4908b90869060040162000661565b602060405180830381865afa158015620001e2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200020891906200069d565b6001600160e01b031916149450505050506200044a565b805115620002b157604051630b135d3f60e11b808252906001600160a01b03871690631626ba7e9062000259908890889060040162000661565b602060405180830381865afa15801562000277573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200029d91906200069d565b6001600160e01b031916149150506200044a565b8251604114620003195760405162461bcd60e51b815260206004820152603a6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e677468000000000000606482015260840162000187565b620003236200046b565b506020830151604080850151855186939260009185919081106200034b576200034b620006c9565b016020015160f81c9050601b81148015906200036b57508060ff16601c14155b15620003cf5760405162461bcd60e51b815260206004820152603b6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c75650000000000606482015260840162000187565b6040805160008152602081018083528a905260ff83169181019190915260608101849052608081018390526001600160a01b038a169060019060a0016020604051602081039080840390855afa1580156200042e573d6000803e3d6000fd5b505050602060405103516001600160a01b031614955050505050505b9392505050565b60006020825110156200046357600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b03811681146200049f57600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b83811015620004d5578181015183820152602001620004bb565b50506000910152565b600082601f830112620004f057600080fd5b81516001600160401b03808211156200050d576200050d620004a2565b604051601f8301601f19908116603f01168101908282118183101715620005385762000538620004a2565b816040528381528660208588010111156200055257600080fd5b62000565846020830160208901620004b8565b9695505050505050565b6000806000606084860312156200058557600080fd5b8351620005928162000489565b6020850151604086015191945092506001600160401b03811115620005b657600080fd5b620005c486828701620004de565b9150509250925092565b600080600060608486031215620005e457600080fd5b8351620005f18162000489565b60208501519093506001600160401b03808211156200060f57600080fd5b6200061d87838801620004de565b935060408601519150808211156200063457600080fd5b50620005c486828701620004de565b6000825162000657818460208701620004b8565b9190910192915050565b828152604060208201526000825180604084015262000688816060850160208701620004b8565b601f01601f1916919091016060019392505050565b600060208284031215620006b057600080fd5b81516001600160e01b0319811681146200044a57600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */BigInt(0);BigInt(1);BigInt(2);function sc(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function ac(e,t){const n=Ae(e)?Le(e):e,r=Ae(t)?Le(t):t;return sc(n,r)}async function Is(e,{address:t,hash:n,signature:r,...s}){const a=Ae(r)?r:Fe(r);try{const{data:o}=await U(e,hn,"call")({data:Os({abi:zo,args:[t,n,a],bytecode:rc}),...s});return ac(o??"0x0","0x1")}catch(o){if(o instanceof ss)return!1;throw o}}async function oc(e,{address:t,message:n,signature:r,...s}){const a=Yi(n);return Is(e,{address:t,hash:a,signature:r,...s})}async function ic(e,{address:t,signature:n,message:r,primaryType:s,types:a,domain:o,...i}){const l=zi({message:r,primaryType:s,types:a,domain:o});return Is(e,{address:t,hash:l,signature:n,...i})}function Ms(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:a,pollingInterval:o=e.pollingInterval}){const i=typeof a<"u"?a:e.transport.type!=="webSocket";let l;return i?(()=>{const m=fe(["watchBlockNumber",e.uid,t,n,o]);return ct(m,{onBlockNumber:r,onError:s},y=>Ut(async()=>{var T;try{const p=await U(e,zt,"getBlockNumber")({cacheTime:0});if(l){if(p===l)return;if(p-l>1&&n)for(let v=l+1n;v<p;v++)y.onBlockNumber(v,l),l=v}(!l||p>l)&&(y.onBlockNumber(p,l),l=p)}catch(p){(T=y.onError)==null||T.call(y,p)}},{emitOnBegin:t,interval:o}))})():(()=>{let m=!0,y=()=>m=!1;return(async()=>{try{const{unsubscribe:T}=await e.transport.subscribe({params:["newHeads"],onData(p){var P;if(!m)return;const v=an((P=p.result)==null?void 0:P.number);r(v,l),l=v},onError(p){s==null||s(p)}});y=T,m||y()}catch(T){s==null||s(T)}})(),y})()}async function cc(e,{confirmations:t=1,hash:n,onReplaced:r,pollingInterval:s=e.pollingInterval,timeout:a}){const o=fe(["waitForTransactionReceipt",e.uid,n]);let i,l,d,h=!1;return new Promise((m,y)=>{a&&setTimeout(()=>y(new Po({hash:n})),a);const T=ct(o,{onReplaced:r,resolve:m,reject:y},p=>{const v=U(e,Ms,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:s,async onBlockNumber(P){if(h)return;let E=P;const x=j=>{v(),j(),T()};try{if(d){if(t>1&&(!d.blockNumber||E-d.blockNumber+1n<t))return;x(()=>p.resolve(d));return}if(i||(h=!0,await Hn(async()=>{i=await U(e,br,"getTransaction")({hash:n}),i.blockNumber&&(E=i.blockNumber)},{delay:({count:j})=>~~(1<<j)*200,retryCount:6}),h=!1),d=await U(e,qn,"getTransactionReceipt")({hash:n}),t>1&&(!d.blockNumber||E-d.blockNumber+1n<t))return;x(()=>p.resolve(d))}catch(j){if(i&&(j instanceof ns||j instanceof rs))try{l=i,h=!0;const N=await Hn(()=>U(e,Ue,"getBlock")({blockNumber:E,includeTransactions:!0}),{delay:({count:B})=>~~(1<<B)*200,retryCount:6,shouldRetry:({error:B})=>B instanceof os});h=!1;const I=N.transactions.find(({from:B,nonce:$})=>B===l.from&&$===l.nonce);if(!I||(d=await U(e,qn,"getTransactionReceipt")({hash:I.hash}),t>1&&(!d.blockNumber||E-d.blockNumber+1n<t)))return;let A="replaced";I.to===l.to&&I.value===l.value?A="repriced":I.from===I.to&&I.value===0n&&(A="cancelled"),x(()=>{var B;(B=p.onReplaced)==null||B.call(p,{reason:A,replacedTransaction:l,transaction:I,transactionReceipt:d}),p.resolve(d)})}catch(N){x(()=>p.reject(N))}else x(()=>p.reject(j))}}})})})}function lc(e,{blockTag:t="latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:a,includeTransactions:o,poll:i,pollingInterval:l=e.pollingInterval}){const d=typeof i<"u"?i:e.transport.type!=="webSocket",h=o??!1;let m;return d?(()=>{const p=fe(["watchBlocks",e.uid,n,r,h,l]);return ct(p,{onBlock:s,onError:a},v=>Ut(async()=>{var P;try{const E=await U(e,Ue,"getBlock")({blockTag:t,includeTransactions:h});if(E.number&&(m!=null&&m.number)){if(E.number===m.number)return;if(E.number-m.number>1&&n)for(let x=(m==null?void 0:m.number)+1n;x<E.number;x++){const j=await U(e,Ue,"getBlock")({blockNumber:x,includeTransactions:h});v.onBlock(j,m),m=j}}(!(m!=null&&m.number)||t==="pending"&&!(E!=null&&E.number)||E.number&&E.number>m.number)&&(v.onBlock(E,m),m=E)}catch(E){(P=v.onError)==null||P.call(v,E)}},{emitOnBegin:r,interval:l}))})():(()=>{let p=!0,v=()=>p=!1;return(async()=>{try{const{unsubscribe:P}=await e.transport.subscribe({params:["newHeads"],onData(E){var N,I,A;if(!p)return;const j=(((A=(I=(N=e.chain)==null?void 0:N.formatters)==null?void 0:I.block)==null?void 0:A.format)||ls)(E.result);s(j,m),m=j},onError(E){a==null||a(E)}});v=P,p||v()}catch(P){a==null||a(P)}})(),v})()}function uc(e,{address:t,args:n,batch:r=!0,event:s,events:a,onError:o,onLogs:i,poll:l,pollingInterval:d=e.pollingInterval,strict:h}){const m=typeof l<"u"?l:e.transport.type!=="webSocket",y=h??!1;return m?(()=>{const v=fe(["watchEvent",t,n,r,e.uid,s,d]);return ct(v,{onLogs:i,onError:o},P=>{let E,x,j=!1;const N=Ut(async()=>{var I;if(!j){try{x=await U(e,Ns,"createEventFilter")({address:t,args:n,event:s,events:a,strict:y})}catch{}j=!0;return}try{let A;if(x)A=await U(e,mn,"getFilterChanges")({filter:x});else{const B=await U(e,zt,"getBlockNumber")({});E&&E!==B?A=await U(e,dr,"getLogs")({address:t,args:n,event:s,events:a,fromBlock:E+1n,toBlock:B}):A=[],E=B}if(A.length===0)return;if(r)P.onLogs(A);else for(const B of A)P.onLogs([B])}catch(A){x&&A instanceof Je&&(j=!1),(I=P.onError)==null||I.call(P,A)}},{emitOnBegin:!0,interval:d});return async()=>{x&&await U(e,gn,"uninstallFilter")({filter:x}),N()}})})():(()=>{let v=!0,P=()=>v=!1;return(async()=>{try{const E=a??(s?[s]:void 0);let x=[];E&&(x=[E.flatMap(N=>Bt({abi:[N],eventName:N.name,args:n}))],s&&(x=x[0]));const{unsubscribe:j}=await e.transport.subscribe({params:["logs",{address:t,topics:x}],onData(N){var A;if(!v)return;const I=N.result;try{const{eventName:B,args:$}=Gt({abi:E,data:I.data,topics:I.topics,strict:y}),k=Ce(I,{args:$,eventName:B});i([k])}catch(B){let $,k;if(B instanceof Ke||B instanceof nt){if(h)return;$=B.abiItem.name,k=(A=B.abiItem.inputs)==null?void 0:A.some(Z=>!("name"in Z&&Z.name))}const G=Ce(I,{args:k?[]:{},eventName:$});i([G])}},onError(N){o==null||o(N)}});P=j,v||P()}catch(E){o==null||o(E)}})(),P})()}function dc(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:a=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket")?(()=>{const d=fe(["watchPendingTransactions",e.uid,t,a]);return ct(d,{onTransactions:r,onError:n},h=>{let m;const y=Ut(async()=>{var T;try{if(!m)try{m=await U(e,Cs,"createPendingTransactionFilter")({});return}catch(v){throw y(),v}const p=await U(e,mn,"getFilterChanges")({filter:m});if(p.length===0)return;if(t)h.onTransactions(p);else for(const v of p)h.onTransactions([v])}catch(p){(T=h.onError)==null||T.call(h,p)}},{emitOnBegin:!0,interval:a});return async()=>{m&&await U(e,gn,"uninstallFilter")({filter:m}),y()}})})():(()=>{let d=!0,h=()=>d=!1;return(async()=>{try{const{unsubscribe:m}=await e.transport.subscribe({params:["newPendingTransactions"],onData(y){if(!d)return;const T=y.result;r([T])},onError(y){n==null||n(y)}});h=m,d||h()}catch(m){n==null||n(m)}})(),h})()}function fc(e){return{call:t=>hn(e,t),createBlockFilter:()=>Oi(e),createContractEventFilter:t=>Xr(e,t),createEventFilter:t=>Ns(e,t),createPendingTransactionFilter:()=>Cs(e),estimateContractGas:t=>Lo(e,t),estimateGas:t=>ur(e,t),getBalance:t=>Ii(e,t),getBlock:t=>Ue(e,t),getBlockNumber:t=>zt(e,t),getBlockTransactionCount:t=>Mi(e,t),getBytecode:t=>Fi(e,t),getChainId:()=>Ot(e),getContractEvents:t=>fs(e,t),getEnsAddress:t=>bi(e,t),getEnsAvatar:t=>Ri(e,t),getEnsName:t=>ki(e,t),getEnsResolver:t=>$i(e,t),getEnsText:t=>Ps(e,t),getFeeHistory:t=>Di(e,t),estimateFeesPerGas:t=>Bo(e,t),getFilterChanges:t=>mn(e,t),getFilterLogs:t=>Li(e,t),getGasPrice:()=>lr(e),getLogs:t=>dr(e,t),getProof:t=>Qi(e,t),estimateMaxPriorityFeePerGas:t=>Fo(e,t),getStorageAt:t=>ec(e,t),getTransaction:t=>br(e,t),getTransactionConfirmations:t=>tc(e,t),getTransactionCount:t=>ds(e,t),getTransactionReceipt:t=>qn(e,t),multicall:t=>nc(e,t),prepareTransactionRequest:t=>fn(e,t),readContract:t=>ze(e,t),sendRawTransaction:t=>fr(e,t),simulateContract:t=>Vo(e,t),verifyMessage:t=>oc(e,t),verifyTypedData:t=>ic(e,t),uninstallFilter:t=>gn(e,t),waitForTransactionReceipt:t=>cc(e,t),watchBlocks:t=>lc(e,t),watchBlockNumber:t=>Ms(e,t),watchContractEvent:t=>ri(e,t),watchEvent:t=>uc(e,t),watchPendingTransactions:t=>dc(e,t)}}function hc(e){const{key:t="public",name:n="Public Client"}=e;return ys({...e,key:t,name:n,type:"publicClient"}).extend(fc)}function mc(e,{abi:t,args:n,bytecode:r,...s}){const a=Os({abi:t,args:n,bytecode:r});return hr(e,{...s,data:a})}async function gc(e){var n;return((n=e.account)==null?void 0:n.type)==="local"?[e.account.address]:(await e.request({method:"eth_accounts"})).map(r=>rr(r))}async function pc(e){return await e.request({method:"wallet_getPermissions"})}async function bc(e){return(await e.request({method:"eth_requestAccounts"})).map(n=>lo(n))}async function yc(e,t){return e.request({method:"wallet_requestPermissions",params:[t]})}async function wc(e,{account:t=e.account,message:n}){if(!t)throw new at({docsPath:"/docs/actions/wallet/signMessage"});const r=Pe(t);if(r.type==="local")return r.signMessage({message:n});const s=typeof n=="string"?Yn(n):n.raw instanceof Uint8Array?Fe(n.raw):n.raw;return e.request({method:"personal_sign",params:[s,r.address]})}async function vc(e,t){var d,h,m,y;const{account:n=e.account,chain:r=e.chain,...s}=t;if(!n)throw new at({docsPath:"/docs/actions/wallet/signTransaction"});const a=Pe(n);Lt({account:a,...t});const o=await U(e,Ot,"getChainId")({});r!==null&&bs({currentChainId:o,chain:r});const i=(r==null?void 0:r.formatters)||((d=e.chain)==null?void 0:d.formatters),l=((h=i==null?void 0:i.transactionRequest)==null?void 0:h.format)||dn;return a.type==="local"?a.signTransaction({...s,chainId:o},{serializer:(y=(m=e.chain)==null?void 0:m.serializers)==null?void 0:y.transaction}):await e.request({method:"eth_signTransaction",params:[{...l(s),chainId:W(o),from:a.address}]})}async function xc(e,{account:t=e.account,domain:n,message:r,primaryType:s,types:a}){if(!t)throw new at({docsPath:"/docs/actions/wallet/signTypedData"});const o=Pe(t),i={EIP712Domain:$s({domain:n}),...a};if(ks({domain:n,message:r,primaryType:s,types:i}),o.type==="local")return o.signTypedData({domain:n,primaryType:s,types:i,message:r});const l=fe({domain:n??{},primaryType:s,types:i,message:r},(d,h)=>Ae(h)?h.toLowerCase():h);return e.request({method:"eth_signTypedData_v4",params:[o.address,l]})}async function Tc(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:W(t)}]})}async function Ec(e,t){return await e.request({method:"wallet_watchAsset",params:t})}function Pc(e){return{addChain:t=>oi(e,t),deployContract:t=>mc(e,t),getAddresses:()=>gc(e),getChainId:()=>Ot(e),getPermissions:()=>pc(e),prepareTransactionRequest:t=>fn(e,t),requestAddresses:()=>bc(e),requestPermissions:t=>yc(e,t),sendRawTransaction:t=>fr(e,t),sendTransaction:t=>hr(e,t),signMessage:t=>wc(e,t),signTransaction:t=>vc(e,t),signTypedData:t=>xc(e,t),switchChain:t=>Tc(e,t),watchAsset:t=>Ec(e,t),writeContract:t=>ai(e,t)}}function Fr(e){const{key:t="wallet",name:n="Wallet Client",transport:r}=e;return ys({...e,key:t,name:n,transport:a=>r({...a,retryCount:0}),type:"walletClient"}).extend(Pc)}const je={6342:{name:"MegaETH Testnet",rpcUrl:"https://carrot.megaeth.com/rpc",fallbackRpcUrls:["https://carrot.megaeth.com/rpc"],wsUrl:"wss://carrot.megaeth.com/ws",contractAddress:"0xb34cac1135c27ec810e7e6880325085783c1a7e0",faucetAddress:"0x76b71a17d82232fd29aca475d14ed596c67c4b85",chainId:6342,sendMethod:"realtime_sendRawTransaction",connectionTimeouts:{initial:3e4,retry:15e3,request:45e3},maxConnections:3},31337:{name:"Foundry Local",rpcUrl:"http://127.0.0.1:8545",fallbackRpcUrls:["http://127.0.0.1:8545"],contractAddress:"0xb34cac1135c27ec810e7e6880325085783c1a7e0",faucetAddress:"0x76b71a17d82232fd29aca475d14ed596c67c4b85",chainId:31337,sendMethod:"eth_sendRawTransaction",connectionTimeouts:{initial:1e4,retry:5e3,request:15e3},maxConnections:2},50311:{name:"Somnia Testnet",rpcUrl:"https://testnet.somnia.network",fallbackRpcUrls:["https://testnet.somnia.network"],contractAddress:"0xb34cac1135c27ec810e7e6880325085783c1a7e0",faucetAddress:"0x76b71a17d82232fd29aca475d14ed596c67c4b85",chainId:50311,sendMethod:"eth_sendRawTransaction",connectionTimeouts:{initial:2e4,retry:1e4,request:3e4},maxConnections:2},1313161556:{name:"RISE Testnet",rpcUrl:"https://testnet-rpc.rise.com",fallbackRpcUrls:["https://testnet-rpc.rise.com"],contractAddress:"0xb34cac1135c27ec810e7e6880325085783c1a7e0",faucetAddress:"0x76b71a17d82232fd29aca475d14ed596c67c4b85",chainId:1313161556,sendMethod:"eth_sendRawTransactionSync",connectionTimeouts:{initial:2e4,retry:1e4,request:3e4},maxConnections:2}},Nc=[{inputs:[],name:"update",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"number",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],Pn=e=>{try{if(typeof e=="string"){const t=e.replace(/^cadesplugin_loaded/,"").replace(/^EnableInte.*?$/,"").trim();return t.length===0?null:JSON.parse(t)}return e}catch(t){return console.warn("Failed to parse JSON response:",t.message,"Data:",e),null}},Cc=()=>{const{authenticated:e}=It(),{wallets:t}=Kn(),[n,r]=L.useState(!1),[s,a]=L.useState(!1),[o,i]=L.useState("0"),[l,d]=L.useState(0),h=L.useRef({}),m=L.useRef({}),y="megaBuddies_globalCache",T={gasParams:5*60*1e3,chainParams:30*1e3,rpcHealth:2*60*1e3},p=()=>{try{const f={gasParams:{data:(g=>JSON.parse(JSON.stringify(g,(b,w)=>typeof w=="bigint"?w.toString()+"n":w)))(m.current),timestamp:Date.now()},chainParams:{data:$.current,timestamp:Date.now()},rpcHealth:{data:P.current,timestamp:Date.now()}};localStorage.setItem(y,JSON.stringify(f))}catch(c){console.warn("Failed to save global cache:",c)}},v=()=>{try{const c=localStorage.getItem(y);if(c){const f=JSON.parse(c),g=Date.now(),b=w=>{if(typeof w=="string"&&w.endsWith("n"))return BigInt(w.slice(0,-1));if(typeof w=="object"&&w!==null){const C=Array.isArray(w)?[]:{};for(const[M,H]of Object.entries(w))C[M]=b(H);return C}return w};f.gasParams&&g-f.gasParams.timestamp<T.gasParams&&(m.current=b(f.gasParams.data),console.log("🎯 Loaded cached gas parameters from storage")),f.chainParams&&g-f.chainParams.timestamp<T.chainParams&&($.current=f.chainParams.data,console.log("🎯 Loaded cached chain parameters from storage")),f.rpcHealth&&g-f.rpcHealth.timestamp<T.rpcHealth&&(P.current=f.rpcHealth.data,console.log("🎯 Loaded cached RPC health from storage"))}}catch(c){console.warn("Failed to load global cache:",c)}};L.useEffect(()=>{v();const c=setInterval(p,3e4),f=()=>p();window.addEventListener("beforeunload",f);const g=setInterval(()=>{Object.keys(ce.current).forEach(b=>{const w=ce.current[b];w&&w.state==="OPEN"&&Date.now()-w.lastFailureTime>w.timeout&&(w.state="HALF_OPEN",w.failures=0,console.log(`🔄 Auto-reset circuit breaker for chain ${b} - trying again`))})},1e4);return()=>{clearInterval(c),clearInterval(g),window.removeEventListener("beforeunload",f),p()}},[]),L.useRef({});const P=L.useRef({}),E=L.useRef({}),x=L.useRef({}),j=L.useRef({}),N=L.useRef({}),I=L.useRef({}),A=c=>(I.current[c]||(I.current[c]={recentTransactions:[],averageBlockchainTime:0,successRate:0,totalTransactions:0,successfulTransactions:0,lastUpdate:Date.now()}),I.current[c]),B=(c,f,g)=>{const b=A(c);b.recentTransactions.push({blockchainTime:f,success:g,timestamp:Date.now()}),b.recentTransactions.length>50&&b.recentTransactions.shift(),b.totalTransactions++,g&&b.successfulTransactions++;const w=b.recentTransactions.filter(C=>C.success);return w.length>0&&(b.averageBlockchainTime=w.reduce((C,M)=>C+M.blockchainTime,0)/w.length),b.successRate=b.successfulTransactions/b.totalTransactions*100,b.lastUpdate=Date.now(),b},$=L.useRef({}),k={6342:{poolSize:30,refillAt:.3,batchSize:12,maxRetries:3,retryDelay:200,burstMode:!0,maxBurstSize:5,burstCooldown:500},31337:{poolSize:20,refillAt:.4,batchSize:10,maxRetries:3,retryDelay:150,burstMode:!0,maxBurstSize:4,burstCooldown:300},50311:{poolSize:15,refillAt:.5,batchSize:8,maxRetries:3,retryDelay:300,burstMode:!0,maxBurstSize:3,burstCooldown:800},1313161556:{poolSize:12,refillAt:.6,batchSize:6,maxRetries:2,retryDelay:400,burstMode:!1,maxBurstSize:2,burstCooldown:1500},default:{poolSize:15,refillAt:.5,batchSize:8,maxRetries:3,retryDelay:300,burstMode:!1,maxBurstSize:2,burstCooldown:1e3}},G={reducedBatchSize:1,increasedDelay:1e3,degradedMode:!1},Z=L.useRef({6342:{...G}}),Q=L.useRef({}),he=c=>(Q.current[c]||(Q.current[c]={lastBurstTime:0,burstCount:0,inCooldown:!1,pendingTransactions:[],processingBurst:!1}),Q.current[c]),ue=c=>{const f=k[c]||k.default;if(!f.burstMode)return!1;const g=he(c),b=Date.now();return g.inCooldown&&b-g.lastBurstTime<f.burstCooldown?!1:(g.inCooldown&&b-g.lastBurstTime>=f.burstCooldown&&(g.inCooldown=!1,g.burstCount=0),g.burstCount<f.maxBurstSize)},re=(c,f)=>{const g=k[c]||k.default;if(!g.burstMode)return;const b=he(c),w=Date.now();f&&(b.burstCount++,b.lastBurstTime=w,b.burstCount>=g.maxBurstSize&&(b.inCooldown=!0,console.log(`Burst mode cooldown activated for chain ${c} (${g.burstCooldown}ms)`)))},Ht=async(c,f)=>{const g=he(c);return new Promise((b,w)=>{g.pendingTransactions.push({fn:f,resolve:b,reject:w,timestamp:Date.now()}),g.processingBurst||Re(c)})},Re=async c=>{const f=he(c);for(f.processingBurst=!0;f.pendingTransactions.length>0;){if(!ue(c)){const w=k[c]||k.default,C=Math.max(100,w.burstCooldown/10);await new Promise(M=>setTimeout(M,C));continue}const b=f.pendingTransactions.shift();if(!b)break;try{const w=await b.fn();re(c,!0),b.resolve(w)}catch(w){re(c,!1),b.reject(w)}}f.processingBurst=!1},We=c=>{const f=je[c];f&&(P.current[c]||(P.current[c]={endpoints:f.fallbackRpcUrls.map(g=>({url:g,healthy:!0,lastChecked:0,consecutiveFailures:0,responseTime:0})),currentEndpointIndex:0,lastHealthCheck:0}))},oe=async c=>{const f=P.current[c];if(!f)return We(c),je[c].rpcUrl;for(let g=0;g<f.endpoints.length;g++){const b=f.endpoints[f.currentEndpointIndex];if(b.healthy||b.consecutiveFailures<3)return b.url;f.currentEndpointIndex=(f.currentEndpointIndex+1)%f.endpoints.length}return console.warn(`All RPC endpoints for chain ${c} appear unhealthy, using primary`),f.endpoints[0].url},_t=(c,f,g,b=0)=>{const w=P.current[c];if(!w)return;const C=w.endpoints.find(M=>M.url===f);C&&(C.lastChecked=Date.now(),C.responseTime=b,g?(C.healthy=!0,C.consecutiveFailures=0):(C.consecutiveFailures++,C.consecutiveFailures>=3&&(C.healthy=!1,console.warn(`Marking RPC endpoint as unhealthy: ${f} (${C.consecutiveFailures} failures)`))))},bn=(c,f)=>{const g=`${c}-${f}`,b=je[c];if(E.current[g]||(E.current[g]=0),E.current[g]>=b.maxConnections)throw new Error(`Maximum connections (${b.maxConnections}) reached for ${g}`);return E.current[g]++,()=>{E.current[g]>0&&E.current[g]--}},Ye=c=>{const f=Z.current[c];f&&(f.degradedMode=!0,console.log(`Enabled fallback mode for chain ${c}`))},lt=c=>{const f=Z.current[c];return f!=null&&f.degradedMode?f:null},xe=()=>{if(!e||!t.length)return console.log("Not authenticated or no wallets available"),null;console.log("Available wallets:",t.map(f=>({address:f.address,walletClientType:f.walletClientType,connectorType:f.connectorType})));const c=t.find(f=>f.walletClientType==="privy"||f.connectorType==="embedded"||f.connectorType==="privy");return c?(console.log("Found embedded wallet:",c.address),c):t.length>0?(console.log("No embedded wallet found, using first available wallet:",t[0].address),t[0]):(console.log("No wallets available"),null)},pe=async c=>{const f=`${c}`;if(h.current[f])return h.current[f];const g=je[c];if(!g)throw new Error(`Unsupported network: ${c}`);const b=xe();if(!b)throw new Error("No embedded wallet found");We(c);try{const w=await oe(c);console.log(`Using RPC endpoint for chain ${c}: ${w}`);const C=bn(c,w),M=hc({chain:{id:c,name:g.name,network:g.name.toLowerCase().replace(/\s+/g,"-"),nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:[w]},public:{http:[w]}}},transport:Ir(w,{timeout:g.connectionTimeouts.initial,retryCount:4,retryDelay:({count:D})=>Math.min(1e3*Math.pow(2,D),8e3)})});let H;c===6342?H=Fr({account:b.address,chain:M.chain,transport:ui({async request({method:D,params:z}){var X,q;if(D==="eth_signTransaction"){const K=xe();if(!K)throw new Error("No embedded wallet found for signing");const Y=await((X=K.getProvider)==null?void 0:X.call(K))||await((q=K.getEthereumProvider)==null?void 0:q.call(K))||K;if(Y!=null&&Y.request)return await Y.request({method:D,params:z});throw new Error("Unable to get provider for signing")}return await M.request({method:D,params:z})}})}):H=Fr({account:b.address,chain:M.chain,transport:Ir(w,{timeout:g.connectionTimeouts.retry,retryCount:4,retryDelay:({count:D})=>Math.min(1e3*Math.pow(2,D),5e3)})});const _={publicClient:M,walletClient:H,config:g,rpcUrl:w,releaseConnection:C};return h.current[f]=_,console.log(`Created clients for chain ${c}:`,{publicRPC:w,signingMethod:c===6342?"Local Privy":"RPC"}),_}catch(w){throw console.error(`Error creating clients for chain ${c}:`,w),w}},Wt=(c,f)=>{const g=`${c}-${f}`;return j.current[g]||(j.current[g]={currentNonce:null,pendingNonce:null,lastUpdate:0,isUpdating:!1}),j.current[g]},O=async(c,f,g=!1)=>{const b=Wt(c,f),w=Date.now();if(!b.currentNonce||g||w-b.lastUpdate>3e4)if(b.isUpdating)for(;b.isUpdating;)await new Promise(M=>setTimeout(M,100));else{b.isUpdating=!0;try{const{publicClient:M}=await pe(c),H=await M.getTransactionCount({address:f,blockTag:"pending"});b.currentNonce=Math.max(H,b.currentNonce||0),b.pendingNonce=b.currentNonce,b.lastUpdate=w,console.log(`Updated nonce for ${f} on chain ${c}: ${b.currentNonce}`)}catch(M){console.error("Error updating nonce:",M),b.currentNonce!==null&&(b.currentNonce+=1,b.pendingNonce=b.currentNonce)}finally{b.isUpdating=!1}}const C=b.pendingNonce;return b.pendingNonce+=1,C},R=async c=>{const f=c.toString();if(m.current[f]){const g=m.current[f],b=Date.now()-(g.timestamp||0),w=c===6342?2*60*1e3:T.gasParams;if(b<w)return console.log(`🎯 Using cached gas params for chain ${c} (age: ${Math.round(b/1e3)}s)`),g}try{const{publicClient:g}=await pe(c);let b,w;if(c===6342)console.log("⚡ Using ultra-optimized gas parameters for MegaETH real-time gaming"),b=$e("0.001"),w=$e("0.0005");else if(c===31337)b=$e("0.01"),w=$e("0.001");else try{b=await g.getGasPrice()*2n,w=$e("1")}catch(M){console.warn("Failed to get dynamic gas price, using fallback:",M),b=$e("20"),w=$e("2")}const C={maxFeePerGas:b,maxPriorityFeePerGas:w,timestamp:Date.now()};return m.current[f]=C,console.log(`⚡ Gas params for chain ${c}: {maxFeePerGas: ${Number(b)/1e9} gwei, maxPriorityFeePerGas: ${Number(w)/1e9} gwei}`),setTimeout(p,100),C}catch(g){if(console.error("Error getting gas params:",g),m.current[f])return console.log("🔄 Using stale cached gas params due to error"),m.current[f];const b={maxFeePerGas:$e("20"),maxPriorityFeePerGas:$e("2"),timestamp:Date.now()};return m.current[f]=b,b}},be=async c=>{const f=c.toString();if($.current[f])return $.current[f];try{const{publicClient:g}=await pe(c),[b,w]=await Promise.all([ve(()=>g.getChainId(),2,500,c),ve(()=>g.getBlockNumber(),2,500,c)]),C={chainId:b,blockNumber:Number(w)},M=c===6342?3e4:6e4;return $.current[f]=C,setTimeout(()=>{delete $.current[f]},M),console.log(`Cached chain params for ${c}:`,C),C}catch(g){return console.error("Error getting chain params:",g),{chainId:c,blockNumber:0}}},F=async(c,f,g)=>{var Y,ee;const b=c.toString(),w=k[c]||k.default,C=lt(c);let M=Math.min(g,w.poolSize);C&&(M=Math.min(M,C.reducedBatchSize),console.log(`Using fallback mode for chain ${c}: batch size ${M}`)),console.log(`Pre-signing ${M} transactions for chain ${c} starting from nonce ${f}`),x.current[b]||(x.current[b]={transactions:[],currentIndex:0,baseNonce:f,hasTriggeredRefill:!1,isRefilling:!1});const H=x.current[b],{walletClient:_}=await pe(c),D=await R(c);console.log(`Using gas parameters: {maxFeePerGasGwei: ${Number(D.maxFeePerGas)/10**9}, maxPriorityFeePerGasGwei: ${Number(D.maxPriorityFeePerGas)/10**9}}`);const z=je[c],X=xe();let q=0;const K=3;for(let Ee=0;Ee<M;Ee++)try{const V=C?C.increasedDelay:w.retryDelay;V>0&&Ee>0&&await new Promise(qt=>setTimeout(qt,V));const J=await O(c,X.address),Ne={account:X.address,to:z.contractAddress,data:"0xa2e62045",nonce:J,maxFeePerGas:D.maxFeePerGas,maxPriorityFeePerGas:D.maxPriorityFeePerGas,value:0n,type:"eip1559",gas:100000n};let qe;c===6342?(console.log(`Signing transaction ${Ee+1} locally for MegaETH`),qe=await ve(async()=>await _.signTransaction(Ne),C?1:w.maxRetries,w.retryDelay,c)):(console.log(`Signing transaction ${Ee+1} via RPC for chain ${c}`),qe=await ve(()=>_.signTransaction(Ne),C?1:w.maxRetries,w.retryDelay,c)),H.transactions.push(qe),q=0,console.log(`Signed transaction ${H.transactions.length}/${M}`)}catch(V){if(console.error(`Error signing transaction ${Ee+1}:`,V),q++,(Y=V.message)!=null&&Y.includes("rate limit")||V.status===429||V.status===403||(ee=V.message)!=null&&ee.includes("not whitelisted")){console.log("Rate limit/403/not whitelisted detected, enabling fallback mode"),Ye(c);break}if(q>=K){console.log(`Too many consecutive errors (${q}), stopping batch signing`),Ye(c);break}continue}console.log(`Successfully pre-signed ${H.transactions.length} transactions`),C&&H.transactions.length>0&&console.log("Fallback mode: minimum transactions ready for gaming")},ye=async(c,f,g)=>{const b=c.toString(),w=x.current[b];if(!w||w.isRefilling){console.log("Pool extension already in progress, skipping");return}try{w.isRefilling=!0,console.log(`Extending pool for chain ${c} from nonce ${f} with ${g} transactions`),await F(c,f,g),w&&(w.hasTriggeredRefill=!1,console.log(`Pool extended successfully. Total transactions: ${w.transactions.length}`))}catch(C){console.error("Error extending transaction pool:",C)}finally{w&&(w.isRefilling=!1)}},te=async c=>{const f=c.toString(),g=x.current[f],b=k[c]||k.default;if(g&&g.transactions.length>g.currentIndex){const w=g.transactions[g.currentIndex];g.currentIndex++;const C=g.currentIndex/g.transactions.length;if(C>=b.refillAt&&!g.hasTriggeredRefill&&!g.isRefilling){g.hasTriggeredRefill=!0,console.log(`Pool ${Math.round(C*100)}% empty, extending with new transactions...`);try{const M=xe();if(M){const H=await O(c,M.address);await ye(c,H,b.batchSize)}}catch(M){console.error("Error extending pool:",M)}}return w}return console.log("No pre-signed transactions available, signing realtime..."),await ie(c)},ie=async c=>{try{const{publicClient:f}=await pe(c),g=je[c],b=xe(),w=await R(c);if(!b)throw new Error("No embedded wallet available for realtime signing");const C=await O(c,b.address),M={account:b.address,to:g.contractAddress,data:"0xa2e62045",nonce:C,maxFeePerGas:w.maxFeePerGas,maxPriorityFeePerGas:w.maxPriorityFeePerGas,value:0n,type:"eip1559",gas:100000n};console.log(`Creating realtime transaction for chain ${c} with nonce ${C}`);const{walletClient:H}=await pe(c);return await H.signTransaction(M)}catch(f){throw console.error("Error creating realtime transaction:",f),f}},Te=async c=>{try{const{publicClient:f}=await pe(c),g=xe();if(!g)return console.error("No embedded wallet available for balance check"),"0";const b=await f.getBalance({address:g.address}),w=(Number(b)/10**18).toFixed(4);return i(w),console.log(`Balance for ${g.address}: ${w} ETH`),w}catch(f){return console.error("Error checking balance:",f),i("0"),"0"}},we=async(c,f)=>{const g=`faucet_${f}_${c}`,b=5*60*1e3;try{const w=localStorage.getItem(g);if(w){const D=Date.now()-parseInt(w);if(D<b){const z=Math.ceil((b-D)/1e3);throw console.log(`⏱️ Faucet cooldown: ${z}s remaining`),new Error(`Faucet is on cooldown. Try again in ${z} seconds.`)}}console.log("💰 Calling optimized faucet for address:",c);const C=new AbortController,M=setTimeout(()=>C.abort(),3e4),H=await fetch("/api/faucet",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({address:c,chainId:f,timestamp:Date.now(),clientVersion:"1.0"}),signal:C.signal,mode:"cors"});if(clearTimeout(M),!H.ok){let D="Faucet request failed";try{const z=await H.json();if(D=z.error||D,z.code==="INSUFFICIENT_BALANCE")D="Faucet is temporarily empty. Please try again later.";else if(z.code==="RATE_LIMIT")D=`Rate limit exceeded. Try again in ${z.retryAfter||300} seconds.`;else if(z.code==="ALREADY_SUFFICIENT")return console.log("💰 Balance already sufficient, skipping faucet"),{success:!0,message:"Sufficient balance already available",skipped:!0}}catch(z){console.error("Failed to parse faucet error response:",z),H.status===429?D="Too many requests. Please wait a few minutes and try again.":H.status===503?D="Faucet service is temporarily unavailable. Please try again later.":D=`HTTP ${H.status}: ${H.statusText}`}throw new Error(D)}const _=await H.json();return localStorage.setItem(g,Date.now().toString()),console.log("💰 Faucet success:",_),_.txHash&&(console.log("⏳ Waiting for faucet transaction to be processed..."),setTimeout(async()=>{try{await Te(f),console.log("✅ Balance updated after faucet transaction")}catch(D){console.warn("Failed to update balance after faucet:",D)}},3e3)),{success:!0,..._,timestamp:Date.now()}}catch(w){throw console.error("❌ Faucet error:",w),w.name==="AbortError"?new Error("Faucet request timed out. Please check your connection and try again."):w.message.includes("Failed to fetch")||w.message.includes("NetworkError")?new Error("Network error. Please check your connection and try again."):w.message.includes("cooldown")||w.message.includes("Rate limit")||w.message.includes("temporarily unavailable")?w:new Error(`Faucet error: ${w.message}`)}},Se=async(c,f)=>{var H,_,D;const g=je[c],b=k[c]||k.default,w=await oe(c),C=Date.now();let M=!1;try{let z,X;if(g.sendMethod==="realtime_sendRawTransaction"){if(console.log("🚀 Using MegaETH realtime_sendRawTransaction for instant execution..."),z=await ve(async()=>{var ee,Ee;const K=new AbortController,Y=setTimeout(()=>K.abort(),g.connectionTimeouts.request);try{const V=await fetch(w,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",method:"realtime_sendRawTransaction",params:[f],id:Date.now()}),signal:K.signal,mode:"cors"});if(clearTimeout(Y),!V.ok){const qe=await V.text();throw new Error(`HTTP ${V.status}: ${qe}`)}const J=await V.text(),Ne=Pn(J);if(!Ne)throw new Error("Invalid response format from MegaETH RPC");if(Ne.error)throw(ee=Ne.error.message)!=null&&ee.includes("nonce too low")?(console.log("🔄 MegaETH nonce too low, triggering refresh"),new Error("nonce too low")):(Ee=Ne.error.message)!=null&&Ee.includes("rate limit")?(console.log("⏱️ MegaETH rate limit hit, will retry"),new Error("rate limit exceeded")):new Error(`MegaETH RPC Error: ${Ne.error.message}`);return Ne}catch(V){throw clearTimeout(Y),V.name==="AbortError"?new Error("MegaETH RPC timeout - real-time deadline exceeded"):V}},b.maxRetries,100,c),z.error)throw new Error(`MegaETH Real-time Error: ${z.error.message}`);return X=z.result,console.log("⚡ MegaETH instant transaction hash:",X),M=!0,{hash:X,receipt:z.result,isInstant:!0,network:"MegaETH"}}else if(g.sendMethod==="eth_sendRawTransactionSync"){console.log("📦 Using RISE eth_sendRawTransactionSync for fast execution...");const q=new AbortController,K=setTimeout(()=>q.abort(),g.connectionTimeouts.retry);try{z=await fetch(w,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",method:"eth_sendRawTransactionSync",params:[f],id:Date.now()}),signal:q.signal,mode:"cors"}),clearTimeout(K);const Y=await z.text(),ee=Pn(Y);if(!ee)throw new Error("Invalid response format from RISE RPC");if(ee.error)throw(H=ee.error.message)!=null&&H.includes("nonce too low")?(console.log("🔄 RISE nonce too low detected"),new Error("nonce too low")):new Error(ee.error.message||"RISE transaction failed");return M=!0,{hash:ee.result,receipt:ee.result,isInstant:!0,network:"RISE"}}catch(Y){throw clearTimeout(K),Y.name==="AbortError"?new Error("RISE RPC timeout"):Y}}else{console.log("🔗 Using standard eth_sendRawTransaction...");const q=new AbortController,K=setTimeout(()=>q.abort(),g.connectionTimeouts.retry);try{z=await fetch(w,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",method:"eth_sendRawTransaction",params:[f],id:Date.now()}),signal:q.signal,mode:"cors"}),clearTimeout(K);const Y=await z.text(),ee=Pn(Y);if(!ee)throw new Error("Invalid response format from RPC");if(ee.error)throw(_=ee.error.message)!=null&&_.includes("nonce too low")?(console.log("🔄 Standard RPC nonce too low detected"),new Error("nonce too low")):new Error(ee.error.message||"Transaction failed");return M=!0,{hash:ee.result,isInstant:!1,network:g.name}}catch(Y){throw clearTimeout(K),Y.name==="AbortError"?new Error("Standard RPC timeout"):Y}}}catch(z){if(console.error("❌ Send transaction error:",z),(D=z.message)!=null&&D.includes("nonce too low")){const X=xe();if(X){console.log('🔄 Refreshing nonce due to "nonce too low" error');try{await O(c,X.address,!0)}catch(q){console.error("Failed to refresh nonce:",q)}}}throw z}finally{const z=Date.now()-C;_t(c,w,M,z),M&&console.log(`✅ Transaction sent successfully in ${z}ms via ${g.sendMethod}`)}},Ve=async c=>{if(s)throw new Error("Transaction already pending, blocking jump");if(!xe())throw new Error("No embedded wallet available");A(c);const g=performance.now();return(k[c]||k.default).burstMode&&ue(c)?(console.log("🚀 Using burst mode for transaction"),await Ht(c,async()=>await ut(c,g))):await ut(c,g)},ut=async(c,f)=>{var C,M,H;let g=null,b=0,w=!1;try{if(a(!0),g=await te(c),!g)throw new Error("Failed to get transaction for sending");console.log("⚡ Sending instant on-chain jump transaction...");const _=await Se(c,g);console.log("📡 Transaction sent:",_);const D=je[c];let z=_;if(D.sendMethod==="realtime_sendRawTransaction")console.log("✅ MegaETH instant confirmation:",_),z=_.receipt||_,w=!0;else if(D.sendMethod==="eth_sendRawTransactionSync")console.log("✅ RISE sync confirmation:",_),z=_.receipt||_,w=!0;else{console.log("⏳ Waiting for transaction confirmation...");try{const{publicClient:q}=await pe(c),K=await Promise.race([q.waitForTransactionReceipt({hash:_.hash,timeout:3e4}),new Promise((Y,ee)=>setTimeout(()=>ee(new Error("Transaction confirmation timeout")),35e3))]);console.log("✅ Transaction confirmed:",K),z=K,w=!0}catch(q){console.warn("⚠️ Transaction confirmation failed, but transaction may still be valid:",q),z=_,w=!0}}b=performance.now()-f,console.log(`🎮 Jump transaction completed in ${Math.round(b)}ms:`,z);const X=B(c,b,w);return console.log(`📊 Performance: Avg ${Math.round(X.averageBlockchainTime)}ms, Success Rate ${X.successRate.toFixed(1)}%`),{...z,blockchainTime:Math.round(b),reactionTime:0,performanceMetrics:{averageBlockchainTime:Math.round(X.averageBlockchainTime),successRate:X.successRate,totalTransactions:X.totalTransactions}}}catch(_){if(console.error("❌ Error sending on-chain movement:",_),b=performance.now()-f,B(c,b,!1),(C=_.message)!=null&&C.includes("nonce too low")){console.log("🔄 Nonce too low detected, refreshing nonce and retrying...");try{await O(c,embeddedWallet.address,!0),console.log("✅ Nonce refreshed, please try again")}catch(D){console.error("❌ Failed to refresh nonce:",D)}}else(M=_.message)!=null&&M.includes("context deadline exceeded")?console.log("⏰ Network timeout detected, transaction may still be processing..."):(H=_.message)!=null&&H.includes("insufficient funds")&&console.log("💰 Insufficient funds detected, consider calling faucet...");throw new Error(`Blockchain transaction error: ${_.message}`)}finally{a(!1)}},yn=async c=>{const f=c.toString();if(!(N.current[f]||n))try{r(!0),console.log("🚀 Starting instant blockchain initialization for chain:",c);let g=null,b=0;const w=10;for(;!g&&b<w;)g=xe(),g||(console.log(`Waiting for embedded wallet creation... (attempt ${b+1}/${w})`),await new Promise(q=>setTimeout(q,1e3)),b++);if(!g)throw new Error("No embedded wallet available");console.log("✅ Using embedded wallet address:",g.address),await be(c);const C=Wt(c,g.address),M=[],H=Promise.all([Te(c),ve(async()=>{const{publicClient:q}=await pe(c);return await q.getTransactionCount({address:g.address,blockTag:"pending"})},3,1e3,c)]).then(([q,K])=>(C.currentNonce=K,C.pendingNonce=K,C.lastUpdate=Date.now(),console.log("💰 Current balance:",q),console.log("🎯 Starting nonce:",K),parseFloat(q)<5e-5&&(console.log(`💰 Balance is ${q} ETH (< 0.00005), calling faucet in background...`),we(g.address,c).then(()=>(console.log("✅ Background faucet completed"),setTimeout(()=>Te(c),5e3),O(c,g.address,!0))).catch(Y=>{console.warn("⚠️ Background faucet failed (non-blocking):",Y)})),{currentBalance:q,initialNonce:K}));M.push(H),N.current[f]=!0,console.log("⚡ INSTANT GAMING MODE ENABLED - игра готова!");const _=k[c]||k.default,D=lt(c);let z=_.poolSize;D&&(z=D.reducedBatchSize,console.log(`Using fallback batch size: ${z}`));const X=H.then(({initialNonce:q})=>(console.log(`🔄 Background pre-signing ${z} transactions starting from nonce ${q}`),F(c,q,z).then(()=>{const K=x.current[f];K&&K.transactions.length>0?console.log(`✅ Background pre-signed ${K.transactions.length} transactions - performance boost ready!`):console.log("⚠️ Pre-signing completed with 0 transactions - using realtime mode")}).catch(K=>{console.warn("⚠️ Background pre-signing failed (non-blocking):",K),Ye(c),console.log("🔄 Enabled realtime fallback mode - game continues smoothly")})));M.push(X),await H,console.log("🎮 Blockchain ready for instant gaming on chain:",c),console.log(D?"⚠️ Running in fallback mode - reduced performance expected":"🚀 Full performance mode activating in background..."),Promise.all(M.slice(1)).then(()=>{console.log("✅ Full blockchain optimization complete")}).catch(q=>{console.warn("⚠️ Some background optimizations failed (non-critical):",q)})}catch(g){console.error("❌ Critical initialization error:",g),N.current[f]=!0,Ye(c),console.log("🔄 Emergency fallback mode enabled - game will work with realtime signing")}finally{r(!1)}},wn=async c=>{try{const{publicClient:f,config:g}=await pe(c),b=await f.readContract({address:g.contractAddress,abi:Nc,functionName:"number"});return d(Number(b)),Number(b)}catch(f){return console.error("Error reading contract number:",f),0}},ce=L.useRef({}),Be=c=>(ce.current[c]||(ce.current[c]={failures:0,lastFailureTime:0,state:"CLOSED",threshold:5,timeout:6e4}),ce.current[c]),ve=async(c,f=3,g=1e3,b=null)=>{var M,H,_,D,z,X,q,K,Y,ee,Ee;let w,C=null;if(b&&(C=Be(b),C.state==="OPEN")){const V=Date.now()-C.lastFailureTime;if(V<C.timeout)throw new Error(`Circuit breaker is OPEN for chain ${b}. Try again in ${Math.round((C.timeout-V)/1e3)} seconds.`);C.state="HALF_OPEN",console.log(`Circuit breaker for chain ${b} entering HALF_OPEN state`)}for(let V=0;V<f;V++)try{const J=await c();return C&&(C.failures=0,C.state="CLOSED"),J}catch(J){w=J;const Ne=V===f-1;C&&(C.failures++,C.lastFailureTime=Date.now(),C.failures>=C.threshold&&(C.state="OPEN",console.warn(`Circuit breaker OPENED for chain ${b} after ${C.failures} failures`)));const qe=J.status===429||J.status===403||J.status===500||J.status===502||J.status===503||J.status===504||((M=J.message)==null?void 0:M.includes("rate limit"))||((H=J.message)==null?void 0:H.includes("timeout"))||((_=J.message)==null?void 0:_.includes("context deadline exceeded"))||((D=J.message)==null?void 0:D.includes("connection"))||((z=J.message)==null?void 0:z.includes("network"))||((X=J.message)==null?void 0:X.includes("fetch"))||J.name==="AbortError"||J.name==="TypeError",qt=((q=J.message)==null?void 0:q.includes("nonce too low"))||((K=J.message)==null?void 0:K.includes("insufficient funds"))||((Y=J.message)==null?void 0:Y.includes("gas too low"))||((ee=J.message)==null?void 0:ee.includes("invalid signature"))||((Ee=J.message)==null?void 0:Ee.includes("execution reverted"));if(Ne||qt||!qe)throw qt&&console.log(`Non-retryable error encountered: ${J.message}`),J;if(C&&C.state==="OPEN"){console.log(`Circuit breaker is OPEN, stopping retries for chain ${b}`);break}const Fs=Math.random()*1e3,yr=Math.min(g*Math.pow(2,V)+Fs,3e4);console.log(`Retry attempt ${V+1}/${f} after ${Math.round(yr)}ms delay due to:`,J.message),await new Promise(Bs=>setTimeout(Bs,yr))}throw w};return L.useEffect(()=>{window.location.hostname==="localhost"&&(window.blockchainDebug={getRPCHealth:c=>P.current[c],getCircuitBreaker:c=>ce.current[c],getTransactionPool:c=>x.current[c],getBurstState:c=>Q.current[c],getConnectionPool:()=>E.current,getNonceManager:(c,f)=>j.current[`${c}-${f}`],forceCircuitBreakerOpen:c=>{const f=Be(c);f.state="OPEN",f.failures=f.threshold,f.lastFailureTime=Date.now(),console.log(`Force opened circuit breaker for chain ${c}`)},resetCircuitBreaker:c=>{const f=Be(c);f.state="CLOSED",f.failures=0,console.log(`Reset circuit breaker for chain ${c}`)},clearTransactionPool:c=>{const f=c.toString();x.current[f]&&(x.current[f].transactions=[],x.current[f].currentIndex=0,console.log(`Cleared transaction pool for chain ${c}`))},generateHealthReport:c=>{const f=P.current[c],g=x.current[c==null?void 0:c.toString()],b=ce.current[c],w={timestamp:new Date().toISOString(),chainId:c,rpcEndpoints:f,transactionPool:g?{totalTransactions:g.transactions.length,currentIndex:g.currentIndex,availableTransactions:g.transactions.length-g.currentIndex,isRefilling:g.isRefilling}:null,circuitBreaker:b,connections:E.current,burstState:Q.current[c]};return console.table(w),w}},console.log("🔧 Blockchain debug utilities loaded. Use window.blockchainDebug for monitoring."),console.log("📊 Example: window.blockchainDebug.generateHealthReport(6342)"))},[]),L.useEffect(()=>{window.location.hostname==="localhost"&&(window.blockchainDebug={getRPCHealth:c=>P.current[c],getCircuitBreaker:c=>ce.current[c],getTransactionPool:c=>x.current[c],getBurstState:c=>Q.current[c],getConnectionPool:()=>E.current,getNonceManager:(c,f)=>j.current[`${c}-${f}`],getPerformanceMetrics:c=>I.current[c],getGlobalCache:()=>{try{const c=localStorage.getItem(y);return c?JSON.parse(c):null}catch{return null}},forceCircuitBreakerOpen:c=>{const f=Be(c);f.state="OPEN",f.failures=f.threshold,f.lastFailureTime=Date.now(),console.log(`Force opened circuit breaker for chain ${c}`)},resetCircuitBreaker:c=>{const f=Be(c);f.state="CLOSED",f.failures=0,console.log(`Reset circuit breaker for chain ${c}`)},clearTransactionPool:c=>{const f=c.toString();x.current[f]&&(x.current[f].transactions=[],x.current[f].currentIndex=0,console.log(`Cleared transaction pool for chain ${c}`))},generatePerformanceReport:c=>{var H,_;const f=P.current[c],g=x.current[c==null?void 0:c.toString()],b=ce.current[c],w=I.current[c],C=window.blockchainDebug.getGlobalCache(),M={timestamp:new Date().toISOString(),chainId:c,network:((H=je[c])==null?void 0:H.name)||"Unknown",rpcEndpoints:f?{current:(_=f.endpoints[f.currentEndpointIndex])==null?void 0:_.url,healthyCount:f.endpoints.filter(D=>D.healthy).length,totalCount:f.endpoints.length,endpoints:f.endpoints.map(D=>({url:D.url,healthy:D.healthy,failures:D.consecutiveFailures,responseTime:D.responseTime}))}:null,transactionPool:g?{totalTransactions:g.transactions.length,currentIndex:g.currentIndex,availableTransactions:g.transactions.length-g.currentIndex,poolUtilization:`${Math.round(g.currentIndex/g.transactions.length*100)}%`,isRefilling:g.isRefilling,hasTriggeredRefill:g.hasTriggeredRefill}:null,circuitBreaker:b?{state:b.state,failures:b.failures,threshold:b.threshold,lastFailure:b.lastFailureTime?new Date(b.lastFailureTime).toISOString():null}:null,performance:w?{totalTransactions:w.totalTransactions,successfulTransactions:w.successfulTransactions,successRate:`${w.successRate.toFixed(1)}%`,averageBlockchainTime:`${Math.round(w.averageBlockchainTime)}ms`,recentTransactions:w.recentTransactions.slice(-10).map(D=>({blockchainTime:`${D.blockchainTime}ms`,success:D.success,timestamp:new Date(D.timestamp).toISOString()})),performanceGrade:w.averageBlockchainTime<1e3?"🚀 INSTANT":w.averageBlockchainTime<3e3?"⚡ FAST":w.averageBlockchainTime<5e3?"🔥 GOOD":"🐌 SLOW"}:null,connections:E.current,burstState:Q.current[c]?{lastBurstTime:new Date(Q.current[c].lastBurstTime).toISOString(),burstCount:Q.current[c].burstCount,inCooldown:Q.current[c].inCooldown,pendingTransactions:Q.current[c].pendingTransactions.length}:null,globalCache:C?{gasParamsAge:C.gasParams?`${Math.round((Date.now()-C.gasParams.timestamp)/1e3)}s ago`:"None",chainParamsAge:C.chainParams?`${Math.round((Date.now()-C.chainParams.timestamp)/1e3)}s ago`:"None",rpcHealthAge:C.rpcHealth?`${Math.round((Date.now()-C.rpcHealth.timestamp)/1e3)}s ago`:"None"}:null};return console.group(`📊 Performance Report - ${M.network} (Chain ${c})`),console.table(M.performance),console.log("🔗 RPC Health:",M.rpcEndpoints),console.log("🎯 Transaction Pool:",M.transactionPool),console.log("⚡ Circuit Breaker:",M.circuitBreaker),console.log("🚀 Burst State:",M.burstState),console.log("💾 Global Cache:",M.globalCache),console.groupEnd(),M},quickStats:c=>{var b;const f=I.current[c],g=x.current[c==null?void 0:c.toString()];f&&g?(console.log(`🎮 ${((b=je[c])==null?void 0:b.name)||"Chain "+c}:`),console.log(`  ⚡ Avg Speed: ${Math.round(f.averageBlockchainTime)}ms`),console.log(`  📊 Success Rate: ${f.successRate.toFixed(1)}%`),console.log(`  🎯 Pool Status: ${g.transactions.length-g.currentIndex}/${g.transactions.length} ready`),console.log(`  🚀 Performance: ${f.averageBlockchainTime<1e3?"INSTANT":f.averageBlockchainTime<3e3?"FAST":"SLOW"}`)):console.log("📊 No performance data available yet")},forceResetAllCircuitBreakers:()=>{Object.keys(ce.current).forEach(c=>{const f=ce.current[c];f&&(f.state="CLOSED",f.failures=0,f.lastFailureTime=0,console.log(`✅ Force reset circuit breaker for chain ${c}`))}),console.log("🚀 All circuit breakers reset - ready for gaming!")}},console.log("🔧 Blockchain debug utilities loaded. Use window.blockchainDebug for monitoring."),console.log("📊 Examples:"),console.log("  • window.blockchainDebug.generatePerformanceReport(6342)"),console.log("  • window.blockchainDebug.quickStats(6342)"),console.log("  • window.blockchainDebug.getPerformanceMetrics(6342)"),console.log("  • window.blockchainDebug.forceResetAllCircuitBreakers() // Экстренный сброс"),setTimeout(()=>{Object.keys(ce.current).forEach(c=>{const f=ce.current[c];f&&f.state==="OPEN"&&(f.state="CLOSED",f.failures=0,console.log(`🔄 Auto-reset circuit breaker for chain ${c} on page load`))})},2e3))},[]),{isInitializing:n,transactionPending:s,balance:o,contractNumber:l,initData:yn,sendUpdate:Ve,checkBalance:Te,callFaucet:we,getContractNumber:wn,getEmbeddedWallet:xe,isAuthenticated:e,isReady:e&&t.length>0}};class Sc{constructor(t,n,r,s,a,o,i=null){ne(this,"WALK_ANIMATION_TIMER",180);ne(this,"walkAnimationTimer",this.WALK_ANIMATION_TIMER);ne(this,"buddyRunImages",[]);ne(this,"jumpPressed",!1);ne(this,"jumpInProgress",!1);ne(this,"falling",!1);ne(this,"JUMP_SPEED",.65);ne(this,"GRAVITY",.38);ne(this,"dustParticles",[]);ne(this,"showDust",!1);ne(this,"dustTimer",0);ne(this,"touchstart",()=>{this.jumpPressed=!0});ne(this,"touchend",()=>{this.jumpPressed=!1});ne(this,"keydown",t=>{t.code==="Space"&&(this.jumpPressed=!0)});ne(this,"keyup",t=>{t.code==="Space"&&(this.jumpPressed=!1)});this.ctx=t,this.canvas=t.canvas,this.width=n,this.height=r,this.minJumpHeight=s,this.maxJumpHeight=a,this.scaleRatio=o,this.onMovementCallback=i,this.x=10*o,this.y=this.canvas.height-this.height,this.yStandingPosition=this.y,this.standingStillImage=new Image,this.standingStillImage.src="assets/buddy_standing_still.png",this.standingStillImage.onerror=()=>console.error("Failed to load buddy_standing_still.png"),this.image=this.standingStillImage,this.jumpingImage=new Image,this.jumpingImage.src="assets/buddy_standing_still_eye_closed.png",this.jumpingImage.onerror=()=>console.error("Failed to load buddy_standing_still_eye_closed.png");const l=new Image;l.src="assets/buddy_run1.png",l.onerror=()=>console.error("Failed to load buddy_run1.png");const d=new Image;d.src="assets/buddy_run2.png",d.onerror=()=>console.error("Failed to load buddy_run2.png"),this.buddyRunImages.push(l),this.buddyRunImages.push(d),window.removeEventListener("keydown",this.keydown),window.removeEventListener("keyup",this.keyup),window.addEventListener("keydown",this.keydown),window.addEventListener("keyup",this.keyup),window.removeEventListener("touchstart",this.touchstart),window.removeEventListener("touchend",this.touchend),window.addEventListener("touchstart",this.touchstart),window.addEventListener("touchend",this.touchend)}update(t,n){this.run(t,n),this.jumpInProgress&&(this.image=this.jumpingImage),this.jump(n),this.updateDust(n)}jump(t){this.jumpPressed&&(this.jumpInProgress||this.onMovementCallback&&this.onMovementCallback(),this.jumpInProgress=!0),this.jumpInProgress&&!this.falling?this.y>this.canvas.height-this.minJumpHeight||this.y>this.canvas.height-this.maxJumpHeight&&this.jumpPressed?this.y-=this.JUMP_SPEED*t*this.scaleRatio:this.falling=!0:this.y<this.yStandingPosition?(this.y+=this.GRAVITY*t*this.scaleRatio,this.y+this.height>this.canvas.height&&(this.y=this.yStandingPosition,this.createDustEffect())):(this.falling=!1,this.jumpInProgress=!1)}createDustEffect(){this.showDust=!0,this.dustTimer=300}updateDust(t){this.showDust&&(this.dustTimer-=t,this.dustTimer<=0&&(this.showDust=!1))}run(t,n){this.walkAnimationTimer<=0&&(this.image===this.buddyRunImages[0]?this.image=this.buddyRunImages[1]:this.image=this.buddyRunImages[0],this.walkAnimationTimer=this.WALK_ANIMATION_TIMER),this.walkAnimationTimer-=n*t}draw(){if(this.image&&this.image.complete&&this.image.naturalWidth>0&&this.ctx.drawImage(this.image,this.x,this.y,this.width,this.height),this.showDust){this.ctx.fillStyle="rgba(139, 69, 19, 0.6)";const t=this.yStandingPosition+this.height;for(let n=0;n<5;n++){const r=this.x+this.width*.2+n*8*this.scaleRatio,s=(3-n*.5)*this.scaleRatio;this.ctx.beginPath(),this.ctx.arc(r,t-s,s,0,Math.PI*2),this.ctx.fill()}}}}class jc{constructor(t,n,r,s,a){this.ctx=t,this.canvas=t.canvas,this.width=n,this.height=r,this.speed=s,this.scaleRatio=a,this.x=0,this.y=this.canvas.height-this.height,this.groundImage=new Image,this.groundImage.src="assets/ground.png",this.groundImage.onerror=()=>console.error("Failed to load ground.png")}update(t,n){this.x-=t*n*this.speed*this.scaleRatio}draw(){this.ctx.fillStyle="#7BA428",this.ctx.fillRect(0,this.y,this.canvas.width,this.height),this.ctx.fillStyle="#6B9420";for(let t=0;t<this.canvas.width;t+=3)this.ctx.fillRect(t,this.y,1,this.height);this.ctx.fillStyle="#8B4513",this.ctx.fillRect(0,this.y+this.height*.7,this.canvas.width,this.height*.3),this.x<-this.width&&(this.x=0)}reset(){this.x=0}}class Ac{constructor(t,n,r,s,a,o){this.ctx=t,this.x=n,this.y=r,this.width=s,this.height=a,this.image=o}update(t,n,r,s){this.x-=t*n*r*s}draw(){this.image&&this.image.complete&&this.image.naturalWidth>0&&this.ctx.drawImage(this.image,this.x,this.y,this.width,this.height)}collideWith(t){return t.x<this.x+this.width/1.4&&t.x+t.width/1.4>this.x&&t.y<this.y+this.height/1.4&&t.height+t.y/1.4>this.y}}class Rc{constructor(t,n,r,s){ne(this,"CARROT_INTERVAL_MIN",500);ne(this,"CARROT_INTERVAL_MAX",2e3);ne(this,"nextCarrotInterval",null);ne(this,"carrots",[]);this.ctx=t,this.canvas=t.canvas,this.carrotImages=n,this.scaleRatio=r,this.speed=s,this.setNextCarrotTime()}setNextCarrotTime(){const t=this.getRandomNumber(this.CARROT_INTERVAL_MIN,this.CARROT_INTERVAL_MAX);this.nextCarrotInterval=t}getRandomNumber(t,n){return Math.floor(Math.random()*(n-t+1)+t)}createCarrot(){const t=this.getRandomNumber(0,this.carrotImages.length-1),n=this.carrotImages[t],r=this.canvas.width*1.5,s=this.canvas.height-n.height,a=new Ac(this.ctx,r,s,n.width,n.height,n.image);this.carrots.push(a)}update(t,n){this.nextCarrotInterval<=0&&(this.createCarrot(),this.setNextCarrotTime()),this.nextCarrotInterval-=n,this.carrots.forEach(r=>{r.update(this.speed,t,n,this.scaleRatio)}),this.carrots=this.carrots.filter(r=>r.x>-r.width)}draw(){this.carrots.forEach(t=>t.draw())}collideWith(t){return this.carrots.some(n=>n.collideWith(t))}reset(){this.carrots=[]}}class kc{constructor(t,n,r=null){ne(this,"score",0);ne(this,"HIGH_SCORE_KEY","highScore");this.ctx=t,this.canvas=t.canvas,this.scaleRatio=n,this.blockchainStatus=r}update(t){this.score+=t*.01}reset(){this.score=0}setHighScore(){const t=Number(localStorage.getItem(this.HIGH_SCORE_KEY));this.score>t&&localStorage.setItem(this.HIGH_SCORE_KEY,Math.floor(this.score))}draw(){const t=Number(localStorage.getItem(this.HIGH_SCORE_KEY)),n=20*this.scaleRatio,r=20*this.scaleRatio;this.ctx.font=`${r}px serif`,this.ctx.fillStyle="#6B8E6B";const s=this.canvas.width-75*this.scaleRatio,a=s-125*this.scaleRatio,o=Math.floor(this.score).toString().padStart(6,0),i=t.toString().padStart(6,0);if(this.ctx.fillText(o,s,n),this.ctx.fillText(`HI ${i}`,a,n),this.blockchainStatus){const l=n+30*this.scaleRatio,d=12*this.scaleRatio;this.ctx.font=`${d}px monospace`,this.ctx.fillStyle=this.blockchainStatus.contractAvailable?"#7FBC7F":"#FFA500",this.ctx.fillText(`⛓️ ${this.blockchainStatus.networkName}`,10*this.scaleRatio,l),this.ctx.fillStyle="#4169E1",this.ctx.fillText(`Moves: ${this.blockchainStatus.totalMovements}`,10*this.scaleRatio,l+20*this.scaleRatio),this.blockchainStatus.pendingTransactions>0&&(this.ctx.fillStyle="#FF6347",this.ctx.fillText(`Pending: ${this.blockchainStatus.pendingTransactions}`,10*this.scaleRatio,l+40*this.scaleRatio)),this.blockchainStatus.onChainScore>0&&(this.ctx.fillStyle="#32CD32",this.ctx.fillText(`On-chain: ${this.blockchainStatus.onChainScore}`,10*this.scaleRatio,l+60*this.scaleRatio))}}}const $c=({selectedNetwork:e})=>{const t=L.useRef(null),n=L.useRef({}),{user:r,authenticated:s}=It(),{wallets:a}=Kn(),{login:o}=tn(),{isInitializing:i,transactionPending:l,balance:d,contractNumber:h,initData:m,sendUpdate:y,checkBalance:T,getContractNumber:p,isReady:v,getEmbeddedWallet:P,callFaucet:E}=Cc(),[x,j]=L.useState({initialized:!1,networkName:(e==null?void 0:e.name)||"Unknown",contractAvailable:!1,pendingTransactions:0,totalMovements:0,onChainScore:0}),[N,I]=L.useState(!1),A=L.useRef(!1);L.useRef(null);const[B,$]=L.useState(!1),k=L.useRef({});L.useEffect(()=>{k.current={sendUpdate:y,getContractNumber:p,selectedNetwork:e,blockchainInitialized:x.initialized}},[y,p,e,x.initialized]);const G=1,Z=1e-5,Q=800,he=200,ue=88/1.5,re=94/1.5,Ht=he,Re=150,We=2400,oe=24,_t=.5,bn=[{width:48/1.5,height:100/1.5,imageSrc:"assets/carrot_1.png"},{width:98/1.5,height:100/1.5,imageSrc:"assets/carrot_2.png"},{width:68/1.5,height:70/1.5,imageSrc:"assets/carrot_3.png"}],Ye=async()=>{if(!v||!e||e.isWeb2){console.log("Skipping blockchain initialization - Web2 mode or not ready"),j(O=>({...O,initialized:!1,networkName:(e==null?void 0:e.name)||"Web2 Mode"}));return}try{console.log("Initializing blockchain for network:",e.name),await m(e.id);const O=await p(e.id);j({initialized:!0,networkName:e.name,contractAvailable:!0,pendingTransactions:0,totalMovements:O,onChainScore:O}),console.log("Blockchain initialization complete")}catch(O){console.error("Failed to initialize blockchain:",O),j(R=>({...R,initialized:!1,contractAvailable:!1}))}},lt=L.useCallback(async()=>{const{sendUpdate:O,getContractNumber:R,selectedNetwork:be,blockchainInitialized:F}=k.current;if(!be||be.isWeb2||!F){console.log("Skipping on-chain movement - Web2 mode or not initialized");return}if(A.current){console.log("Transaction already pending, blocking jump");return}try{A.current=!0,I(!0);const ye=performance.now();console.log("⚡ Sending instant on-chain jump transaction...");const te=await O(be.id),ie=performance.now()-ye,Te=te.blockchainTime||Math.round(ie),we={reactionTime:Math.round(ie-Te),blockchainTime:Te,totalTime:Math.round(ie),network:be.name,isInstant:te.isInstant||!1,txHash:te.hash||te.transactionHash,performanceMetrics:te.performanceMetrics};return console.log("🎮 Real-Time Gaming Result:",we),console.log(`🎯 Jump completed: ${we.blockchainTime}ms blockchain time, ${we.isInstant?"INSTANT":"PENDING"} confirmation`),j(Se=>{var Ve;return{...Se,totalMovements:Se.totalMovements+1,onChainScore:Se.onChainScore+1,lastTransactionTime:we.blockchainTime,averageTransactionTime:((Ve=we.performanceMetrics)==null?void 0:Ve.averageBlockchainTime)||Se.averageTransactionTime}}),setTimeout(async()=>{try{await R(be.id)}catch(Se){console.error("Error updating contract number:",Se)}},1e3),we}catch(ye){console.error("❌ Error sending on-chain movement:",ye);let te="Transaction failed",ie="UNKNOWN";ye.message.includes("insufficient funds")?(te="Insufficient funds for transaction. Please check your balance.",ie="INSUFFICIENT_FUNDS"):ye.message.includes("nonce")?(te="Transaction nonce error. Please try again.",ie="NONCE_ERROR"):ye.message.includes("timeout")?(te="Transaction timeout. Please try again.",ie="TIMEOUT"):ye.message.includes("rejected")?(te="Transaction was rejected by the network.",ie="REJECTED"):ye.message.includes("rate limit")?(te="Rate limit exceeded. Please wait a moment.",ie="RATE_LIMIT"):(te=`Transaction failed: ${ye.message}`,ie="BLOCKCHAIN_ERROR"),console.error(`🚨 Blockchain Error [${ie}]:`,te),j(we=>({...we,lastError:{type:ie,message:te,timestamp:Date.now()}}));const Te=new Error(te);throw Te.type=ie,Te}finally{A.current=!1,I(!1)}},[]),xe=async()=>{if(!(!e||e.isWeb2||!v))try{$(!0);const O=P();if(!O){alert("Please connect your wallet first");return}console.log("Manual faucet request for:",O.address),await E(O.address,e.id),setTimeout(async()=>{await T(e.id)},3e3),alert("Faucet request successful! Funds should arrive shortly.")}catch(O){console.error("Manual faucet error:",O),alert(`Faucet request failed: ${O.message}`)}finally{$(!1)}},pe=()=>{if(e&&e.isWeb2)return{identifier:"CLASSIC PLAYER",address:null,isWeb2:!0};if(!s||!r)return null;const O=Wt();return O?{identifier:`${O.slice(0,6)}...${O.slice(-4)}`,address:O}:r.email?{identifier:r.email.split("@")[0],address:null}:null},Wt=()=>{var O;return!s||!a||a.length===0?null:((O=a[0])==null?void 0:O.address)||null};return L.useEffect(()=>{if(e&&e.isWeb2){console.log("Web2 mode selected, skipping blockchain initialization"),j({initialized:!1,networkName:e.name,contractAvailable:!1,pendingTransactions:0,totalMovements:0,onChainScore:0});return}e&&v&&s&&a.length>0?(console.log("Initializing blockchain for:",e.name),console.log("Authentication status:",{authenticated:s,wallets:a.length,isReady:v}),Ye()):console.log("Waiting for authentication and embedded wallet creation...",{selectedNetwork:!!e,isReady:v,authenticated:s,wallets:a.length})},[e,v,s,a]),L.useEffect(()=>{e&&!e.isWeb2&&j(O=>({...O,pendingTransactions:l?1:0}))},[l,e]),L.useEffect(()=>{const O=t.current;if(!O)return;const R=O.getContext("2d");let be;R.imageSmoothingEnabled=!1,R.webkitImageSmoothingEnabled=!1,R.mozImageSmoothingEnabled=!1,R.msImageSmoothingEnabled=!1;const F=n.current;Object.assign(F,{scaleRatio:null,previousTime:null,gameSpeed:G,gameOver:!1,hasAddedEventListenersForRestart:!1,waitingToStart:!0});function ye(){const c=ue*F.scaleRatio,f=re*F.scaleRatio,g=Re*F.scaleRatio,b=Ht*F.scaleRatio,w=We*F.scaleRatio,C=oe*F.scaleRatio;F.player=new Sc(R,c,f,g,b,F.scaleRatio,e&&!e.isWeb2?lt:null),F.ground=new jc(R,w,C,_t,F.scaleRatio);const M=bn.map(H=>{const _=new Image;return _.src=H.imageSrc,_.onerror=()=>console.error(`Failed to load ${H.imageSrc}`),{image:_,width:H.width*F.scaleRatio,height:H.height*F.scaleRatio}});F.carrotController=new Rc(R,M,F.scaleRatio,_t),F.score=new kc(R,F.scaleRatio)}function te(){F.scaleRatio=ie(),O.width=Q*F.scaleRatio,O.height=he*F.scaleRatio,ye()}function ie(){const c=Math.min(window.innerHeight,document.documentElement.clientHeight),f=Math.min(window.innerWidth,document.documentElement.clientWidth);return f/c<Q/he?f/Q:c/he}function Te(){const c=Math.floor(F.scaleRatio*32);R.font=`${c}px monospace`,R.fillStyle="#ef5435",R.textAlign="center",R.shadowColor="#ef5435",R.shadowBlur=10,R.fillText("GAME OVER",O.width/2,O.height/2-c),R.shadowBlur=0;const f=Math.floor(F.scaleRatio*16);R.font=`${f}px monospace`,R.fillStyle="#929397",R.fillText("> PRESS ANY KEY TO RESTART",O.width/2,O.height/2+f);const g=pe();if(g){const b=Math.floor(F.scaleRatio*12);R.font=`${b}px monospace`,R.fillStyle="#1391ff",R.fillText(`> PILOT: ${g.identifier}`,O.width/2,O.height/2+f+b+20),R.fillStyle="#929397",R.fillText(`> NETWORK: ${x.networkName}`,O.width/2,O.height/2+f+b*2+25),x.totalMovements>0&&R.fillText(`> ON-CHAIN MOVES: ${x.totalMovements}`,O.width/2,O.height/2+f+b*3+30)}}function we(){const c=Math.floor(F.scaleRatio*24);R.font=`${c}px monospace`,R.fillStyle="#929397",R.textAlign="center",R.shadowColor="#929397",R.shadowBlur=5,R.fillText("> PRESS ANY KEY TO START MISSION",O.width/2,O.height/2),R.shadowBlur=0;const f=pe(),g=Math.floor(F.scaleRatio*12);R.font=`${g}px monospace`,f?(R.fillStyle="#1391ff",R.shadowColor="#1391ff",R.shadowBlur=3,R.fillText(`> PILOT AUTHENTICATED: ${f.identifier}`,O.width/2,O.height/2+c+20),R.shadowBlur=0,R.fillStyle="#929397",R.fillText(`> TARGET NETWORK: ${x.networkName}`,O.width/2,O.height/2+c+g+25),x.initialized?(R.fillStyle="#28a745",R.fillText("> BLOCKCHAIN CONNECTION: ACTIVE",O.width/2,O.height/2+c+g*2+30)):(R.fillStyle="#ffc107",R.fillText("> BLOCKCHAIN CONNECTION: SIMULATED MODE",O.width/2,O.height/2+c+g*2+30))):(R.fillStyle="#ef5435",R.fillText("> WARNING: NO PILOT AUTHENTICATED",O.width/2,O.height/2+c+20))}function Se(){const c=R.createLinearGradient(0,0,0,O.height);c.addColorStop(0,"#121218"),c.addColorStop(.5,"#1a1a2e"),c.addColorStop(1,"#16213e"),R.fillStyle=c,R.fillRect(0,0,O.width,O.height),R.strokeStyle="rgba(146, 147, 151, 0.1)",R.lineWidth=1;const f=20*F.scaleRatio;for(let w=0;w<O.width;w+=f)R.beginPath(),R.moveTo(w,0),R.lineTo(w,O.height),R.stroke();for(let w=0;w<O.height;w+=f)R.beginPath(),R.moveTo(0,w),R.lineTo(O.width,w),R.stroke();const g=Date.now()/20%O.height;R.strokeStyle="rgba(19, 145, 255, 0.3)",R.lineWidth=2,R.beginPath(),R.moveTo(0,g),R.lineTo(O.width,g),R.stroke();const b=R.createLinearGradient(0,0,0,O.height*.3);b.addColorStop(0,"rgba(19, 145, 255, 0.1)"),b.addColorStop(1,"transparent"),R.fillStyle=b,R.fillRect(0,0,O.width,O.height*.3)}function Ve(){F.hasAddedEventListenersForRestart||(F.hasAddedEventListenersForRestart=!0,setTimeout(()=>{const c=()=>{ut(),document.removeEventListener("keyup",c),document.removeEventListener("touchstart",c)};document.addEventListener("keyup",c),document.addEventListener("touchstart",c)},1e3))}function ut(){F.hasAddedEventListenersForRestart=!1,F.gameOver=!1,F.waitingToStart=!1,F.ground.reset(),F.carrotController.reset(),F.score.reset(),F.gameSpeed=G}function yn(c){F.gameSpeed+=c*Z}function wn(){return F.carrotController.collideWith(F.player)}function ce(c){if(F.previousTime===null){F.previousTime=c,be=requestAnimationFrame(ce);return}const f=c-F.previousTime;F.previousTime=c,Se(),!F.gameOver&&!F.waitingToStart&&(F.ground.update(F.gameSpeed,f),F.carrotController.update(F.gameSpeed,f),F.player.update(F.gameSpeed,f),F.score.update(f),yn(f),wn()&&(F.gameOver=!0,Ve())),F.ground.draw(),F.carrotController.draw(),F.player.draw(),F.score.draw(),F.gameOver&&Te(),F.waitingToStart&&we(),be=requestAnimationFrame(ce)}te();const Be=()=>setTimeout(te,500);window.addEventListener("resize",Be),screen.orientation&&screen.orientation.addEventListener("change",te);const ve=()=>{ut(),document.removeEventListener("keyup",ve),document.removeEventListener("touchstart",ve)};return document.addEventListener("keyup",ve),document.addEventListener("touchstart",ve),be=requestAnimationFrame(ce),()=>{be&&cancelAnimationFrame(be),window.removeEventListener("resize",Be),screen.orientation&&screen.orientation.removeEventListener("change",te),document.removeEventListener("keyup",ve),document.removeEventListener("touchstart",ve)}},[e,lt]),u.jsxs("div",{className:"game-container",children:[e&&!e.isWeb2&&!s&&u.jsx("div",{className:"login-prompt-overlay",children:u.jsx("div",{className:"login-prompt-container",children:u.jsxs("div",{className:"login-prompt-content",children:[u.jsx("h2",{children:"🔐 Authentication Required"}),u.jsxs("p",{children:["You need to connect your wallet to play on ",u.jsx("strong",{children:e.name})]}),u.jsx("p",{children:"This will create an embedded wallet for seamless blockchain gaming."}),u.jsx("button",{className:"login-prompt-button",onClick:o,children:"Connect Wallet"})]})})}),u.jsx("canvas",{ref:t}),N&&u.jsx("div",{className:"transaction-toast",children:u.jsxs("div",{className:"toast-content",children:[u.jsx("div",{className:"loading-spinner"}),u.jsx("span",{children:"Sending on-chain jump..."})]})}),e&&!e.isWeb2&&u.jsxs("div",{className:"blockchain-status-panel",children:[u.jsxs("div",{className:"status-header",children:[u.jsx("span",{className:"network-name",children:x.networkName}),u.jsx("span",{className:`status-indicator ${x.initialized?"connected":"disconnected"}`,children:x.initialized?"🟢":"🔴"})]}),x.initialized&&u.jsxs("div",{className:"status-details",children:[u.jsxs("div",{className:"status-item",children:[u.jsx("span",{className:"label",children:"Balance:"}),u.jsxs("span",{className:"value",children:[d," ETH"]})]}),u.jsxs("div",{className:"status-item",children:[u.jsx("span",{className:"label",children:"Contract #:"}),u.jsx("span",{className:"value",children:h})]}),u.jsxs("div",{className:"status-item",children:[u.jsx("span",{className:"label",children:"Jumps:"}),u.jsx("span",{className:"value",children:x.totalMovements})]}),x.lastTransactionTime&&u.jsxs("div",{className:"status-item",children:[u.jsx("span",{className:"label",children:"Last TX:"}),u.jsxs("span",{className:"value performance-metric",children:[x.lastTransactionTime,"ms"]})]}),x.averageTransactionTime&&u.jsxs("div",{className:"status-item",children:[u.jsx("span",{className:"label",children:"Avg Speed:"}),u.jsxs("span",{className:"value performance-metric",children:[Math.round(x.averageTransactionTime),"ms"]})]}),x.averageTransactionTime&&u.jsxs("div",{className:"status-item",children:[u.jsx("span",{className:"label",children:"Performance:"}),u.jsx("span",{className:`value performance-indicator ${x.averageTransactionTime<1e3?"excellent":x.averageTransactionTime<3e3?"good":x.averageTransactionTime<5e3?"fair":"slow"}`,children:x.averageTransactionTime<1e3?"🚀 INSTANT":x.averageTransactionTime<3e3?"⚡ FAST":x.averageTransactionTime<5e3?"🔥 GOOD":"🐌 SLOW"})]}),x.lastError&&u.jsxs("div",{className:"status-item error",children:[u.jsx("span",{className:"label",children:"Last Error:"}),u.jsx("span",{className:"value error-text",title:x.lastError.message,children:x.lastError.type})]}),parseFloat(d)<5e-5&&u.jsx("div",{className:"status-item",children:u.jsx("button",{className:"faucet-button",onClick:xe,disabled:B,children:B?"Requesting...":"Get Test ETH"})}),l&&u.jsxs("div",{className:"status-item",children:[u.jsx("span",{className:"label",children:"Status:"}),u.jsx("span",{className:"value pending",children:"⚡ Processing TX..."})]})]}),i&&u.jsxs("div",{className:"initialization-status",children:[u.jsx("div",{className:"loading-spinner"}),u.jsx("span",{children:"🚀 Initializing blockchain..."})]})]})]})},Oc=({selectedNetwork:e,onDisconnect:t,disableNetworkControls:n=!1})=>{var B;const{user:r,authenticated:s,ready:a}=It(),{login:o}=tn(),{logout:i}=Us(),{wallets:l}=Kn(),[d,h]=L.useState(!1),[m,y]=L.useState(!1),T=[{id:6342,name:"MegaETH Testnet",emoji:"🚀"},{id:84532,name:"Base Sepolia",emoji:"🔵"},{id:10143,name:"Monad Testnet",emoji:"🟣"}],p=async $=>{var k;try{if(typeof $.getChainId=="function")return await $.getChainId();if($.chainId)return $.chainId;{const G=await((k=$.getEthereumProvider)==null?void 0:k.call($));if(G&&G.request){const Z=await G.request({method:"eth_chainId"});return parseInt(Z,16)}else return console.warn("Cannot determine current chain ID from wallet"),null}}catch(G){return console.warn("Failed to get current chain ID:",G),null}};L.useEffect(()=>{(async()=>{if(s&&l&&l.length>0&&e&&!m)try{const k=l[0],G=await p(k);if(G===null){console.warn("Cannot determine current chain ID, skipping auto-switch");return}G!==e.id?(console.log(`Auto-switching to ${e.name}...`),console.log(`Current chain: ${G}, Target chain: ${e.id}`),y(!0),await P(e.id)):console.log(`Already on correct network: ${e.name} (${G})`)}catch(k){console.warn("Auto network switch failed:",k)}finally{y(!1)}})()},[s,l,e]);const v=()=>{s?(i(),t&&t()):o()},P=async $=>{var k,G,Z,Q,he;if(!l||l.length===0){alert("No wallet connected. Please connect your wallet first.");return}y(!0);try{const ue=l[0],re=((k=T.find(Re=>Re.id===$))==null?void 0:k.name)||"Unknown Network";if(await p(ue)===$){console.log(`Already on ${re} (Chain ID: ${$})`),h(!1);return}if(typeof ue.switchChain!="function"){console.warn("Wallet does not support network switching"),alert("This wallet does not support automatic network switching. Please switch manually.");return}try{await ue.switchChain($),h(!1),console.log(`Successfully switched to ${re}`);return}catch(Re){if(console.log(`Network ${re} switch failed:`,Re),(G=Re.message)!=null&&G.includes("Unsupported chainId")||(Z=Re.message)!=null&&Z.includes("unsupported chain")){console.log("Privy does not support this chain ID, attempting manual network addition...");const oe=E($);alert(oe?`Privy wallet doesn't support ${re} automatically.

Please add this network manually in your wallet:

Network Name: ${oe.chainName}
RPC URL: ${oe.rpcUrls[0]}
Chain ID: ${oe.chainId}
Currency Symbol: ${oe.nativeCurrency.symbol}
Block Explorer: ${oe.blockExplorerUrls[0]}

After adding the network manually, it should appear in your wallet.`:`Network ${re} is not supported by this wallet.`);return}console.log(`Network ${re} not found, attempting to add it...`);const We=E($);if(We){console.log(`Adding network ${re} to wallet...`);try{await x(ue,We),await new Promise(oe=>setTimeout(oe,1e3)),console.log(`Switching to ${re}...`),await ue.switchChain($),h(!1),console.log(`Successfully added and switched to ${re}`)}catch(oe){if((Q=oe.message)!=null&&Q.includes("this request method is not supported")||(he=oe.message)!=null&&he.includes("mainnet.rpc.privy.systems")||oe.code==="SERVER_ERROR"){console.log("Network addition failed due to Privy limitation - user needs to add manually");return}throw oe}}else throw new Error(`Network configuration not found for chain ID ${$}`)}}catch(ue){console.error("Failed to switch network:",ue);let re="Failed to switch network. ";ue.message.includes("rejected")?re+="User cancelled the operation.":ue.message.includes("already pending")?re+="Another network operation is in progress. Please wait and try again.":ue.message.includes("Unsupported chainId")?re="This network is not supported by your wallet. Please add it manually.":re+="Please try again or add the network manually.",alert(re)}finally{y(!1)}},E=$=>({6342:{chainId:"0x18C6",chainName:"MegaETH Testnet",rpcUrls:["https://carrot.megaeth.com/rpc"],nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockExplorerUrls:["https://carrot.megaeth.com"]},84532:{chainId:"0x14A34",chainName:"Base Sepolia",rpcUrls:["https://sepolia.base.org"],nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockExplorerUrls:["https://sepolia.basescan.org"]},10143:{chainId:"0x279F",chainName:"Monad Testnet",rpcUrls:["https://testnet-rpc.monad.xyz"],nativeCurrency:{name:"Monad",symbol:"MON",decimals:18},blockExplorerUrls:["https://testnet.monadexplorer.com"]}})[$],x=async($,k)=>{try{await(await $.getEthersProvider()).send("wallet_addEthereumChain",[k])}catch(G){if(G.code===4902||G.message.includes("already exists")||G.message.includes("Already added")){console.log("Network already exists in wallet");return}if(G.message.includes("this request method is not supported")||G.message.includes("mainnet.rpc.privy.systems")||G.code==="SERVER_ERROR"){console.warn("⚠️ Privy mainnet RPC does not support adding testnet chains"),console.log("Network configuration available, but automatic addition failed:",k),alert(`Please add the ${k.chainName} network manually in your wallet:

Network Name: ${k.chainName}
RPC URL: ${k.rpcUrls[0]}
Chain ID: ${k.chainId}
Currency Symbol: ${k.nativeCurrency.symbol}
Block Explorer: ${k.blockExplorerUrls[0]}

After adding the network manually, try switching again.`);return}throw G}},j=()=>{if(!l||l.length===0)return null;const $=l[0];return T.find(k=>k.id===$.chainId)},N=$=>$?`${$.slice(0,6)}...${$.slice(-4)}`:"",I=()=>{var $;if(($=r==null?void 0:r.wallet)!=null&&$.address)return r.wallet.address;if(r!=null&&r.linkedAccounts){const k=r.linkedAccounts.find(G=>G.type==="wallet");return k==null?void 0:k.address}return null},A=()=>{var k,G;if((k=r==null?void 0:r.email)!=null&&k.address)return r.email.address;if((G=r==null?void 0:r.phone)!=null&&G.number)return r.phone.number;const $=I();return $?N($):"Unknown User"};return a?u.jsxs("div",{className:"wallet-container",children:[u.jsxs("div",{className:"wallet-controls",children:[u.jsx("button",{className:`wallet-button ${s?"connected":""}`,onClick:v,children:s?"Disconnect":"Connect Wallet"}),s&&l&&l.length>0&&!n&&u.jsxs("div",{className:"network-selector",children:[u.jsx("button",{className:"network-button",onClick:()=>h(!d),disabled:m,children:m?"🔄 Switching...":j()?`${j().emoji} ${j().name}`:"🌐 Select Network"}),d&&u.jsx("div",{className:"network-dropdown",children:T.map($=>{var k;return u.jsxs("button",{className:`network-option ${((k=j())==null?void 0:k.id)===$.id?"active":""} ${(e==null?void 0:e.id)===$.id?"selected-game-network":""}`,onClick:()=>P($.id),disabled:m,children:[m?"🔄":$.emoji," ",$.name,(e==null?void 0:e.id)===$.id&&" 🎮"]},$.id)})})]})]}),s&&u.jsxs("div",{className:"wallet-info",children:[u.jsx("div",{className:"wallet-status",children:"Connected"}),u.jsx("div",{className:"wallet-user",children:A()}),u.jsx("div",{className:"wallet-network",children:e?e.name:((B=j())==null?void 0:B.name)||"Unknown Network"})]})]}):u.jsx("div",{className:"wallet-container",children:u.jsx("button",{className:"wallet-button",disabled:!0,children:"Loading..."})})},Ic=({onNetworkSelect:e,onStartGame:t})=>{const[n,r]=L.useState(null),[s,a]=L.useState(!0),[o,i]=L.useState(""),[l,d]=L.useState({width:window.innerWidth,height:window.innerHeight}),{user:h,authenticated:m}=It(),{login:y}=tn(),T=[{id:"web2",name:"CLASSIC BROWSER",emoji:"🌐",description:"Pure web2 experience",tech:"No wallet required",color:"#2ecc71",status:"ONLINE",icon:"🦕",isWeb2:!0},{id:6342,name:"MEGAETH TESTNET",emoji:"⚡",description:"Ultra-fast execution layer",tech:"Lightning-fast transactions",color:"#ff6b6b",status:"ONLINE",icon:"🚀"},{id:84532,name:"BASE SEPOLIA",emoji:"🔵",description:"Ethereum L2 testnet",tech:"Reliable scaling solution",color:"#4ecdc4",status:"ONLINE",icon:"🌐"},{id:10143,name:"MONAD TESTNET",emoji:"🟣",description:"Next-gen blockchain",tech:"Advanced consensus",color:"#9b59b6",status:"BETA",icon:"🔮"}];L.useEffect(()=>{const N=["INITIALIZING NETWORK SCANNER...","DETECTING AVAILABLE CHAINS...","ESTABLISHING SECURE CONNECTIONS...","SYSTEM READY FOR NETWORK SELECTION"];let I=0;const A=setInterval(()=>{i(N[I]),I++,I>=N.length&&(clearInterval(A),setTimeout(()=>a(!1),500))},800);return()=>clearInterval(A)},[]),L.useEffect(()=>{const N=()=>{d({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",N),()=>window.removeEventListener("resize",N)},[]),L.useEffect(()=>{},[l]);const p=()=>{const{width:N,height:I}=l,A=N<=768,B=N>768&&N<=1024,$=N>1024,k=N>1600;let G;A?G=Math.min(N*.98,N-20):B?G=Math.min(N*.92,N-60):k?G=Math.min(N*.85,1400):G=Math.min(N*.88,1200);const Z=I*(A?.95:.9),Q=Math.min(I*(A?.7:.6),A?500:600),he=A?Math.max(15,N*.03):Math.max(20,N*.025);return{containerStyle:{width:`${G}px`,maxHeight:`${Z}px`,minHeight:`${Q}px`,transition:"all 0.3s ease"},contentStyle:{padding:`${he}px`,transition:"all 0.3s ease"},networkGridStyle:{gridTemplateColumns:A?"1fr":B?"repeat(auto-fit, minmax(280px, 1fr))":"repeat(auto-fit, minmax(300px, 1fr))",gap:`${A?15:$?25:20}px`}}},{containerStyle:v,contentStyle:P,networkGridStyle:E}=p(),x=N=>{r(N),e(N)},j=()=>{if(n){if(n.isWeb2){t(n);return}m&&h?t(n):(e(n),y())}};return L.useEffect(()=>{m&&h&&n&&t(n)},[m,h,n,t]),s?u.jsx("div",{className:"network-scanner-overlay",children:u.jsx("div",{className:"scanner-container",style:v,children:u.jsxs("div",{className:"scanner-content",style:P,children:[u.jsxs("div",{className:"terminal-header",children:[u.jsx("div",{className:"terminal-title",children:"NETWORK SCANNER PROTOCOL"}),u.jsxs("div",{className:"terminal-buttons",children:[u.jsx("div",{className:"terminal-button red"}),u.jsx("div",{className:"terminal-button yellow"}),u.jsx("div",{className:"terminal-button green"})]})]}),u.jsx("div",{className:"logo-section",children:u.jsx("div",{className:"pixel-logo",children:u.jsxs("div",{className:"logo-text",children:[u.jsx("span",{className:"logo-main",children:"BUDDY"}),u.jsx("span",{className:"logo-accent",children:"RUNNER"})]})})}),u.jsx("div",{className:"scanner-display",children:u.jsxs("div",{className:"radar-container",children:[u.jsx("div",{className:"radar-sweep"}),u.jsx("div",{className:"radar-grid"})]})}),u.jsxs("div",{className:"scanner-text",children:[u.jsx("span",{className:"terminal-prompt",children:">"})," ",o]})]})})}):u.jsx("div",{className:"network-selection-overlay",children:u.jsx("div",{className:"network-selection-container",style:v,children:u.jsxs("div",{className:"network-selection-content",style:P,children:[u.jsxs("div",{className:"terminal-header",children:[u.jsx("div",{className:"terminal-title",children:"BLOCKCHAIN NETWORK SELECTOR"}),u.jsxs("div",{className:"terminal-buttons",children:[u.jsx("div",{className:"terminal-button red"}),u.jsx("div",{className:"terminal-button yellow"}),u.jsx("div",{className:"terminal-button green"})]})]}),u.jsx("div",{className:"logo-section",children:u.jsxs("div",{className:"pixel-logo",children:[u.jsxs("div",{className:"logo-text",children:[u.jsx("span",{className:"logo-main",children:"BUDDY"}),u.jsx("span",{className:"logo-accent",children:"RUNNER"})]}),u.jsxs("div",{className:"logo-powered",children:["POWERED BY ",u.jsx("strong",{children:"MEGA BUDDIES"})]})]})}),u.jsxs("div",{className:"mission-briefing",children:[u.jsx("div",{className:"briefing-title",children:"MISSION BRIEFING"}),u.jsxs("div",{className:"briefing-content",children:[u.jsxs("div",{className:"terminal-text",children:[u.jsx("span",{className:"terminal-prompt",children:">"})," OBJECTIVE: SURVIVE 60 SECONDS ON EACH NETWORK"]}),u.jsxs("div",{className:"terminal-text",children:[u.jsx("span",{className:"terminal-prompt",children:">"})," ANALYZE BLOCK TIME IMPACT ON USER EXPERIENCE"]}),u.jsxs("div",{className:"terminal-text",children:[u.jsx("span",{className:"terminal-prompt",children:">"})," DISCOVER THE POWER OF REAL-TIME BLOCKCHAIN"]})]})]}),u.jsxs("div",{className:"network-selection",children:[u.jsx("div",{className:"selection-title",children:"SELECT TARGET BLOCKCHAIN NETWORK:"}),u.jsx("div",{className:"network-grid",style:E,children:T.map(N=>u.jsxs("div",{className:`network-card ${(n==null?void 0:n.id)===N.id?"selected":""}`,onClick:()=>x(N),children:[u.jsxs("div",{className:"network-header",children:[u.jsx("div",{className:"network-icon",children:N.icon}),u.jsx("div",{className:"network-status","data-status":N.status,children:N.status})]}),u.jsxs("div",{className:"network-info",children:[u.jsx("div",{className:"network-name",children:N.name}),u.jsx("div",{className:"network-description",children:N.description}),u.jsx("div",{className:"network-tech",children:N.tech})]}),u.jsxs("div",{className:"network-specs",children:[u.jsxs("div",{className:"spec-item",children:[u.jsx("span",{className:"spec-label",children:N.isWeb2?"TYPE:":"CHAIN ID:"}),u.jsx("span",{className:"spec-value",children:N.isWeb2?"WEB2":N.id})]}),u.jsxs("div",{className:"spec-item",children:[u.jsx("span",{className:"spec-label",children:"NETWORK:"}),u.jsx("span",{className:"spec-value",children:N.isWeb2?"BROWSER":"TESTNET"})]})]}),u.jsx("div",{className:"selection-indicator",children:(n==null?void 0:n.id)===N.id&&u.jsx("div",{className:"selected-glow",children:"SELECTED"})})]},N.id))}),n&&u.jsxs("div",{className:"launch-section",children:[u.jsxs("div",{className:"launch-info",children:[u.jsxs("div",{className:"terminal-text",children:[u.jsx("span",{className:"terminal-prompt",children:">"})," TARGET NETWORK: ",n.name]}),u.jsxs("div",{className:"terminal-text",children:[u.jsx("span",{className:"terminal-prompt",children:">"})," MISSION STATUS: READY FOR DEPLOYMENT"]})]}),u.jsxs("button",{className:"launch-button",onClick:j,children:[u.jsx("span",{className:"button-icon",children:"🚀"}),"LAUNCH MISSION ON ",n.name,u.jsx("div",{className:"button-glow"})]})]})]})]})})})},Mc=({onWalletConnected:e})=>{const{user:t,authenticated:n,ready:r}=It(),{login:s}=tn(),[a,o]=L.useState("INITIALIZING"),[i,l]=L.useState("");L.useEffect(()=>{n&&t&&e()},[n,t,e]),L.useEffect(()=>{const h=setInterval(()=>{l(y=>y.length>=3?"":y+".")},500),m=setInterval(()=>{const y=["INITIALIZING","LOADING SYSTEMS","CONNECTING","SYNCING"];o(y[Math.floor(Math.random()*y.length)])},2e3);return()=>{clearInterval(h),clearInterval(m)}},[]);const d=()=>{s()};return r?u.jsx("div",{className:"wallet-connection-overlay",children:u.jsx("div",{className:"wallet-connection-container",children:u.jsxs("div",{className:"wallet-connection-content",children:[u.jsxs("div",{className:"terminal-header",children:[u.jsx("div",{className:"terminal-title",children:"WALLET CONNECTION PROTOCOL"}),u.jsxs("div",{className:"terminal-buttons",children:[u.jsx("div",{className:"terminal-button red"}),u.jsx("div",{className:"terminal-button yellow"}),u.jsx("div",{className:"terminal-button green"})]})]}),u.jsx("div",{className:"logo-section",children:u.jsxs("div",{className:"pixel-logo",children:[u.jsxs("div",{className:"logo-text",children:[u.jsx("span",{className:"logo-main",children:"BUDDY"}),u.jsx("span",{className:"logo-accent",children:"RUNNER"})]}),u.jsxs("div",{className:"logo-powered",children:["POWERED BY ",u.jsx("strong",{children:"MEGA BUDDIES"})]})]})}),u.jsxs("div",{className:"connection-section",children:[u.jsx("div",{className:"connection-icon",children:"🔗"}),u.jsx("h2",{className:"connection-title",children:"AUTHENTICATION REQUIRED"}),u.jsxs("div",{className:"terminal-content",children:[u.jsxs("div",{className:"terminal-text",children:[u.jsx("span",{className:"terminal-prompt",children:">"})," CONNECT YOUR WALLET TO ACCESS THE GAME"]}),u.jsxs("div",{className:"terminal-text",children:[u.jsx("span",{className:"terminal-prompt",children:">"})," ALL SCORES WILL BE STORED ON-CHAIN"]}),u.jsxs("div",{className:"terminal-text",children:[u.jsx("span",{className:"terminal-prompt",children:">"})," SECURE BLOCKCHAIN AUTHENTICATION"]})]}),u.jsxs("button",{className:"connect-wallet-button",onClick:d,children:[u.jsx("span",{className:"button-icon",children:"🔐"}),"CONNECT WALLET",u.jsx("div",{className:"button-glow"})]}),u.jsxs("div",{className:"supported-options",children:[u.jsx("div",{className:"options-title",children:"SUPPORTED AUTHENTICATION METHODS:"}),u.jsxs("div",{className:"options-grid",children:[u.jsxs("div",{className:"option-item",children:[u.jsx("span",{className:"option-icon",children:"📧"}),u.jsx("span",{className:"option-text",children:"EMAIL"})]}),u.jsxs("div",{className:"option-item",children:[u.jsx("span",{className:"option-icon",children:"📱"}),u.jsx("span",{className:"option-text",children:"PHONE"})]}),u.jsxs("div",{className:"option-item",children:[u.jsx("span",{className:"option-icon",children:"🦊"}),u.jsx("span",{className:"option-text",children:"METAMASK"})]}),u.jsxs("div",{className:"option-item",children:[u.jsx("span",{className:"option-icon",children:"💼"}),u.jsx("span",{className:"option-text",children:"OTHER WALLETS"})]})]})]}),u.jsxs("div",{className:"security-info",children:[u.jsxs("div",{className:"terminal-text",children:[u.jsx("span",{className:"terminal-prompt",children:">"})," SECURITY: 256-BIT ENCRYPTION"]}),u.jsxs("div",{className:"terminal-text",children:[u.jsx("span",{className:"terminal-prompt",children:">"})," NETWORK: MEGAETH COMPATIBLE"]})]})]})]})})}):u.jsx("div",{className:"preloader-overlay",children:u.jsx("div",{className:"preloader-container",children:u.jsxs("div",{className:"preloader-content",children:[u.jsxs("div",{className:"terminal-header",children:[u.jsx("div",{className:"terminal-title",children:"BUDDY RUNNER SYSTEM"}),u.jsxs("div",{className:"terminal-buttons",children:[u.jsx("div",{className:"terminal-button red"}),u.jsx("div",{className:"terminal-button yellow"}),u.jsx("div",{className:"terminal-button green"})]})]}),u.jsx("div",{className:"logo-section",children:u.jsx("div",{className:"pixel-logo",children:u.jsxs("div",{className:"logo-text",children:[u.jsx("span",{className:"logo-main",children:"BUDDY"}),u.jsx("span",{className:"logo-accent",children:"RUNNER"})]})})}),u.jsx("div",{className:"loading-bar",children:u.jsx("div",{className:"progress",style:{width:"100%"}})}),u.jsxs("div",{className:"loading-text",children:[a,u.jsx("span",{className:"dots",children:i})]}),u.jsxs("div",{className:"terminal-text",children:[u.jsx("span",{className:"terminal-prompt",children:">"})," System initialization in progress..."]})]})})})};var Fc={};const Bc=()=>{const e="cme84q0og02aalc0bh9blzwa9",[t,n]=L.useState("network-selection"),[r,s]=L.useState(null),a={id:6342,name:"MegaETH Testnet",network:"megaeth-testnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://carrot.megaeth.com/rpc"],webSocket:["wss://carrot.megaeth.com/ws"]}},blockExplorers:{default:{name:"MegaETH Explorer",url:"https://carrot.megaeth.com"}}},d={appId:"cm25q62mj00nks8j5lxk4qyly",config:{appearance:{theme:"dark",accentColor:"#1391ff",logo:"https://images.unsplash.com/photo-1614680376573-df3480f0c6ff?w=100&h=100&fit=crop&crop=center",walletChainType:"ethereum-and-solana",showWalletLoginFirst:!1},embeddedWallets:{createOnLogin:"all-users",requireUserPasswordOnCreate:!1,prependWithWalletUi:!1,noPromptOnSignature:!0},loginMethods:["email","wallet","google","discord","twitter"],defaultChain:a,supportedChains:[a,{id:31337,name:"Foundry Local",network:"foundry",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["http://127.0.0.1:8545"]}}},{id:50311,name:"Somnia Testnet",network:"somnia-testnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://testnet.somnia.network"]}}},{id:1313161556,name:"RISE Testnet",network:"rise-testnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://testnet-rpc.rise.com"]}}},{id:84532,name:"Base Sepolia",network:"base-sepolia",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Base Sepolia Explorer",url:"https://sepolia.basescan.org"}}},{id:10143,name:"Monad Testnet",network:"monad-testnet",nativeCurrency:{name:"Monad",symbol:"MON",decimals:18},rpcUrls:{default:{http:["https://testnet-rpc.monad.xyz"]}},blockExplorers:{default:{name:"Monad Explorer",url:"https://testnet.monadexplorer.com"}}},{id:1,name:"Ethereum",network:"homestead",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://eth-mainnet.g.alchemy.com/v2/your-api-key"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io"}}},{id:11155111,name:"Sepolia",network:"sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.infura.io/v3/your-api-key"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.etherscan.io"}}}],walletConnectCloudProjectId:Fc.REACT_APP_WALLETCONNECT_PROJECT_ID||"default",legal:{termsAndConditionsUrl:"/terms",privacyPolicyUrl:"/privacy"},mfa:{noPromptOnMfaRequired:!1}}},h=v=>{s(v)},m=v=>{s(v),v.isWeb2?n("game"):n("wallet-connection")},y=()=>{n("game")},T=()=>{n("network-selection"),s(null)},p=()=>{n("network-selection"),s(null)};return u.jsx(zs,{appId:e,config:d,children:u.jsx("div",{className:"app",children:t==="network-selection"?u.jsx(Ic,{onNetworkSelect:h,onStartGame:m}):t==="wallet-connection"?u.jsxs("div",{children:[u.jsx("div",{className:"back-to-wallet",children:u.jsx("button",{className:"back-button-small",onClick:T,children:"← Back to Network Selection"})}),u.jsx(Mc,{onWalletConnected:y})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"back-to-network-button",children:u.jsx("button",{className:"back-button",onClick:T,children:"← Back to Network Selection"})}),r&&!r.isWeb2&&u.jsx(Oc,{selectedNetwork:r,onDisconnect:p,disableNetworkControls:!0}),u.jsx("div",{className:"game-layout",children:u.jsx("div",{className:"game-header",children:u.jsx("div",{className:"header-center",children:u.jsxs("div",{className:"title",children:["Buddy Runner",r&&r.isWeb2&&u.jsx("span",{className:"web2-mode",children:" - Classic Mode"})]})})})}),u.jsx($c,{selectedNetwork:r}),u.jsxs("div",{className:"instructions",children:[u.jsx("p",{className:"main-instruction",children:"📱 Press SPACE or tap to make Buddy jump!"}),u.jsx("p",{className:"help-text",children:"Help our brave bunny Buddy hop over the giant carrots and achieve the highest score!"}),u.jsx("p",{className:"warning-text",children:"Watch out for those sneaky garden carrots!"})]})]})})})};Nn.createRoot(document.getElementById("root")).render(u.jsx(_s.StrictMode,{children:u.jsx(Bc,{})}));export{S as B,mt as H,pt as I,Me as a,Ae as b,hn as c,wo as d,Mt as e,rn as g,Ge as i,fe as s};
