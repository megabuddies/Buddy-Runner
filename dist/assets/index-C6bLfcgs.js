const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ccip-CD-CfKnY.js","assets/privy-CJey9ZCd.js","assets/vendor-C7A1SLig.js"])))=>i.map(i=>d[i]);
var Hs=Object.defineProperty;var _s=(e,t,n)=>t in e?Hs(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var re=(e,t,n)=>_s(e,typeof t!="symbol"?t+"":t,n);import{_ as Ws,m as ct,o as on,j as u,i as cn,a as qs,X as Ks}from"./privy-CJey9ZCd.js";import{b as Js,r as F,R as Ys}from"./vendor-C7A1SLig.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();var On={},Nr=Js;On.createRoot=Nr.createRoot,On.hydrateRoot=Nr.hydrateRoot;function Vs(e,t){const n=e.exec(t);return n==null?void 0:n.groups}const Cr=/^tuple(?<array>(\[(\d*)\])*)$/;function Mn(e){let t=e.type;if(Cr.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){const a=e.components[s];t+=Mn(a),s<n-1&&(t+=", ")}const r=Vs(Cr,e.type);return t+=`)${(r==null?void 0:r.array)??""}`,Mn({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function bt(e){let t="";const n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=Mn(s),r!==n-1&&(t+=", ")}return t}function Xs(e){return e.type==="function"?`function ${e.name}(${bt(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${e.outputs.length?` returns (${bt(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${bt(e.inputs)})`:e.type==="error"?`error ${e.name}(${bt(e.inputs)})`:e.type==="constructor"?`constructor(${bt(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?"fallback()":"receive() external payable"}function K(e,t,n){return r=>{var s;return((s=e[t.name||n])==null?void 0:s.call(e,r))??t(e,r)}}function Fe(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new ma(e.type);return`${e.name}(${ln(e.inputs,{includeName:t})})`}function ln(e,{includeName:t=!1}={}){return e?e.map(n=>Zs(n,{includeName:t})).join(t?", ":","):""}function Zs(e,{includeName:t}){return e.type.startsWith("tuple")?`(${ln(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}function Ae(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function le(e){return Ae(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const Qs="1.21.3",ea=e=>e,un=e=>e,ta=()=>`viem@${Qs}`;class O extends Error{constructor(t,n={}){var a;super(),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:ta()});const r=n.cause instanceof O?n.cause.details:(a=n.cause)!=null&&a.message?n.cause.message:n.details,s=n.cause instanceof O&&n.cause.docsPath||n.docsPath;this.message=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://viem.sh${s}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}walk(t){return Hr(this,t)}}function Hr(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e?Hr(e.cause,t):t?null:e}class na extends O{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorNotFoundError"})}}class jr extends O{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorParamsNotFoundError"})}}class tr extends O{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${ln(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class dn extends O{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingZeroDataError"})}}class ra extends O{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingArrayLengthMismatchError"})}}class sa extends O{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${le(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingBytesSizeMismatchError"})}}class aa extends O{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingLengthMismatchError"})}}class _r extends O{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class oa extends O{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureEmptyTopicsError"})}}class ia extends O{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureNotFoundError"})}}class Rr extends O{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventNotFoundError"})}}class nn extends O{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionNotFoundError"})}}class ca extends O{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionOutputsNotFoundError"})}}class la extends O{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${Fe(t.abiItem)}\`, and`,`\`${n.type}\` in \`${Fe(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItemAmbiguityError"})}}class ua extends O{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytesSizeMismatchError"})}}class Qe extends O{constructor({abiItem:t,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${ln(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=s}}class lt extends O{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${Fe(t,{includeName:!0})}".`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class da extends O{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiEncodingType"})}}class fa extends O{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiDecodingType"})}}class ha extends O{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidArrayError"})}}class ma extends O{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidDefinitionTypeError"})}}class ga extends O{constructor(t){super(`Filter type "${t}" is not supported.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FilterTypeNotSupportedError"})}}class Wr extends O{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${r}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SliceOffsetOutOfBoundsError"})}}class qr extends O{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeExceedsPaddingSizeError"})}}function ut(e,{dir:t,size:n=32}={}){return typeof e=="string"?Ge(e,{dir:t,size:n}):pa(e,{dir:t,size:n})}function Ge(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new qr({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function pa(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new qr({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const a=t==="right";r[a?s:n-s-1]=e[a?s:e.length-s-1]}return r}class ba extends O{constructor({max:t,min:n,signed:r,size:s,value:a}){super(`Number "${a}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntegerOutOfRangeError"})}}class ya extends O{constructor(t){super(`Hex value "${t}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidHexBooleanError"})}}class wa extends O{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"})}}function st(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,r=0;for(let s=0;s<n.length-1&&n[t==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=t==="left"?n.slice(r):n.slice(0,n.length-r),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function We(e,{size:t}){if(le(e)>t)throw new wa({givenSize:le(e),maxSize:t})}function fn(e,t={}){const{signed:n}=t;t.size&&We(e,{size:t.size});const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,a=(1n<<BigInt(s)*8n-1n)-1n;return r<=a?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function xa(e,t={}){let n=e;if(t.size&&(We(n,{size:t.size}),n=st(n)),st(n)==="0x00")return!1;if(st(n)==="0x01")return!0;throw new ya(n)}function he(e,t={}){return Number(fn(e,t))}function va(e,t={}){let n=rr(e);return t.size&&(We(n,{size:t.size}),n=st(n,{dir:"right"})),new TextDecoder().decode(n)}const Ta=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function De(e,t={}){return typeof e=="number"||typeof e=="bigint"?V(e,t):typeof e=="string"?nr(e,t):typeof e=="boolean"?Kr(e,t):vt(e,t)}function Kr(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(We(n,{size:t.size}),ut(n,{size:t.size})):n}function vt(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=Ta[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(We(r,{size:t.size}),ut(r,{dir:"right",size:t.size})):r}function V(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let a;r?n?a=(1n<<BigInt(r)*8n-1n)-1n:a=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(a=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof a=="bigint"&&n?-a-1n:0;if(a&&s>a||s<o){const l=typeof e=="bigint"?"n":"";throw new ba({max:a?`${a}${l}`:void 0,min:`${o}${l}`,signed:n,size:r,value:`${e}${l}`})}const i=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?ut(i,{size:r}):i}const Ea=new TextEncoder;function nr(e,t={}){const n=Ea.encode(e);return vt(n,t)}const Pa=new TextEncoder;function ze(e,t={}){return typeof e=="number"||typeof e=="bigint"?Ca(e,t):typeof e=="boolean"?Na(e,t):Ae(e)?rr(e,t):ke(e,t)}function Na(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(We(n,{size:t.size}),ut(n,{size:t.size})):n}const Oe={zero:48,nine:57,A:65,F:70,a:97,f:102};function Sr(e){if(e>=Oe.zero&&e<=Oe.nine)return e-Oe.zero;if(e>=Oe.A&&e<=Oe.F)return e-(Oe.A-10);if(e>=Oe.a&&e<=Oe.f)return e-(Oe.a-10)}function rr(e,t={}){let n=e;t.size&&(We(n,{size:t.size}),n=ut(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,a=new Uint8Array(s);for(let o=0,i=0;o<s;o++){const l=Sr(r.charCodeAt(i++)),g=Sr(r.charCodeAt(i++));if(l===void 0||g===void 0)throw new O(`Invalid byte sequence ("${r[i-2]}${r[i-1]}" in "${r}").`);a[o]=l*16+g}return a}function Ca(e,t){const n=V(e,t);return rr(n)}function ke(e,t={}){const n=Pa.encode(e);return typeof t.size=="number"?(We(n,{size:t.size}),ut(n,{dir:"right",size:t.size})):n}function ja(e){let t=!0,n="",r=0,s="",a=!1;for(let o=0;o<e.length;o++){const i=e[o];if(["(",")",","].includes(i)&&(t=!0),i==="("&&r++,i===")"&&r--,!!t){if(r===0){if(i===" "&&["event","function",""].includes(s))s="";else if(s+=i,i===")"){a=!0;break}continue}if(i===" "){e[o-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=i,n+=i}}if(!a)throw new O("Unable to normalize signature.");return s}const Jr=e=>{const t=typeof e=="string"?e:Xs(e);return ja(t)},Ra=e=>Jr(e);function Ar(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function Yr(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function $r(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Sa(e,t){Yr(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const Zt=BigInt(2**32-1),Ir=BigInt(32);function Aa(e,t=!1){return t?{h:Number(e&Zt),l:Number(e>>Ir&Zt)}:{h:Number(e>>Ir&Zt)|0,l:Number(e&Zt)|0}}function $a(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:a,l:o}=Aa(e[s],t);[n[s],r[s]]=[a,o]}return[n,r]}const Ia=(e,t,n)=>e<<n|t>>>32-n,Oa=(e,t,n)=>t<<n|e>>>32-n,Ma=(e,t,n)=>t<<n-32|e>>>64-n,ka=(e,t,n)=>e<<n-32|t>>>64-n;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Fa=e=>e instanceof Uint8Array,Ba=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),Da=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Da)throw new Error("Non little-endian hardware is not supported");function La(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function Vr(e){if(typeof e=="string"&&(e=La(e)),!Fa(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}class Ga{clone(){return this._cloneInto()}}function za(e){const t=r=>e().update(Vr(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}const[Xr,Zr,Qr]=[[],[],[]],Ua=BigInt(0),yt=BigInt(1),Ha=BigInt(2),_a=BigInt(7),Wa=BigInt(256),qa=BigInt(113);for(let e=0,t=yt,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],Xr.push(2*(5*r+n)),Zr.push((e+1)*(e+2)/2%64);let s=Ua;for(let a=0;a<7;a++)t=(t<<yt^(t>>_a)*qa)%Wa,t&Ha&&(s^=yt<<(yt<<BigInt(a))-yt);Qr.push(s)}const[Ka,Ja]=$a(Qr,!0),Or=(e,t,n)=>n>32?Ma(e,t,n):Ia(e,t,n),Mr=(e,t,n)=>n>32?ka(e,t,n):Oa(e,t,n);function Ya(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let o=0;o<10;o++)n[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const i=(o+8)%10,l=(o+2)%10,g=n[l],m=n[l+1],y=Or(g,m,1)^n[i],x=Mr(g,m,1)^n[i+1];for(let C=0;C<50;C+=10)e[o+C]^=y,e[o+C+1]^=x}let s=e[2],a=e[3];for(let o=0;o<24;o++){const i=Zr[o],l=Or(s,a,i),g=Mr(s,a,i),m=Xr[o];s=e[m],a=e[m+1],e[m]=l,e[m+1]=g}for(let o=0;o<50;o+=10){for(let i=0;i<10;i++)n[i]=e[o+i];for(let i=0;i<10;i++)e[o+i]^=~n[(i+2)%10]&n[(i+4)%10]}e[0]^=Ka[r],e[1]^=Ja[r]}n.fill(0)}class sr extends Ga{constructor(t,n,r,s=!1,a=24){if(super(),this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=a,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Ar(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Ba(this.state)}keccak(){Ya(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){$r(this);const{blockLen:n,state:r}=this;t=Vr(t);const s=t.length;for(let a=0;a<s;){const o=Math.min(n-this.pos,s-a);for(let i=0;i<o;i++)r[this.pos++]^=t[a++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,n&128&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){$r(this,!1),Yr(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,a=t.length;s<a;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,a-s);t.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Ar(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Sa(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:a,enableXOF:o}=this;return t||(t=new sr(n,r,s,o,a)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=a,t.suffix=r,t.outputLen=s,t.enableXOF=o,t.destroyed=this.destroyed,t}}const Va=(e,t,n)=>za(()=>new sr(t,e,n)),Xa=Va(1,136,256/8);function pe(e,t){const n=t||"hex",r=Xa(Ae(e,{strict:!1})?ze(e):e);return n==="bytes"?r:De(r)}const Za=e=>pe(ze(e)),ar=e=>Za(Ra(e));class Tt extends O{constructor({address:t}){super(`Address "${t}" is invalid.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}}const Qa=/^0x[a-fA-F0-9]{40}$/;function Ue(e){return Qa.test(e)}function Be(e){return typeof e[0]=="string"?or(e):eo(e)}function eo(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function or(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function ie(e,t,n,{strict:r}={}){return Ae(e,{strict:!1})?no(e,t,n,{strict:r}):to(e,t,n,{strict:r})}function es(e,t){if(typeof t=="number"&&t>0&&t>le(e)-1)throw new Wr({offset:t,position:"start",size:le(e)})}function ts(e,t,n){if(typeof t=="number"&&typeof n=="number"&&le(e)!==n-t)throw new Wr({offset:n,position:"end",size:le(e)})}function to(e,t,n,{strict:r}={}){es(e,t);const s=e.slice(t,n);return r&&ts(s,t,n),s}function no(e,t,n,{strict:r}={}){es(e,t);const s=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&ts(s,t,n),s}function Gt(e,t){if(e.length!==t.length)throw new aa({expectedLength:e.length,givenLength:t.length});const n=ro({params:e,values:t}),r=cr(n);return r.length===0?"0x":r}function ro({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(ir({param:e[r],value:t[r]}));return n}function ir({param:e,value:t}){const n=hn(e.type);if(n){const[r,s]=n;return ao(t,{length:r,param:{...e,type:s}})}if(e.type==="tuple")return uo(t,{param:e});if(e.type==="address")return so(t);if(e.type==="bool")return io(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int");return co(t,{signed:r})}if(e.type.startsWith("bytes"))return oo(t,{param:e});if(e.type==="string")return lo(t);throw new da(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function cr(e){let t=0;for(let a=0;a<e.length;a++){const{dynamic:o,encoded:i}=e[a];o?t+=32:t+=le(i)}const n=[],r=[];let s=0;for(let a=0;a<e.length;a++){const{dynamic:o,encoded:i}=e[a];o?(n.push(V(t+s,{size:32})),r.push(i),s+=le(i)):n.push(i)}return Be([...n,...r])}function so(e){if(!Ue(e))throw new Tt({address:e});return{dynamic:!1,encoded:Ge(e.toLowerCase())}}function ao(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new ha(e);if(!r&&e.length!==t)throw new ra({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const a=[];for(let o=0;o<e.length;o++){const i=ir({param:n,value:e[o]});i.dynamic&&(s=!0),a.push(i)}if(r||s){const o=cr(a);if(r){const i=V(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?Be([i,o]):i}}if(s)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:Be(a.map(({encoded:o})=>o))}}function oo(e,{param:t}){const[,n]=t.type.split("bytes"),r=le(e);if(!n){let s=e;return r%32!==0&&(s=Ge(s,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:Be([Ge(V(r,{size:32})),s])}}if(r!==parseInt(n))throw new sa({expectedSize:parseInt(n),value:e});return{dynamic:!1,encoded:Ge(e,{dir:"right"})}}function io(e){return{dynamic:!1,encoded:Ge(Kr(e))}}function co(e,{signed:t}){return{dynamic:!1,encoded:V(e,{size:32,signed:t})}}function lo(e){const t=nr(e),n=Math.ceil(le(t)/32),r=[];for(let s=0;s<n;s++)r.push(Ge(ie(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Be([Ge(V(le(t),{size:32})),...r])}}function uo(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const a=t.components[s],o=Array.isArray(e)?s:a.name,i=ir({param:a,value:e[o]});r.push(i),i.dynamic&&(n=!0)}return{dynamic:n,encoded:n?cr(r):Be(r.map(({encoded:s})=>s))}}function hn(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const fo=e=>pe(ze(e)),lr=e=>ie(fo(Jr(e)),0,4);function zt({abi:e,args:t=[],name:n}){const r=Ae(n,{strict:!1}),s=e.filter(o=>r?o.type==="function"?lr(o)===n:o.type==="event"?ar(o)===n:!1:"name"in o&&o.name===n);if(s.length===0)return;if(s.length===1)return s[0];let a;for(const o of s){if(!("inputs"in o))continue;if(!t||t.length===0){if(!o.inputs||o.inputs.length===0)return o;continue}if(!o.inputs||o.inputs.length===0||o.inputs.length!==t.length)continue;if(t.every((l,g)=>{const m="inputs"in o&&o.inputs[g];return m?kn(l,m):!1})){if(a&&"inputs"in a&&a.inputs){const l=ns(o.inputs,a.inputs,t);if(l)throw new la({abiItem:o,type:l[0]},{abiItem:a,type:l[1]})}a=o}}return a||s[0]}function kn(e,t){const n=typeof e,r=t.type;switch(r){case"address":return Ue(e);case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,a)=>kn(Object.values(e)[a],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>kn(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function ns(e,t,n){for(const r in e){const s=e[r],a=t[r];if(s.type==="tuple"&&a.type==="tuple"&&"components"in s&&"components"in a)return ns(s.components,a.components,n[r]);const o=[s.type,a.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")||o.includes("address")&&o.includes("bytes")?Ue(n[r]):!1)return o}}function Ut({abi:e,eventName:t,args:n}){var i;let r=e[0];if(t&&(r=zt({abi:e,args:n,name:t}),!r))throw new Rr(t,{docsPath:"/docs/contract/encodeEventTopics"});if(r.type!=="event")throw new Rr(void 0,{docsPath:"/docs/contract/encodeEventTopics"});const s=Fe(r),a=ar(s);let o=[];if(n&&"inputs"in r){const l=(i=r.inputs)==null?void 0:i.filter(m=>"indexed"in m&&m.indexed),g=Array.isArray(n)?n:Object.values(n).length>0?(l==null?void 0:l.map(m=>n[m.name]))??[]:[];g.length>0&&(o=(l==null?void 0:l.map((m,y)=>Array.isArray(g[y])?g[y].map((x,C)=>kr({param:m,value:g[y][C]})):g[y]?kr({param:m,value:g[y]}):null))??[])}return[a,...o]}function kr({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return pe(ze(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new ga(e.type);return Gt([e],[t])}function mn(e,{method:t}){var r,s;const n={};return e.transport.type==="fallback"&&((s=(r=e.transport).onResponse)==null||s.call(r,({method:a,response:o,status:i,transport:l})=>{i==="success"&&t===a&&(n[o]=l.request)})),a=>n[a]||e.request}async function rs(e,{address:t,abi:n,args:r,eventName:s,fromBlock:a,strict:o,toBlock:i}){const l=mn(e,{method:"eth_newFilter"}),g=s?Ut({abi:n,args:r,eventName:s}):void 0,m=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof a=="bigint"?V(a):a,toBlock:typeof i=="bigint"?V(i):i,topics:g}]});return{abi:n,args:r,eventName:s,id:m,request:l(m),strict:o,type:"event"}}function Pe(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}function qe({abi:e,args:t,functionName:n}){let r=e[0];if(n&&(r=zt({abi:e,args:t,name:n}),!r))throw new nn(n,{docsPath:"/docs/contract/encodeFunctionData"});if(r.type!=="function")throw new nn(void 0,{docsPath:"/docs/contract/encodeFunctionData"});const s=Fe(r),a=lr(s),o="inputs"in r&&r.inputs?Gt(r.inputs,t??[]):void 0;return or([a,o??"0x"])}const ss={1:"An `assert` condition failed.",17:"Arithmic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},ho={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},mo={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function ur(e,t){const n=e.substring(2).toLowerCase(),r=pe(ke(n),"bytes"),s=n.split("");for(let a=0;a<40;a+=2)r[a>>1]>>4>=8&&s[a]&&(s[a]=s[a].toUpperCase()),(r[a>>1]&15)>=8&&s[a+1]&&(s[a+1]=s[a+1].toUpperCase());return`0x${s.join("")}`}function go(e,t){if(!Ue(e))throw new Tt({address:e});return ur(e)}function gn(e,t){if(t==="0x"&&e.length>0)throw new dn;if(le(t)&&le(t)<32)throw new tr({data:t,params:e,size:le(t)});return po({data:t,params:e})}function po({data:e,params:t}){const n=[];let r=0;for(let s=0;s<t.length;s++){if(r>=le(e))throw new tr({data:e,params:t,size:le(e)});const a=t[s],{consumed:o,value:i}=at({data:e,param:a,position:r});n.push(i),r+=o}return n}function at({data:e,param:t,position:n}){const r=hn(t.type);if(r){const[a,o]=r;return yo(e,{length:a,param:{...t,type:o},position:n})}if(t.type==="tuple")return Eo(e,{param:t,position:n});if(t.type==="string")return To(e,{position:n});if(t.type.startsWith("bytes"))return xo(e,{param:t,position:n});const s=ie(e,n,n+32,{strict:!0});if(t.type.startsWith("uint")||t.type.startsWith("int"))return vo(s,{param:t});if(t.type==="address")return bo(s);if(t.type==="bool")return wo(s);throw new fa(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}function bo(e){return{consumed:32,value:ur(ie(e,-20))}}function yo(e,{param:t,length:n,position:r}){if(!n){const o=he(ie(e,r,r+32,{strict:!0})),i=he(ie(e,o,o+32,{strict:!0}));let l=0;const g=[];for(let m=0;m<i;++m){const y=at({data:ie(e,o+32),param:t,position:l});l+=y.consumed,g.push(y.value)}return{value:g,consumed:32}}if(rn(t)){const o=hn(t.type),i=!(o!=null&&o[0]);let l=0;const g=[];for(let m=0;m<n;++m){const y=he(ie(e,r,r+32,{strict:!0})),x=at({data:ie(e,y),param:t,position:i?l:m*32});l+=x.consumed,g.push(x.value)}return{value:g,consumed:32}}let s=0;const a=[];for(let o=0;o<n;++o){const i=at({data:e,param:t,position:r+s});s+=i.consumed,a.push(i.value)}return{value:a,consumed:s}}function wo(e){return{consumed:32,value:xa(e)}}function xo(e,{param:t,position:n}){const[r,s]=t.type.split("bytes");if(!s){const o=he(ie(e,n,n+32,{strict:!0})),i=he(ie(e,o,o+32,{strict:!0}));return i===0?{consumed:32,value:"0x"}:{consumed:32,value:ie(e,o+32,o+32+i,{strict:!0})}}return{consumed:32,value:ie(e,n,n+parseInt(s),{strict:!0})}}function vo(e,{param:t}){const n=t.type.startsWith("int");return{consumed:32,value:parseInt(t.type.split("int")[1]||"256")>48?fn(e,{signed:n}):he(e,{signed:n})}}function To(e,{position:t}){const n=he(ie(e,t,t+32,{strict:!0})),r=he(ie(e,n,n+32,{strict:!0}));return r===0?{consumed:32,value:""}:{consumed:32,value:va(st(ie(e,n+32,n+32+r,{strict:!0})))}}function Eo(e,{param:t,position:n}){const r=t.components.length===0||t.components.some(({name:o})=>!o),s=r?[]:{};let a=0;if(rn(t)){const o=he(ie(e,n,n+32,{strict:!0}));for(let i=0;i<t.components.length;++i){const l=t.components[i],g=at({data:ie(e,o),param:l,position:a});a+=g.consumed,s[r?i:l==null?void 0:l.name]=g.value}return{consumed:32,value:s}}for(let o=0;o<t.components.length;++o){const i=t.components[o],l=at({data:e,param:i,position:n+a});a+=l.consumed,s[r?o:i==null?void 0:i.name]=l.value}return{consumed:a,value:s}}function rn(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(rn);const n=hn(e.type);return!!(n&&rn({...e,type:n[1]}))}function Po({abi:e,data:t}){const n=ie(t,0,4);if(n==="0x")throw new dn;const s=[...e||[],ho,mo].find(a=>a.type==="error"&&n===lr(Fe(a)));if(!s)throw new _r(n,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:s,args:"inputs"in s&&s.inputs&&s.inputs.length>0?gn(s.inputs,ie(t,4)):void 0,errorName:s.name}}const be=(e,t,n)=>JSON.stringify(e,(r,s)=>{const a=typeof s=="bigint"?s.toString():s;return typeof t=="function"?t(r,a):a},n);function as({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,a)=>`${r&&s.name?`${s.name}: `:""}${typeof t[a]=="object"?be(t[a]):t[a]}`).join(", ")})`}const No={gwei:9,wei:18},os={ether:-9,wei:9};function is(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[s,a]=[n.slice(0,n.length-t),n.slice(n.length-t)];return a=a.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${a?`.${a}`:""}`}function dr(e,t="wei"){return is(e,No[t])}function we(e,t="wei"){return is(e,os[t])}function Ht(e){const t=Object.entries(e).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=t.reduce((r,[s])=>Math.max(r,s.length),0);return t.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class Co extends O{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeConflictError"})}}class jo extends O{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Ht(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- a Legacy Transaction with `gasPrice`"]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSerializableTransactionError"})}}class Ro extends O{constructor(t,{account:n,docsPath:r,chain:s,data:a,gas:o,gasPrice:i,maxFeePerGas:l,maxPriorityFeePerGas:g,nonce:m,to:y,value:x}){var w;const C=Ht({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:n==null?void 0:n.address,to:y,value:typeof x<"u"&&`${dr(x)} ${((w=s==null?void 0:s.nativeCurrency)==null?void 0:w.symbol)||"ETH"}`,data:a,gas:o,gasPrice:typeof i<"u"&&`${we(i)} gwei`,maxFeePerGas:typeof l<"u"&&`${we(l)} gwei`,maxPriorityFeePerGas:typeof g<"u"&&`${we(g)} gwei`,nonce:m});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",C].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionExecutionError"}),this.cause=t}}class cs extends O{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:s,index:a}){let o="Transaction";r&&a!==void 0&&(o=`Transaction at block time "${r}" at index "${a}"`),t&&a!==void 0&&(o=`Transaction at block hash "${t}" at index "${a}"`),n&&a!==void 0&&(o=`Transaction at block number "${n}" at index "${a}"`),s&&(o=`Transaction with hash "${s}"`),super(`${o} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionNotFoundError"})}}class ls extends O{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionReceiptNotFoundError"})}}class So extends O{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WaitForTransactionReceiptTimeoutError"})}}class us extends O{constructor(t,{account:n,docsPath:r,chain:s,data:a,gas:o,gasPrice:i,maxFeePerGas:l,maxPriorityFeePerGas:g,nonce:m,to:y,value:x}){var N;const C=n?Pe(n):void 0,w=Ht({from:C==null?void 0:C.address,to:y,value:typeof x<"u"&&`${dr(x)} ${((N=s==null?void 0:s.nativeCurrency)==null?void 0:N.symbol)||"ETH"}`,data:a,gas:o,gasPrice:typeof i<"u"&&`${we(i)} gwei`,maxFeePerGas:typeof l<"u"&&`${we(l)} gwei`,maxPriorityFeePerGas:typeof g<"u"&&`${we(g)} gwei`,nonce:m});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",w].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CallExecutionError"}),this.cause=t}}class Ao extends O{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:a,functionName:o,sender:i}){const l=zt({abi:n,args:r,name:o}),g=l?as({abiItem:l,args:r,includeFunctionName:!1,includeName:!1}):void 0,m=l?Fe(l,{includeName:!0}):void 0,y=Ht({address:s&&ea(s),function:m,args:g&&g!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${g}`,sender:i});super(t.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:t,docsPath:a,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Contract Call:",y].filter(Boolean)}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionExecutionError"}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=o,this.sender=i}}class Fn extends O{constructor({abi:t,data:n,functionName:r,message:s}){let a,o,i,l;if(n&&n!=="0x")try{o=Po({abi:t,data:n});const{abiItem:m,errorName:y,args:x}=o;if(y==="Error")l=x[0];else if(y==="Panic"){const[C]=x;l=ss[C]}else{const C=m?Fe(m,{includeName:!0}):void 0,w=m&&x?as({abiItem:m,args:x,includeFunctionName:!1,includeName:!1}):void 0;i=[C?`Error: ${C}`:"",w&&w!=="()"?`       ${[...Array((y==null?void 0:y.length)??0).keys()].map(()=>" ").join("")}${w}`:""]}}catch(m){a=m}else s&&(l=s);let g;a instanceof _r&&(g=a.signature,i=[`Unable to decode signature "${g}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${g}.`]),super(l&&l!=="execution reverted"||g?[`The contract function "${r}" reverted with the following ${g?"signature":"reason"}:`,l||g].join(`
`):`The contract function "${r}" reverted.`,{cause:a,metaMessages:i}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.reason=l,this.signature=g}}class $o extends O{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionZeroDataError"})}}class fr extends O{constructor({data:t,message:n}){super(n||""),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RawContractError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}class xt extends O{constructor({body:t,details:n,headers:r,status:s,url:a}){super("HTTP request failed.",{details:n,metaMessages:[s&&`Status: ${s}`,`URL: ${un(a)}`,t&&`Request body: ${be(t)}`].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=r,this.status=s,this.url=a}}class Io extends O{constructor({body:t,details:n,url:r}){super("WebSocket request failed.",{details:n,metaMessages:[`URL: ${un(r)}`,`Request body: ${be(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WebSocketRequestError"})}}class ds extends O{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${un(r)}`,`Request body: ${be(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code}}class Bn extends O{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${un(n)}`,`Request body: ${be(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TimeoutError"})}}const Oo=-1;class xe extends O{constructor(t,{code:n,docsPath:r,metaMessages:s,shortMessage:a}){super(a,{cause:t,docsPath:r,metaMessages:s||(t==null?void 0:t.metaMessages)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=t.name,this.code=t instanceof ds?t.code:n??Oo}}class dt extends xe{constructor(t,n){super(t,n),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Et extends xe{constructor(t){super(t,{code:Et.code,shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ParseRpcError"})}}Object.defineProperty(Et,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Pt extends xe{constructor(t){super(t,{code:Pt.code,shortMessage:"JSON is not a valid request object."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRequestRpcError"})}}Object.defineProperty(Pt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Nt extends xe{constructor(t){super(t,{code:Nt.code,shortMessage:"The method does not exist / is not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotFoundRpcError"})}}Object.defineProperty(Nt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Ct extends xe{constructor(t){super(t,{code:Ct.code,shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParamsRpcError"})}}Object.defineProperty(Ct,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class it extends xe{constructor(t){super(t,{code:it.code,shortMessage:"An internal error was received."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalRpcError"})}}Object.defineProperty(it,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class et extends xe{constructor(t){super(t,{code:et.code,shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidInputRpcError"})}}Object.defineProperty(et,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class jt extends xe{constructor(t){super(t,{code:jt.code,shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(jt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Rt extends xe{constructor(t){super(t,{code:Rt.code,shortMessage:"Requested resource not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceUnavailableRpcError"})}}Object.defineProperty(Rt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class St extends xe{constructor(t){super(t,{code:St.code,shortMessage:"Transaction creation failed."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionRejectedRpcError"})}}Object.defineProperty(St,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class At extends xe{constructor(t){super(t,{code:At.code,shortMessage:"Method is not implemented."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotSupportedRpcError"})}}Object.defineProperty(At,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class $t extends xe{constructor(t){super(t,{code:$t.code,shortMessage:"Request exceeds defined limit."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"LimitExceededRpcError"})}}Object.defineProperty($t,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class It extends xe{constructor(t){super(t,{code:It.code,shortMessage:"Version of JSON-RPC protocol is not supported."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"JsonRpcVersionUnsupportedError"})}}Object.defineProperty(It,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class ot extends dt{constructor(t){super(t,{code:ot.code,shortMessage:"User rejected the request."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UserRejectedRequestError"})}}Object.defineProperty(ot,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class Ot extends dt{constructor(t){super(t,{code:Ot.code,shortMessage:"The requested method and/or account has not been authorized by the user."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnauthorizedProviderError"})}}Object.defineProperty(Ot,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Mt extends dt{constructor(t){super(t,{code:Mt.code,shortMessage:"The Provider does not support the requested method."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedProviderMethodError"})}}Object.defineProperty(Mt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class kt extends dt{constructor(t){super(t,{code:kt.code,shortMessage:"The Provider is disconnected from all chains."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderDisconnectedError"})}}Object.defineProperty(kt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class Ft extends dt{constructor(t){super(t,{code:Ft.code,shortMessage:"The Provider is not connected to the requested chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDisconnectedError"})}}Object.defineProperty(Ft,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Bt extends dt{constructor(t){super(t,{code:Bt.code,shortMessage:"An error occurred when attempting to switch chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainError"})}}Object.defineProperty(Bt,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Mo extends xe{constructor(t){super(t,{shortMessage:"An unknown RPC error occurred."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownRpcError"})}}const ko=3;function Dt(e,{abi:t,address:n,args:r,docsPath:s,functionName:a,sender:o}){const{code:i,data:l,message:g,shortMessage:m}=e instanceof fr?e:e instanceof O?e.walk(x=>"data"in x)||e.walk():{},y=e instanceof dn?new $o({functionName:a}):[ko,it.code].includes(i)&&(l||g||m)?new Fn({abi:t,data:typeof l=="object"?l.data:l,functionName:a,message:m??g}):e;return new Ao(y,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:a,sender:o})}class ft extends O{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the WalletClient."].join(`
`),{docsPath:t,docsSlug:"account"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountNotFoundError"})}}class Fo extends O{constructor(t,{account:n,docsPath:r,chain:s,data:a,gas:o,gasPrice:i,maxFeePerGas:l,maxPriorityFeePerGas:g,nonce:m,to:y,value:x}){var w;const C=Ht({from:n==null?void 0:n.address,to:y,value:typeof x<"u"&&`${dr(x)} ${((w=s==null?void 0:s.nativeCurrency)==null?void 0:w.symbol)||"ETH"}`,data:a,gas:o,gasPrice:typeof i<"u"&&`${we(i)} gwei`,maxFeePerGas:typeof l<"u"&&`${we(l)} gwei`,maxPriorityFeePerGas:typeof g<"u"&&`${we(g)} gwei`,nonce:m});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",C].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EstimateGasExecutionError"}),this.cause=t}}class rt extends O{constructor({cause:t,message:n}={}){var s;const r=(s=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ExecutionRevertedError"})}}Object.defineProperty(rt,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(rt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class sn extends O{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${we(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooHigh"})}}Object.defineProperty(sn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class Dn extends O{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${we(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooLow"})}}Object.defineProperty(Dn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Ln extends O{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooHighError"})}}Object.defineProperty(Ln,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class Gn extends O{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooLowError"})}}Object.defineProperty(Gn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class zn extends O{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceMaxValueError"})}}Object.defineProperty(zn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class Un extends O{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InsufficientFundsError"})}}Object.defineProperty(Un,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds/});class Hn extends O{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooHighError"})}}Object.defineProperty(Hn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class _n extends O{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooLowError"})}}Object.defineProperty(_n,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class Wn extends O{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionTypeNotSupportedError"})}}Object.defineProperty(Wn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class an extends O{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${we(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${we(r)} gwei`:""}).`].join(`
`),{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TipAboveFeeCapError"})}}Object.defineProperty(an,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class pn extends O{constructor({cause:t}){super(`An error occurred while executing: ${t==null?void 0:t.shortMessage}`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownNodeError"})}}function hr(e,t){const n=(e.details||"").toLowerCase(),r=e.walk(s=>s.code===rt.code);return r instanceof O?new rt({cause:e,message:r.details}):rt.nodeMessage.test(n)?new rt({cause:e,message:e.details}):sn.nodeMessage.test(n)?new sn({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):Dn.nodeMessage.test(n)?new Dn({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):Ln.nodeMessage.test(n)?new Ln({cause:e,nonce:t==null?void 0:t.nonce}):Gn.nodeMessage.test(n)?new Gn({cause:e,nonce:t==null?void 0:t.nonce}):zn.nodeMessage.test(n)?new zn({cause:e,nonce:t==null?void 0:t.nonce}):Un.nodeMessage.test(n)?new Un({cause:e}):Hn.nodeMessage.test(n)?new Hn({cause:e,gas:t==null?void 0:t.gas}):_n.nodeMessage.test(n)?new _n({cause:e,gas:t==null?void 0:t.gas}):Wn.nodeMessage.test(n)?new Wn({cause:e}):an.nodeMessage.test(n)?new an({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):new pn({cause:e})}function Bo(e,{docsPath:t,...n}){const r=(()=>{const s=hr(e,n);return s instanceof pn?e:s})();return new Fo(r,{docsPath:t,...n})}function mr(e,{format:t}){if(!t)return{};const n={};function r(a){const o=Object.keys(a);for(const i of o)i in e&&(n[i]=e[i]),a[i]&&typeof a[i]=="object"&&!Array.isArray(a[i])&&r(a[i])}const s=t(e||{});return r(s),n}const Do={legacy:"0x0",eip2930:"0x1",eip1559:"0x2"};function bn(e){return{...e,gas:typeof e.gas<"u"?V(e.gas):void 0,gasPrice:typeof e.gasPrice<"u"?V(e.gasPrice):void 0,maxFeePerGas:typeof e.maxFeePerGas<"u"?V(e.maxFeePerGas):void 0,maxPriorityFeePerGas:typeof e.maxPriorityFeePerGas<"u"?V(e.maxPriorityFeePerGas):void 0,nonce:typeof e.nonce<"u"?V(e.nonce):void 0,type:typeof e.type<"u"?Do[e.type]:void 0,value:typeof e.value<"u"?V(e.value):void 0}}function _t(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:a}=e,o=t?Pe(t):void 0;if(o&&!Ue(o.address))throw new Tt({address:o.address});if(a&&!Ue(a))throw new Tt({address:a});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new Co;if(r&&r>2n**256n-1n)throw new sn({maxFeePerGas:r});if(s&&r&&s>r)throw new an({maxFeePerGas:r,maxPriorityFeePerGas:s})}class Lo extends O{constructor(){super("`baseFeeMultiplier` must be greater than 1."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseFeeScalarError"})}}class gr extends O{constructor(){super("Chain does not support EIP-1559 fees."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Eip1559FeesNotSupportedError"})}}class Go extends O{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${we(t)} gwei).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MaxFeePerGasTooLowError"})}}class fs extends O{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlockNotFoundError"})}}const hs={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559"};function ms(e){const t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?he(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?he(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?hs[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return t.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof t.v=="bigint"){if(t.v===0n||t.v===27n)return 0;if(t.v===1n||t.v===28n)return 1;if(t.v>=35n)return t.v%2n===0n?1:0}})(),t.type==="legacy"&&(delete t.accessList,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas,delete t.yParity),t.type==="eip2930"&&(delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),t}function gs(e){var n;const t=(n=e.transactions)==null?void 0:n.map(r=>typeof r=="string"?r:ms(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,difficulty:e.difficulty?BigInt(e.difficulty):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}async function He(e,{blockHash:t,blockNumber:n,blockTag:r,includeTransactions:s}={}){var m,y,x;const a=r??"latest",o=s??!1,i=n!==void 0?V(n):void 0;let l=null;if(t?l=await e.request({method:"eth_getBlockByHash",params:[t,o]}):l=await e.request({method:"eth_getBlockByNumber",params:[i||a,o]}),!l)throw new fs({blockHash:t,blockNumber:n});return(((x=(y=(m=e.chain)==null?void 0:m.formatters)==null?void 0:y.block)==null?void 0:x.format)||gs)(l)}async function pr(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function zo(e,t){return ps(e,t)}async function ps(e,t){var a,o,i;const{block:n,chain:r=e.chain,request:s}=t||{};if(typeof((a=r==null?void 0:r.fees)==null?void 0:a.defaultPriorityFee)=="function"){const l=n||await K(e,He,"getBlock")({});return r.fees.defaultPriorityFee({block:l,client:e,request:s})}if(typeof((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee)<"u")return(i=r==null?void 0:r.fees)==null?void 0:i.defaultPriorityFee;try{const l=await e.request({method:"eth_maxPriorityFeePerGas"});return fn(l)}catch{const[l,g]=await Promise.all([n?Promise.resolve(n):K(e,He,"getBlock")({}),K(e,pr,"getGasPrice")({})]);if(typeof l.baseFeePerGas!="bigint")throw new gr;const m=g-l.baseFeePerGas;return m<0n?0n:m}}async function Uo(e,t){return qn(e,t)}async function qn(e,t){var x,C;const{block:n,chain:r=e.chain,request:s,type:a="eip1559"}=t||{},o=await(async()=>{var w,N;return typeof((w=r==null?void 0:r.fees)==null?void 0:w.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):((N=r==null?void 0:r.fees)==null?void 0:N.baseFeeMultiplier)??1.2})();if(o<1)throw new Lo;const l=10**(((x=o.toString().split(".")[1])==null?void 0:x.length)??0),g=w=>w*BigInt(Math.ceil(o*l))/BigInt(l),m=n||await K(e,He,"getBlock")({});if(typeof((C=r==null?void 0:r.fees)==null?void 0:C.estimateFeesPerGas)=="function")return r.fees.estimateFeesPerGas({block:n,client:e,multiply:g,request:s,type:a});if(a==="eip1559"){if(typeof m.baseFeePerGas!="bigint")throw new gr;const w=s!=null&&s.maxPriorityFeePerGas?s.maxPriorityFeePerGas:await ps(e,{block:m,chain:r,request:s}),N=g(m.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??N+w,maxPriorityFeePerGas:w}}return{gasPrice:(s==null?void 0:s.gasPrice)??g(await K(e,pr,"getGasPrice")({}))}}async function bs(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,r?V(r):n]});return he(s)}function Ho(e){if(e.type)return e.type;if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new jo({transaction:e})}async function yn(e,t){const{account:n=e.account,chain:r,gas:s,nonce:a,type:o}=t;if(!n)throw new ft;const i=Pe(n),l=await K(e,He,"getBlock")({blockTag:"latest"}),g={...t,from:i.address};if(typeof a>"u"&&(g.nonce=await K(e,bs,"getTransactionCount")({address:i.address,blockTag:"pending"})),typeof o>"u")try{g.type=Ho(g)}catch{g.type=typeof l.baseFeePerGas=="bigint"?"eip1559":"legacy"}if(g.type==="eip1559"){const{maxFeePerGas:m,maxPriorityFeePerGas:y}=await qn(e,{block:l,chain:r,request:g});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<y)throw new Go({maxPriorityFeePerGas:y});g.maxPriorityFeePerGas=y,g.maxFeePerGas=m}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new gr;const{gasPrice:m}=await qn(e,{block:l,chain:r,request:g,type:"legacy"});g.gasPrice=m}return typeof s>"u"&&(g.gas=await K(e,br,"estimateGas")({...g,account:{address:i.address,type:"json-rpc"}})),_t(g),g}async function br(e,t){var s,a,o;const n=t.account??e.account;if(!n)throw new ft({docsPath:"/docs/actions/public/estimateGas"});const r=Pe(n);try{const{accessList:i,blockNumber:l,blockTag:g,data:m,gas:y,gasPrice:x,maxFeePerGas:C,maxPriorityFeePerGas:w,nonce:N,to:S,value:E,...T}=r.type==="local"?await yn(e,t):t,j=(l?V(l):void 0)||g;_t(t);const k=(o=(a=(s=e.chain)==null?void 0:s.formatters)==null?void 0:a.transactionRequest)==null?void 0:o.format,I=(k||bn)({...mr(T,{format:k}),from:r.address,accessList:i,data:m,gas:y,gasPrice:x,maxFeePerGas:C,maxPriorityFeePerGas:w,nonce:N,to:S,value:E}),J=await e.request({method:"eth_estimateGas",params:j?[I,j]:[I]});return BigInt(J)}catch(i){throw Bo(i,{...t,account:r,chain:e.chain})}}async function _o(e,{abi:t,address:n,args:r,functionName:s,...a}){const o=qe({abi:t,args:r,functionName:s});try{return await K(e,br,"estimateGas")({data:o,to:n,...a})}catch(i){const l=a.account?Pe(a.account):void 0;throw Dt(i,{abi:t,address:n,args:r,docsPath:"/docs/contract/estimateContractGas",functionName:s,sender:l==null?void 0:l.address})}}const Fr="/docs/contract/decodeEventLog";function Wt({abi:e,data:t,strict:n,topics:r}){const s=n??!0,[a,...o]=r;if(!a)throw new oa({docsPath:Fr});const i=e.find(w=>w.type==="event"&&a===ar(Fe(w)));if(!(i&&"name"in i)||i.type!=="event")throw new ia(a,{docsPath:Fr});const{name:l,inputs:g}=i,m=g==null?void 0:g.some(w=>!("name"in w&&w.name));let y=m?[]:{};const x=g.filter(w=>"indexed"in w&&w.indexed);for(let w=0;w<x.length;w++){const N=x[w],S=o[w];if(!S)throw new lt({abiItem:i,param:N});y[N.name||w]=Wo({param:N,value:S})}const C=g.filter(w=>!("indexed"in w&&w.indexed));if(C.length>0){if(t&&t!=="0x")try{const w=gn(C,t);if(w)if(m)y=[...y,...w];else for(let N=0;N<C.length;N++)y[C[N].name]=w[N]}catch(w){if(s)throw w instanceof tr?new Qe({abiItem:i,data:w.data,params:w.params,size:w.size}):w}else if(s)throw new Qe({abiItem:i,data:"0x",params:C,size:0})}return{eventName:l,args:Object.values(y).length>0?y:void 0}}function Wo({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(gn([e],t)||[])[0]}function Ne(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function yr(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:a,events:o,args:i,strict:l}={}){const g=l??!1,m=o??(a?[a]:void 0);let y=[];m&&(y=[m.flatMap(C=>Ut({abi:[C],eventName:C.name,args:i}))],a&&(y=y[0]));let x;return n?x=await e.request({method:"eth_getLogs",params:[{address:t,topics:y,blockHash:n}]}):x=await e.request({method:"eth_getLogs",params:[{address:t,topics:y,fromBlock:typeof r=="bigint"?V(r):r,toBlock:typeof s=="bigint"?V(s):s}]}),x.map(C=>{var w;try{const{eventName:N,args:S}=m?Wt({abi:m,data:C.data,topics:C.topics,strict:g}):{eventName:void 0,args:void 0};return Ne(C,{args:S,eventName:N})}catch(N){let S,E;if(N instanceof Qe||N instanceof lt){if(g)return;S=N.abiItem.name,E=(w=N.abiItem.inputs)==null?void 0:w.some(T=>!("name"in T&&T.name))}return Ne(C,{args:E?[]:{},eventName:S})}}).filter(Boolean)}async function ys(e,{abi:t,address:n,args:r,blockHash:s,eventName:a,fromBlock:o,toBlock:i,strict:l}){const g=a?zt({abi:t,name:a}):void 0,m=g?void 0:t.filter(y=>y.type==="event");return K(e,yr,"getLogs")({address:n,args:r,blockHash:s,event:g,events:m,fromBlock:o,toBlock:i,strict:l})}const Rn="/docs/contract/decodeFunctionResult";function ht({abi:e,args:t,functionName:n,data:r}){let s=e[0];if(n&&(s=zt({abi:e,args:t,name:n}),!s))throw new nn(n,{docsPath:Rn});if(s.type!=="function")throw new nn(void 0,{docsPath:Rn});if(!s.outputs)throw new ca(s.name,{docsPath:Rn});const a=gn(s.outputs,r);if(a&&a.length>1)return a;if(a&&a.length===1)return a[0]}const Kn=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],ws=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"}],xs=[...ws,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],qo=[...ws,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],Br=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],Dr=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],Ko=[{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"}],Jo="0x82ad56cb";class Jn extends O{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDoesNotSupportContract"})}}class Yo extends O{constructor({chain:t,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${t.id}  ${t.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t.id}  ${t.name}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainMismatchError"})}}class Vo extends O{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotFoundError"})}}class vs extends O{constructor(){super("No chain was provided to the Client."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ClientChainNotConfiguredError"})}}function mt({blockNumber:e,chain:t,contract:n}){var s;const r=(s=t==null?void 0:t.contracts)==null?void 0:s[n];if(!r)throw new Jn({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new Jn({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function Xo(e,{docsPath:t,...n}){const r=(()=>{const s=hr(e,n);return s instanceof pn?e:s})();return new us(r,{docsPath:t,...n})}const Sn=new Map;function Ts({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const a=async()=>{const m=l();o();const y=m.map(({args:x})=>x);y.length!==0&&e(y).then(x=>{var C;s&&Array.isArray(x)&&x.sort(s);for(let w=0;w<m.length;w++){const{pendingPromise:N}=m[w];(C=N.resolve)==null||C.call(N,[x[w],x])}}).catch(x=>{var C;for(let w=0;w<m.length;w++){const{pendingPromise:N}=m[w];(C=N.reject)==null||C.call(N,x)}})},o=()=>Sn.delete(t),i=()=>l().map(({args:m})=>m),l=()=>Sn.get(t)||[],g=m=>Sn.set(t,[...l(),m]);return{flush:o,async schedule(m){const y={},x=new Promise((N,S)=>{y.resolve=N,y.reject=S});return(n==null?void 0:n([...i(),m]))&&a(),l().length>0?(g({args:m,pendingPromise:y}),x):(g({args:m,pendingPromise:y}),setTimeout(a,r),x)}}}async function wn(e,t){var E,T,v,j;const{account:n=e.account,batch:r=!!((E=e.batch)!=null&&E.multicall),blockNumber:s,blockTag:a="latest",accessList:o,data:i,gas:l,gasPrice:g,maxFeePerGas:m,maxPriorityFeePerGas:y,nonce:x,to:C,value:w,...N}=t,S=n?Pe(n):void 0;try{_t(t);const $=(s?V(s):void 0)||a,I=(j=(v=(T=e.chain)==null?void 0:T.formatters)==null?void 0:v.transactionRequest)==null?void 0:j.format,H=(I||bn)({...mr(N,{format:I}),from:S==null?void 0:S.address,accessList:o,data:i,gas:l,gasPrice:g,maxFeePerGas:m,maxPriorityFeePerGas:y,nonce:x,to:C,value:w});if(r&&Zo({request:H}))try{return await Qo(e,{...H,blockNumber:s,blockTag:a})}catch(Z){if(!(Z instanceof vs)&&!(Z instanceof Jn))throw Z}const U=await e.request({method:"eth_call",params:$?[H,$]:[H]});return U==="0x"?{data:void 0}:{data:U}}catch(k){const $=ei(k),{offchainLookup:I,offchainLookupSignature:J}=await Ws(async()=>{const{offchainLookup:H,offchainLookupSignature:U}=await import("./ccip-CD-CfKnY.js");return{offchainLookup:H,offchainLookupSignature:U}},__vite__mapDeps([0,1,2]));if(($==null?void 0:$.slice(0,10))===J&&C)return{data:await I(e,{data:$,to:C})};throw Xo(k,{...t,account:S,chain:e.chain})}}function Zo({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(Jo)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function Qo(e,t){var N;const{batchSize:n=1024,wait:r=0}=typeof((N=e.batch)==null?void 0:N.multicall)=="object"?e.batch.multicall:{},{blockNumber:s,blockTag:a="latest",data:o,multicallAddress:i,to:l}=t;let g=i;if(!g){if(!e.chain)throw new vs;g=mt({blockNumber:s,chain:e.chain,contract:"multicall3"})}const y=(s?V(s):void 0)||a,{schedule:x}=Ts({id:`${e.uid}.${y}`,wait:r,shouldSplitBatch(S){return S.reduce((T,{data:v})=>T+(v.length-2),0)>n*2},fn:async S=>{const E=S.map(j=>({allowFailure:!0,callData:j.data,target:j.to})),T=qe({abi:Kn,args:[E],functionName:"aggregate3"}),v=await e.request({method:"eth_call",params:[{data:T,to:g},y]});return ht({abi:Kn,args:[E],functionName:"aggregate3",data:v||"0x"})}}),[{returnData:C,success:w}]=await x({data:o,to:l});if(!w)throw new fr({data:C});return C==="0x"?{data:void 0}:{data:C}}function ei(e){if(!(e instanceof O))return;const t=e.walk();return typeof t.data=="object"?t.data.data:t.data}async function _e(e,{abi:t,address:n,args:r,functionName:s,...a}){const o=qe({abi:t,args:r,functionName:s});try{const{data:i}=await K(e,wn,"call")({data:o,to:n,...a});return ht({abi:t,args:r,functionName:s,data:i||"0x"})}catch(i){throw Dt(i,{abi:t,address:n,args:r,docsPath:"/docs/contract/readContract",functionName:s})}}async function ti(e,{abi:t,address:n,args:r,dataSuffix:s,functionName:a,...o}){const i=o.account?Pe(o.account):void 0,l=qe({abi:t,args:r,functionName:a});try{const{data:g}=await K(e,wn,"call")({batch:!1,data:`${l}${s?s.replace("0x",""):""}`,to:n,...o});return{result:ht({abi:t,args:r,functionName:a,data:g||"0x"}),request:{abi:t,address:n,args:r,dataSuffix:s,functionName:a,...o}}}catch(g){throw Dt(g,{abi:t,address:n,args:r,docsPath:"/docs/contract/simulateContract",functionName:a,sender:i==null?void 0:i.address})}}const An=new Map,Lr=new Map;let ni=0;function gt(e,t,n){const r=++ni,s=()=>An.get(e)||[],a=()=>{const m=s();An.set(e,m.filter(y=>y.id!==r))},o=()=>{const m=Lr.get(e);s().length===1&&m&&m(),a()},i=s();if(An.set(e,[...i,{id:r,fns:t}]),i&&i.length>0)return o;const l={};for(const m in t)l[m]=(...y)=>{var C,w;const x=s();if(x.length!==0)for(const N of x)(w=(C=N.fns)[m])==null||w.call(C,...y)};const g=n(l);return typeof g=="function"&&Lr.set(e,g),o}async function Yn(e){return new Promise(t=>setTimeout(t,e))}function qt(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const a=()=>s=!1;return(async()=>{let i;t&&(i=await e({unpoll:a}));const l=await(n==null?void 0:n(i))??r;await Yn(l);const g=async()=>{s&&(await e({unpoll:a}),await Yn(r),g())};g()})(),a}const ri=new Map,si=new Map;function ai(e){const t=(s,a)=>({clear:()=>a.delete(s),get:()=>a.get(s),set:o=>a.set(s,o)}),n=t(e,ri),r=t(e,si);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function oi(e,{cacheKey:t,cacheTime:n=1/0}){const r=ai(t),s=r.response.get();if(s&&n>0&&new Date().getTime()-s.created.getTime()<n)return s.data;let a=r.promise.get();a||(a=e(),r.promise.set(a));try{const o=await a;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const ii=e=>`blockNumber.${e}`;async function Kt(e,{cacheTime:t=e.cacheTime,maxAge:n}={}){const r=await oi(()=>e.request({method:"eth_blockNumber"}),{cacheKey:ii(e.uid),cacheTime:n??t});return BigInt(r)}async function xn(e,{filter:t}){const n="strict"in t&&t.strict;return(await t.request({method:"eth_getFilterChanges",params:[t.id]})).map(s=>{var a;if(typeof s=="string")return s;try{const{eventName:o,args:i}="abi"in t&&t.abi?Wt({abi:t.abi,data:s.data,topics:s.topics,strict:n}):{eventName:void 0,args:void 0};return Ne(s,{args:i,eventName:o})}catch(o){let i,l;if(o instanceof Qe||o instanceof lt){if("strict"in t&&t.strict)return;i=o.abiItem.name,l=(a=o.abiItem.inputs)==null?void 0:a.some(g=>!("name"in g&&g.name))}return Ne(s,{args:l?[]:{},eventName:i})}}).filter(Boolean)}async function vn(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function ci(e,{abi:t,address:n,args:r,batch:s=!0,eventName:a,onError:o,onLogs:i,poll:l,pollingInterval:g=e.pollingInterval,strict:m}){return(typeof l<"u"?l:e.transport.type!=="webSocket")?(()=>{const w=be(["watchContractEvent",n,r,s,e.uid,a,g]),N=m??!1;return gt(w,{onLogs:i,onError:o},S=>{let E,T,v=!1;const j=qt(async()=>{var k;if(!v){try{T=await K(e,rs,"createContractEventFilter")({abi:t,address:n,args:r,eventName:a,strict:N})}catch{}v=!0;return}try{let $;if(T)$=await K(e,xn,"getFilterChanges")({filter:T});else{const I=await K(e,Kt,"getBlockNumber")({});E&&E!==I?$=await K(e,ys,"getContractEvents")({abi:t,address:n,args:r,eventName:a,fromBlock:E+1n,toBlock:I,strict:N}):$=[],E=I}if($.length===0)return;if(s)S.onLogs($);else for(const I of $)S.onLogs([I])}catch($){T&&$ instanceof et&&(v=!1),(k=S.onError)==null||k.call(S,$)}},{emitOnBegin:!0,interval:g});return async()=>{T&&await K(e,vn,"uninstallFilter")({filter:T}),j()}})})():(()=>{let w=!0,N=()=>w=!1;return(async()=>{try{const S=a?Ut({abi:t,eventName:a,args:r}):[],{unsubscribe:E}=await e.transport.subscribe({params:["logs",{address:n,topics:S}],onData(T){var j;if(!w)return;const v=T.result;try{const{eventName:k,args:$}=Wt({abi:t,data:v.data,topics:v.topics,strict:m}),I=Ne(v,{args:$,eventName:k});i([I])}catch(k){let $,I;if(k instanceof Qe||k instanceof lt){if(m)return;$=k.abiItem.name,I=(j=k.abiItem.inputs)==null?void 0:j.some(H=>!("name"in H&&H.name))}const J=Ne(v,{args:I?[]:{},eventName:$});i([J])}},onError(T){o==null||o(T)}});N=E,w||N()}catch(S){o==null||o(S)}})(),N})()}function Es({chain:e,currentChainId:t}){if(!e)throw new Vo;if(t!==e.id)throw new Yo({chain:e,currentChainId:t})}function li(e,{docsPath:t,...n}){const r=(()=>{const s=hr(e,n);return s instanceof pn?e:s})();return new Ro(r,{docsPath:t,...n})}async function Lt(e){const t=await e.request({method:"eth_chainId"});return he(t)}async function wr(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]})}async function xr(e,t){var N,S,E,T;const{account:n=e.account,chain:r=e.chain,accessList:s,data:a,gas:o,gasPrice:i,maxFeePerGas:l,maxPriorityFeePerGas:g,nonce:m,to:y,value:x,...C}=t;if(!n)throw new ft({docsPath:"/docs/actions/wallet/sendTransaction"});const w=Pe(n);try{_t(t);let v;if(r!==null&&(v=await K(e,Lt,"getChainId")({}),Es({currentChainId:v,chain:r})),w.type==="local"){const I=await K(e,yn,"prepareTransactionRequest")({account:w,accessList:s,chain:r,data:a,gas:o,gasPrice:i,maxFeePerGas:l,maxPriorityFeePerGas:g,nonce:m,to:y,value:x,...C});v||(v=await K(e,Lt,"getChainId")({}));const J=(N=r==null?void 0:r.serializers)==null?void 0:N.transaction,H=await w.signTransaction({...I,chainId:v},{serializer:J});return await K(e,wr,"sendRawTransaction")({serializedTransaction:H})}const j=(T=(E=(S=e.chain)==null?void 0:S.formatters)==null?void 0:E.transactionRequest)==null?void 0:T.format,$=(j||bn)({...mr(C,{format:j}),accessList:s,data:a,from:w.address,gas:o,gasPrice:i,maxFeePerGas:l,maxPriorityFeePerGas:g,nonce:m,to:y,value:x});return await e.request({method:"eth_sendTransaction",params:[$]})}catch(v){throw li(v,{...t,account:w,chain:t.chain||void 0})}}async function ui(e,{abi:t,address:n,args:r,dataSuffix:s,functionName:a,...o}){const i=qe({abi:t,args:r,functionName:a});return await K(e,xr,"sendTransaction")({data:`${i}${s?s.replace("0x",""):""}`,to:n,...o})}async function di(e,{chain:t}){const{id:n,name:r,nativeCurrency:s,rpcUrls:a,blockExplorers:o}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:V(n),chainName:r,nativeCurrency:s,rpcUrls:a.default.http,blockExplorerUrls:o?Object.values(o).map(({url:i})=>i):void 0}]})}const Vn=256;let Qt=Vn,en;function fi(e=11){if(!en||Qt+e>Vn*2){en="",Qt=0;for(let t=0;t<Vn;t++)en+=(256+Math.random()*256|0).toString(16).substring(1)}return en.substring(Qt,Qt+++e)}function Ps(e){const{batch:t,cacheTime:n=e.pollingInterval??4e3,key:r="base",name:s="Base Client",pollingInterval:a=4e3,type:o="base"}=e,i=e.chain,l=e.account?Pe(e.account):void 0,{config:g,request:m,value:y}=e.transport({chain:i,pollingInterval:a}),x={...g,...y},C={account:l,batch:t,cacheTime:n,chain:i,key:r,name:s,pollingInterval:a,request:m,transport:x,type:o,uid:fi()};function w(N){return S=>{const E=S(N);for(const v in C)delete E[v];const T={...N,...E};return Object.assign(T,{extend:w(T)})}}return Object.assign(C,{extend:w(C)})}function Xn(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,a)=>{const o=async({count:i=0}={})=>{const l=async({error:g})=>{const m=typeof t=="function"?t({count:i,error:g}):t;m&&await Yn(m),o({count:i+1})};try{const g=await e();s(g)}catch(g){if(i<n&&await r({count:i,error:g}))return l({error:g});a(g)}};o()})}const hi=e=>"code"in e?e.code!==-1&&e.code!==-32004&&e.code!==-32005&&e.code!==-32042&&e.code!==-32603:e instanceof xt&&e.status?e.status!==403&&e.status!==408&&e.status!==413&&e.status!==429&&e.status!==500&&e.status!==502&&e.status!==503&&e.status!==504:!1;function mi(e,{retryDelay:t=150,retryCount:n=3}={}){return async r=>Xn(async()=>{try{return await e(r)}catch(s){const a=s;switch(a.code){case Et.code:throw new Et(a);case Pt.code:throw new Pt(a);case Nt.code:throw new Nt(a);case Ct.code:throw new Ct(a);case it.code:throw new it(a);case et.code:throw new et(a);case jt.code:throw new jt(a);case Rt.code:throw new Rt(a);case St.code:throw new St(a);case At.code:throw new At(a);case $t.code:throw new $t(a);case It.code:throw new It(a);case ot.code:throw new ot(a);case Ot.code:throw new Ot(a);case Mt.code:throw new Mt(a);case kt.code:throw new kt(a);case Ft.code:throw new Ft(a);case Bt.code:throw new Bt(a);case 5e3:throw new ot(a);default:throw s instanceof O?s:new Mo(a)}}},{delay:({count:s,error:a})=>{var o;if(a&&a instanceof xt){const i=(o=a==null?void 0:a.headers)==null?void 0:o.get("Retry-After");if(i!=null&&i.match(/\d/))return parseInt(i)*1e3}return~~(1<<s)*t},retryCount:n,shouldRetry:({error:s})=>!hi(s)})}function Ns({key:e,name:t,request:n,retryCount:r=3,retryDelay:s=150,timeout:a,type:o},i){return{config:{key:e,name:t,request:n,retryCount:r,retryDelay:s,timeout:a,type:o},request:mi(n,{retryCount:r,retryDelay:s}),value:i}}function gi(e,t={}){const{key:n="custom",name:r="Custom Provider",retryDelay:s}=t;return({retryCount:a})=>Ns({key:n,name:r,request:e.request.bind(e),retryCount:t.retryCount??a,retryDelay:s,type:"custom"})}class pi extends O{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro"})}}function Cs(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,a)=>{(async()=>{let o;try{const i=new AbortController;n>0&&(o=setTimeout(()=>{r?i.abort():a(t)},n)),s(await e({signal:i==null?void 0:i.signal}))}catch(i){i.name==="AbortError"&&a(t),a(i)}finally{clearTimeout(o)}})()})}let Zn=0;async function bi(e,{body:t,fetchOptions:n={},timeout:r=1e4}){var i;const{headers:s,method:a,signal:o}=n;try{const l=await Cs(async({signal:m})=>await fetch(e,{...n,body:Array.isArray(t)?be(t.map(x=>({jsonrpc:"2.0",id:x.id??Zn++,...x}))):be({jsonrpc:"2.0",id:t.id??Zn++,...t}),headers:{...s,"Content-Type":"application/json"},method:a||"POST",signal:o||(r>0?m:void 0)}),{errorInstance:new Bn({body:t,url:e}),timeout:r,signal:!0});let g;if((i=l.headers.get("Content-Type"))!=null&&i.startsWith("application/json")?g=await l.json():g=await l.text(),!l.ok)throw new xt({body:t,details:be(g.error)||l.statusText,headers:l.headers,status:l.status,url:e});return g}catch(l){throw l instanceof xt||l instanceof Bn?l:new xt({body:t,details:l.message,url:e})}}function yi(e,{body:t,onResponse:n}){if(e.readyState===e.CLOSED||e.readyState===e.CLOSING)throw new Io({body:t,url:e.url,details:"Socket is closed."});const r=Zn++,s=({data:a})=>{var i;const o=JSON.parse(a);typeof o.id=="number"&&r!==o.id||(n==null||n(o),t.method==="eth_subscribe"&&typeof o.result=="string"&&e.subscriptions.set(o.result,s),t.method==="eth_unsubscribe"&&e.subscriptions.delete((i=t.params)==null?void 0:i[0]))};return e.requests.set(r,s),e.send(JSON.stringify({jsonrpc:"2.0",...t,id:r})),e}async function wi(e,{body:t,timeout:n=1e4}){return Cs(()=>new Promise(r=>Qn.webSocket(e,{body:t,onResponse:r})),{errorInstance:new Bn({body:t,url:e.url}),timeout:n})}const Qn={http:bi,webSocket:yi,webSocketAsync:wi};function Gr(e,t={}){const{batch:n,fetchOptions:r,key:s="http",name:a="HTTP JSON-RPC",retryDelay:o}=t;return({chain:i,retryCount:l,timeout:g})=>{const{batchSize:m=1e3,wait:y=0}=typeof n=="object"?n:{},x=t.retryCount??l,C=g??t.timeout??1e4,w=e||(i==null?void 0:i.rpcUrls.default.http[0]);if(!w)throw new pi;return Ns({key:s,name:a,async request({method:N,params:S}){const E={method:N,params:S},{schedule:T}=Ts({id:`${e}`,wait:y,shouldSplitBatch($){return $.length>m},fn:$=>Qn.http(w,{body:$,fetchOptions:r,timeout:C}),sort:($,I)=>$.id-I.id}),v=async $=>n?T($):[await Qn.http(w,{body:$,fetchOptions:r,timeout:C})],[{error:j,result:k}]=await v(E);if(j)throw new ds({body:E,error:j,url:w});return k},retryCount:x,retryDelay:o,timeout:C,type:"http"},{fetchOptions:r,url:e})}}function vr(e,t){var r,s,a;if(!(e instanceof O))return!1;const n=e.walk(o=>o instanceof Fn);return n instanceof Fn?!!(((r=n.data)==null?void 0:r.errorName)==="ResolverNotFound"||((s=n.data)==null?void 0:s.errorName)==="ResolverWildcardNotSupported"||(a=n.reason)!=null&&a.includes("Wildcard on non-extended resolvers is not supported")||t==="reverse"&&n.reason===ss[50]):!1}function js(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return Ae(t)?t:null}function tn(e){let t=new Uint8Array(32).fill(0);if(!e)return vt(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=js(n[r]),a=s?ze(s):pe(ke(n[r]),"bytes");t=pe(Be([t,a]),"bytes")}return vt(t)}function xi(e){return`[${e.slice(2)}]`}function vi(e){const t=new Uint8Array(32).fill(0);return e?js(e)||pe(ke(e)):vt(t)}function Tn(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(ke(t).byteLength+2);let r=0;const s=t.split(".");for(let a=0;a<s.length;a++){let o=ke(s[a]);o.byteLength>255&&(o=ke(xi(vi(s[a])))),n[r]=o.length,n.set(o,r+1),r+=o.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function Ti(e,{blockNumber:t,blockTag:n,coinType:r,name:s,universalResolverAddress:a}){let o=a;if(!o){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");o=mt({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const i=qe({abi:Dr,functionName:"addr",...r!=null?{args:[tn(s),BigInt(r)]}:{args:[tn(s)]}}),l=await K(e,_e,"readContract")({address:o,abi:xs,functionName:"resolve",args:[De(Tn(s)),i],blockNumber:t,blockTag:n});if(l[0]==="0x")return null;const g=ht({abi:Dr,args:r!=null?[tn(s),BigInt(r)]:void 0,functionName:"addr",data:l[0]});return g==="0x"||st(g)==="0x00"?null:g}catch(i){if(vr(i,"resolve"))return null;throw i}}class Ei extends O{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidMetadataError"})}}class wt extends O{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidNftUriError"})}}class Tr extends O{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUriResolutionError"})}}class Pi extends O{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUnsupportedNamespaceError"})}}const Ni=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,Ci=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,ji=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,Ri=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function Si(e){try{const t=await fetch(e,{method:"HEAD"});if(t.status===200){const n=t.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function zr(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function Rs({uri:e,gatewayUrls:t}){const n=ji.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=zr(t==null?void 0:t.ipfs,"https://ipfs.io"),s=zr(t==null?void 0:t.arweave,"https://arweave.net"),a=e.match(Ni),{protocol:o,subpath:i,target:l,subtarget:g=""}=(a==null?void 0:a.groups)||{},m=o==="ipns:/"||i==="ipns/",y=o==="ipfs:/"||i==="ipfs/"||Ci.test(e);if(e.startsWith("http")&&!m&&!y){let C=e;return t!=null&&t.arweave&&(C=e.replace(/https:\/\/arweave.net/g,t==null?void 0:t.arweave)),{uri:C,isOnChain:!1,isEncoded:!1}}if((m||y)&&l)return{uri:`${r}/${m?"ipns":"ipfs"}/${l}${g}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&l)return{uri:`${s}/${l}${g||""}`,isOnChain:!1,isEncoded:!1};let x=e.replace(Ri,"");if(x.startsWith("<svg")&&(x=`data:image/svg+xml;base64,${btoa(x)}`),x.startsWith("data:")||x.startsWith("{"))return{uri:x,isOnChain:!0,isEncoded:!1};throw new Tr({uri:e})}function Ss(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new Ei({data:e});return e.image||e.image_url||e.image_data}async function Ai({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await Er({gatewayUrls:e,uri:Ss(n)})}catch{throw new Tr({uri:t})}}async function Er({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=Rs({uri:t,gatewayUrls:e});if(r||await Si(n))return n;throw new Tr({uri:t})}function $i(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[a,o]=n.split(":"),[i,l]=r.split(":");if(!a||a.toLowerCase()!=="eip155")throw new wt({reason:"Only EIP-155 supported"});if(!o)throw new wt({reason:"Chain ID not found"});if(!l)throw new wt({reason:"Contract address not found"});if(!s)throw new wt({reason:"Token ID not found"});if(!i)throw new wt({reason:"ERC namespace not found"});return{chainID:parseInt(o),namespace:i.toLowerCase(),contractAddress:l,tokenID:s}}async function Ii(e,{nft:t}){if(t.namespace==="erc721")return _e(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return _e(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new Pi({namespace:t.namespace})}async function Oi(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?Mi(e,{gatewayUrls:t,record:n}):Er({uri:n,gatewayUrls:t})}async function Mi(e,{gatewayUrls:t,record:n}){const r=$i(n),s=await Ii(e,{nft:r}),{uri:a,isOnChain:o,isEncoded:i}=Rs({uri:s,gatewayUrls:t});if(o&&(a.includes("data:application/json;base64,")||a.startsWith("{"))){const g=i?atob(a.replace("data:application/json;base64,","")):a,m=JSON.parse(g);return Er({uri:Ss(m),gatewayUrls:t})}let l=r.tokenID;return r.namespace==="erc1155"&&(l=l.replace("0x","").padStart(64,"0")),Ai({gatewayUrls:t,uri:a.replace(/(?:0x)?{id}/,l)})}async function As(e,{blockNumber:t,blockTag:n,name:r,key:s,universalResolverAddress:a}){let o=a;if(!o){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");o=mt({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const i=await K(e,_e,"readContract")({address:o,abi:xs,functionName:"resolve",args:[De(Tn(r)),qe({abi:Br,functionName:"text",args:[tn(r),s]})],blockNumber:t,blockTag:n});if(i[0]==="0x")return null;const l=ht({abi:Br,functionName:"text",data:i[0]});return l===""?null:l}catch(i){if(vr(i,"resolve"))return null;throw i}}async function ki(e,{blockNumber:t,blockTag:n,gatewayUrls:r,name:s,universalResolverAddress:a}){const o=await K(e,As,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:a});if(!o)return null;try{return await Oi(e,{record:o,gatewayUrls:r})}catch{return null}}async function Fi(e,{address:t,blockNumber:n,blockTag:r,universalResolverAddress:s}){let a=s;if(!a){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=mt({blockNumber:n,chain:e.chain,contract:"ensUniversalResolver"})}const o=`${t.toLowerCase().substring(2)}.addr.reverse`;try{const[i,l]=await K(e,_e,"readContract")({address:a,abi:qo,functionName:"reverse",args:[De(Tn(o))],blockNumber:n,blockTag:r});return t.toLowerCase()!==l.toLowerCase()?null:i}catch(i){if(vr(i,"reverse"))return null;throw i}}async function Bi(e,{blockNumber:t,blockTag:n,name:r,universalResolverAddress:s}){let a=s;if(!a){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=mt({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}const[o]=await K(e,_e,"readContract")({address:a,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[De(Tn(r))],blockNumber:t,blockTag:n});return o}async function Di(e){const t=mn(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function $s(e,{address:t,args:n,event:r,events:s,fromBlock:a,strict:o,toBlock:i}={}){const l=s??(r?[r]:void 0),g=mn(e,{method:"eth_newFilter"});let m=[];l&&(m=[l.flatMap(x=>Ut({abi:[x],eventName:x.name,args:n}))],r&&(m=m[0]));const y=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof a=="bigint"?V(a):a,toBlock:typeof i=="bigint"?V(i):i,...m.length?{topics:m}:{}}]});return{abi:l,args:n,eventName:r?r.name:void 0,fromBlock:a,id:y,request:g(y),strict:o,toBlock:i,type:"event"}}async function Is(e){const t=mn(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function Li(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n?V(n):void 0,a=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(a)}async function Gi(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?V(n):void 0;let a;return t?a=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]}):a=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]}),he(a)}async function zi(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?V(n):void 0,a=await e.request({method:"eth_getCode",params:[t,s||r]});if(a!=="0x")return a}function Ui(e){var t;return{baseFeePerGas:e.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:(t=e.reward)==null?void 0:t.map(n=>n.map(r=>BigInt(r)))}}async function Hi(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const a=n?V(n):void 0,o=await e.request({method:"eth_feeHistory",params:[V(t),a||r,s]});return Ui(o)}async function _i(e,{filter:t}){const n=t.strict??!1;return(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(s=>{var a;try{const{eventName:o,args:i}="abi"in t&&t.abi?Wt({abi:t.abi,data:s.data,topics:s.topics,strict:n}):{eventName:void 0,args:void 0};return Ne(s,{args:i,eventName:o})}catch(o){let i,l;if(o instanceof Qe||o instanceof lt){if("strict"in t&&t.strict)return;i=o.abiItem.name,l=(a=o.abiItem.inputs)==null?void 0:a.some(g=>!("name"in g&&g.name))}return Ne(s,{args:l?[]:{},eventName:i})}}).filter(Boolean)}const Wi=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,qi=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Ki({domain:e,message:t,primaryType:n,types:r}){const s=typeof e>"u"?{}:e,a={EIP712Domain:Ds({domain:s}),...r};Bs({domain:s,message:t,primaryType:n,types:a});const o=["0x1901"];return s&&o.push(Ji({domain:s,types:a})),n!=="EIP712Domain"&&o.push(Os({data:t,primaryType:n,types:a})),pe(Be(o))}function Ji({domain:e,types:t}){return Os({data:e,primaryType:"EIP712Domain",types:t})}function Os({data:e,primaryType:t,types:n}){const r=Ms({data:e,primaryType:t,types:n});return pe(r)}function Ms({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[Yi({primaryType:t,types:n})];for(const a of n[t]){const[o,i]=Fs({types:n,name:a.name,type:a.type,value:e[a.name]});r.push(o),s.push(i)}return Gt(r,s)}function Yi({primaryType:e,types:t}){const n=De(Vi({primaryType:e,types:t}));return pe(n)}function Vi({primaryType:e,types:t}){let n="";const r=ks({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const a of s)n+=`${a}(${t[a].map(({name:o,type:i})=>`${i} ${o}`).join(",")})`;return n}function ks({primaryType:e,types:t},n=new Set){const r=e.match(/^\w*/u),s=r==null?void 0:r[0];if(n.has(s)||t[s]===void 0)return n;n.add(s);for(const a of t[s])ks({primaryType:a.type,types:t},n);return n}function Fs({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},pe(Ms({data:r,primaryType:n,types:e}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},pe(r)];if(n==="string")return[{type:"bytes32"},pe(De(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),a=r.map(o=>Fs({name:t,type:s,types:e,value:o}));return[{type:"bytes32"},pe(Gt(a.map(([o])=>o),a.map(([,o])=>o)))]}return[{type:n},r]}function Bs({domain:e,message:t,primaryType:n,types:r}){const s=r,a=(o,i)=>{for(const l of o){const{name:g,type:m}=l,y=m,x=i[g],C=y.match(qi);if(C&&(typeof x=="number"||typeof x=="bigint")){const[S,E,T]=C;V(x,{signed:E==="int",size:parseInt(T)/8})}if(y==="address"&&typeof x=="string"&&!Ue(x))throw new Tt({address:x});const w=y.match(Wi);if(w){const[S,E]=w;if(E&&le(x)!==parseInt(E))throw new ua({expectedSize:parseInt(E),givenSize:le(x)})}const N=s[y];N&&a(N,x)}};if(s.EIP712Domain&&e&&a(s.EIP712Domain,e),n!=="EIP712Domain"){const o=s[n];a(o,t)}}function Ds({domain:e}){return[typeof(e==null?void 0:e.name)=="string"&&{name:"name",type:"string"},(e==null?void 0:e.version)&&{name:"version",type:"string"},typeof(e==null?void 0:e.chainId)=="number"&&{name:"chainId",type:"uint256"},(e==null?void 0:e.verifyingContract)&&{name:"verifyingContract",type:"address"},(e==null?void 0:e.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}const $n="/docs/contract/encodeDeployData";function Ls({abi:e,args:t,bytecode:n}){if(!t||t.length===0)return n;const r=e.find(a=>"type"in a&&a.type==="constructor");if(!r)throw new na({docsPath:$n});if(!("inputs"in r))throw new jr({docsPath:$n});if(!r.inputs||r.inputs.length===0)throw new jr({docsPath:$n});const s=Gt(r.inputs,t);return or([n,s])}const Xi={"0x0":"reverted","0x1":"success"};function Zi(e){return{...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(t=>Ne(t)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?he(e.transactionIndex):null,status:e.status?Xi[e.status]:null,type:e.type?hs[e.type]||e.type:null}}const Qi=`Ethereum Signed Message:
`;function ec(e,t){const n=typeof e=="string"?ke(e):e.raw instanceof Uint8Array?e.raw:ze(e.raw),r=ke(`${Qi}${n.length}`);return pe(Be([r,n]),t)}function tc(e,t){let[n,r="0"]=e.split(".");const s=n.startsWith("-");if(s&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),t===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>t){const[a,o,i]=[r.slice(0,t-1),r.slice(t-1,t),r.slice(t)],l=Math.round(+`${o}.${i}`);l>9?r=`${BigInt(a)+BigInt(1)}0`.padStart(a.length+1,"0"):r=`${a}${l}`,r.length>t&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,t)}else r=r.padEnd(t,"0");return BigInt(`${s?"-":""}${n}${r}`)}function Me(e,t="wei"){return tc(e,os[t])}function nc(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function rc(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?he(e.nonce):void 0,storageProof:e.storageProof?nc(e.storageProof):void 0}}async function sc(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const a=r??"latest",o=n!==void 0?V(n):void 0,i=await e.request({method:"eth_getProof",params:[t,s,o||a]});return rc(i)}async function ac(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const a=n!==void 0?V(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,a||r]})}async function Pr(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:a}){var m,y,x;const o=r||"latest",i=n!==void 0?V(n):void 0;let l=null;if(s?l=await e.request({method:"eth_getTransactionByHash",params:[s]}):t?l=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,V(a)]}):l=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[i||o,V(a)]}),!l)throw new cs({blockHash:t,blockNumber:n,blockTag:o,hash:s,index:a});return(((x=(y=(m=e.chain)==null?void 0:m.formatters)==null?void 0:y.transaction)==null?void 0:x.format)||ms)(l)}async function oc(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([K(e,Kt,"getBlockNumber")({}),t?K(e,Pr,"getBlockNumber")({hash:t}):void 0]),a=(n==null?void 0:n.blockNumber)||(s==null?void 0:s.blockNumber);return a?r-a+1n:0n}async function er(e,{hash:t}){var s,a,o;const n=await e.request({method:"eth_getTransactionReceipt",params:[t]});if(!n)throw new ls({hash:t});return(((o=(a=(s=e.chain)==null?void 0:s.formatters)==null?void 0:a.transactionReceipt)==null?void 0:o.format)||Zi)(n)}async function ic(e,t){var N;const{allowFailure:n=!0,batchSize:r,blockNumber:s,blockTag:a,contracts:o,multicallAddress:i}=t,l=r??(typeof((N=e.batch)==null?void 0:N.multicall)=="object"&&e.batch.multicall.batchSize||1024);let g=i;if(!g){if(!e.chain)throw new Error("client chain not configured. multicallAddress is required.");g=mt({blockNumber:s,chain:e.chain,contract:"multicall3"})}const m=[[]];let y=0,x=0;for(let S=0;S<o.length;S++){const{abi:E,address:T,args:v,functionName:j}=o[S];try{const k=qe({abi:E,args:v,functionName:j});x+=(k.length-2)/2,l>0&&x>l&&m[y].length>0&&(y++,x=(k.length-2)/2,m[y]=[]),m[y]=[...m[y],{allowFailure:!0,callData:k,target:T}]}catch(k){const $=Dt(k,{abi:E,address:T,args:v,docsPath:"/docs/contract/multicall",functionName:j});if(!n)throw $;m[y]=[...m[y],{allowFailure:!0,callData:"0x",target:T}]}}const C=await Promise.allSettled(m.map(S=>K(e,_e,"readContract")({abi:Kn,address:g,args:[S],blockNumber:s,blockTag:a,functionName:"aggregate3"}))),w=[];for(let S=0;S<C.length;S++){const E=C[S];if(E.status==="rejected"){if(!n)throw E.reason;for(let v=0;v<m[S].length;v++)w.push({status:"failure",error:E.reason,result:void 0});continue}const T=E.value;for(let v=0;v<T.length;v++){const{returnData:j,success:k}=T[v],{callData:$}=m[S][v],{abi:I,address:J,functionName:H,args:U}=o[w.length];try{if($==="0x")throw new dn;if(!k)throw new fr({data:j});const Z=ht({abi:I,args:U,data:j,functionName:H});w.push(n?{result:Z,status:"success"}:Z)}catch(Z){const te=Dt(Z,{abi:I,address:J,args:U,docsPath:"/docs/contract/multicall",functionName:H});if(!n)throw te;w.push({error:te,result:void 0,status:"failure"})}}}if(w.length!==o.length)throw new O("multicall results mismatch");return w}const cc="0x60806040523480156200001157600080fd5b50604051620007003803806200070083398101604081905262000034916200056f565b6000620000438484846200004f565b9050806000526001601ff35b600080846001600160a01b0316803b806020016040519081016040528181526000908060200190933c90507f6492649264926492649264926492649264926492649264926492649264926492620000a68462000451565b036200021f57600060608085806020019051810190620000c79190620005ce565b8651929550909350915060000362000192576000836001600160a01b031683604051620000f5919062000643565b6000604051808303816000865af19150503d806000811462000134576040519150601f19603f3d011682016040523d82523d6000602084013e62000139565b606091505b5050905080620001905760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b505b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90620001c4908b90869060040162000661565b602060405180830381865afa158015620001e2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200020891906200069d565b6001600160e01b031916149450505050506200044a565b805115620002b157604051630b135d3f60e11b808252906001600160a01b03871690631626ba7e9062000259908890889060040162000661565b602060405180830381865afa15801562000277573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200029d91906200069d565b6001600160e01b031916149150506200044a565b8251604114620003195760405162461bcd60e51b815260206004820152603a6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e677468000000000000606482015260840162000187565b620003236200046b565b506020830151604080850151855186939260009185919081106200034b576200034b620006c9565b016020015160f81c9050601b81148015906200036b57508060ff16601c14155b15620003cf5760405162461bcd60e51b815260206004820152603b6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c75650000000000606482015260840162000187565b6040805160008152602081018083528a905260ff83169181019190915260608101849052608081018390526001600160a01b038a169060019060a0016020604051602081039080840390855afa1580156200042e573d6000803e3d6000fd5b505050602060405103516001600160a01b031614955050505050505b9392505050565b60006020825110156200046357600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b03811681146200049f57600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b83811015620004d5578181015183820152602001620004bb565b50506000910152565b600082601f830112620004f057600080fd5b81516001600160401b03808211156200050d576200050d620004a2565b604051601f8301601f19908116603f01168101908282118183101715620005385762000538620004a2565b816040528381528660208588010111156200055257600080fd5b62000565846020830160208901620004b8565b9695505050505050565b6000806000606084860312156200058557600080fd5b8351620005928162000489565b6020850151604086015191945092506001600160401b03811115620005b657600080fd5b620005c486828701620004de565b9150509250925092565b600080600060608486031215620005e457600080fd5b8351620005f18162000489565b60208501519093506001600160401b03808211156200060f57600080fd5b6200061d87838801620004de565b935060408601519150808211156200063457600080fd5b50620005c486828701620004de565b6000825162000657818460208701620004b8565b9190910192915050565b828152604060208201526000825180604084015262000688816060850160208701620004b8565b601f01601f1916919091016060019392505050565b600060208284031215620006b057600080fd5b81516001600160e01b0319811681146200044a57600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */BigInt(0);BigInt(1);BigInt(2);function lc(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function uc(e,t){const n=Ae(e)?ze(e):e,r=Ae(t)?ze(t):t;return lc(n,r)}async function Gs(e,{address:t,hash:n,signature:r,...s}){const a=Ae(r)?r:De(r);try{const{data:o}=await K(e,wn,"call")({data:Ls({abi:Ko,args:[t,n,a],bytecode:cc}),...s});return uc(o??"0x0","0x1")}catch(o){if(o instanceof us)return!1;throw o}}async function dc(e,{address:t,message:n,signature:r,...s}){const a=ec(n);return Gs(e,{address:t,hash:a,signature:r,...s})}async function fc(e,{address:t,signature:n,message:r,primaryType:s,types:a,domain:o,...i}){const l=Ki({message:r,primaryType:s,types:a,domain:o});return Gs(e,{address:t,hash:l,signature:n,...i})}function zs(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:a,pollingInterval:o=e.pollingInterval}){const i=typeof a<"u"?a:e.transport.type!=="webSocket";let l;return i?(()=>{const y=be(["watchBlockNumber",e.uid,t,n,o]);return gt(y,{onBlockNumber:r,onError:s},x=>qt(async()=>{var C;try{const w=await K(e,Kt,"getBlockNumber")({cacheTime:0});if(l){if(w===l)return;if(w-l>1&&n)for(let N=l+1n;N<w;N++)x.onBlockNumber(N,l),l=N}(!l||w>l)&&(x.onBlockNumber(w,l),l=w)}catch(w){(C=x.onError)==null||C.call(x,w)}},{emitOnBegin:t,interval:o}))})():(()=>{let y=!0,x=()=>y=!1;return(async()=>{try{const{unsubscribe:C}=await e.transport.subscribe({params:["newHeads"],onData(w){var S;if(!y)return;const N=fn((S=w.result)==null?void 0:S.number);r(N,l),l=N},onError(w){s==null||s(w)}});x=C,y||x()}catch(C){s==null||s(C)}})(),x})()}async function hc(e,{confirmations:t=1,hash:n,onReplaced:r,pollingInterval:s=e.pollingInterval,timeout:a}){const o=be(["waitForTransactionReceipt",e.uid,n]);let i,l,g,m=!1;return new Promise((y,x)=>{a&&setTimeout(()=>x(new So({hash:n})),a);const C=gt(o,{onReplaced:r,resolve:y,reject:x},w=>{const N=K(e,zs,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:s,async onBlockNumber(S){if(m)return;let E=S;const T=v=>{N(),v(),C()};try{if(g){if(t>1&&(!g.blockNumber||E-g.blockNumber+1n<t))return;T(()=>w.resolve(g));return}if(i||(m=!0,await Xn(async()=>{i=await K(e,Pr,"getTransaction")({hash:n}),i.blockNumber&&(E=i.blockNumber)},{delay:({count:v})=>~~(1<<v)*200,retryCount:6}),m=!1),g=await K(e,er,"getTransactionReceipt")({hash:n}),t>1&&(!g.blockNumber||E-g.blockNumber+1n<t))return;T(()=>w.resolve(g))}catch(v){if(i&&(v instanceof cs||v instanceof ls))try{l=i,m=!0;const j=await Xn(()=>K(e,He,"getBlock")({blockNumber:E,includeTransactions:!0}),{delay:({count:I})=>~~(1<<I)*200,retryCount:6,shouldRetry:({error:I})=>I instanceof fs});m=!1;const k=j.transactions.find(({from:I,nonce:J})=>I===l.from&&J===l.nonce);if(!k||(g=await K(e,er,"getTransactionReceipt")({hash:k.hash}),t>1&&(!g.blockNumber||E-g.blockNumber+1n<t)))return;let $="replaced";k.to===l.to&&k.value===l.value?$="repriced":k.from===k.to&&k.value===0n&&($="cancelled"),T(()=>{var I;(I=w.onReplaced)==null||I.call(w,{reason:$,replacedTransaction:l,transaction:k,transactionReceipt:g}),w.resolve(g)})}catch(j){T(()=>w.reject(j))}else T(()=>w.reject(v))}}})})})}function mc(e,{blockTag:t="latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:a,includeTransactions:o,poll:i,pollingInterval:l=e.pollingInterval}){const g=typeof i<"u"?i:e.transport.type!=="webSocket",m=o??!1;let y;return g?(()=>{const w=be(["watchBlocks",e.uid,n,r,m,l]);return gt(w,{onBlock:s,onError:a},N=>qt(async()=>{var S;try{const E=await K(e,He,"getBlock")({blockTag:t,includeTransactions:m});if(E.number&&(y!=null&&y.number)){if(E.number===y.number)return;if(E.number-y.number>1&&n)for(let T=(y==null?void 0:y.number)+1n;T<E.number;T++){const v=await K(e,He,"getBlock")({blockNumber:T,includeTransactions:m});N.onBlock(v,y),y=v}}(!(y!=null&&y.number)||t==="pending"&&!(E!=null&&E.number)||E.number&&E.number>y.number)&&(N.onBlock(E,y),y=E)}catch(E){(S=N.onError)==null||S.call(N,E)}},{emitOnBegin:r,interval:l}))})():(()=>{let w=!0,N=()=>w=!1;return(async()=>{try{const{unsubscribe:S}=await e.transport.subscribe({params:["newHeads"],onData(E){var j,k,$;if(!w)return;const v=((($=(k=(j=e.chain)==null?void 0:j.formatters)==null?void 0:k.block)==null?void 0:$.format)||gs)(E.result);s(v,y),y=v},onError(E){a==null||a(E)}});N=S,w||N()}catch(S){a==null||a(S)}})(),N})()}function gc(e,{address:t,args:n,batch:r=!0,event:s,events:a,onError:o,onLogs:i,poll:l,pollingInterval:g=e.pollingInterval,strict:m}){const y=typeof l<"u"?l:e.transport.type!=="webSocket",x=m??!1;return y?(()=>{const N=be(["watchEvent",t,n,r,e.uid,s,g]);return gt(N,{onLogs:i,onError:o},S=>{let E,T,v=!1;const j=qt(async()=>{var k;if(!v){try{T=await K(e,$s,"createEventFilter")({address:t,args:n,event:s,events:a,strict:x})}catch{}v=!0;return}try{let $;if(T)$=await K(e,xn,"getFilterChanges")({filter:T});else{const I=await K(e,Kt,"getBlockNumber")({});E&&E!==I?$=await K(e,yr,"getLogs")({address:t,args:n,event:s,events:a,fromBlock:E+1n,toBlock:I}):$=[],E=I}if($.length===0)return;if(r)S.onLogs($);else for(const I of $)S.onLogs([I])}catch($){T&&$ instanceof et&&(v=!1),(k=S.onError)==null||k.call(S,$)}},{emitOnBegin:!0,interval:g});return async()=>{T&&await K(e,vn,"uninstallFilter")({filter:T}),j()}})})():(()=>{let N=!0,S=()=>N=!1;return(async()=>{try{const E=a??(s?[s]:void 0);let T=[];E&&(T=[E.flatMap(j=>Ut({abi:[j],eventName:j.name,args:n}))],s&&(T=T[0]));const{unsubscribe:v}=await e.transport.subscribe({params:["logs",{address:t,topics:T}],onData(j){var $;if(!N)return;const k=j.result;try{const{eventName:I,args:J}=Wt({abi:E,data:k.data,topics:k.topics,strict:x}),H=Ne(k,{args:J,eventName:I});i([H])}catch(I){let J,H;if(I instanceof Qe||I instanceof lt){if(m)return;J=I.abiItem.name,H=($=I.abiItem.inputs)==null?void 0:$.some(Z=>!("name"in Z&&Z.name))}const U=Ne(k,{args:H?[]:{},eventName:J});i([U])}},onError(j){o==null||o(j)}});S=v,N||S()}catch(E){o==null||o(E)}})(),S})()}function pc(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:a=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket")?(()=>{const g=be(["watchPendingTransactions",e.uid,t,a]);return gt(g,{onTransactions:r,onError:n},m=>{let y;const x=qt(async()=>{var C;try{if(!y)try{y=await K(e,Is,"createPendingTransactionFilter")({});return}catch(N){throw x(),N}const w=await K(e,xn,"getFilterChanges")({filter:y});if(w.length===0)return;if(t)m.onTransactions(w);else for(const N of w)m.onTransactions([N])}catch(w){(C=m.onError)==null||C.call(m,w)}},{emitOnBegin:!0,interval:a});return async()=>{y&&await K(e,vn,"uninstallFilter")({filter:y}),x()}})})():(()=>{let g=!0,m=()=>g=!1;return(async()=>{try{const{unsubscribe:y}=await e.transport.subscribe({params:["newPendingTransactions"],onData(x){if(!g)return;const C=x.result;r([C])},onError(x){n==null||n(x)}});m=y,g||m()}catch(y){n==null||n(y)}})(),m})()}function bc(e){return{call:t=>wn(e,t),createBlockFilter:()=>Di(e),createContractEventFilter:t=>rs(e,t),createEventFilter:t=>$s(e,t),createPendingTransactionFilter:()=>Is(e),estimateContractGas:t=>_o(e,t),estimateGas:t=>br(e,t),getBalance:t=>Li(e,t),getBlock:t=>He(e,t),getBlockNumber:t=>Kt(e,t),getBlockTransactionCount:t=>Gi(e,t),getBytecode:t=>zi(e,t),getChainId:()=>Lt(e),getContractEvents:t=>ys(e,t),getEnsAddress:t=>Ti(e,t),getEnsAvatar:t=>ki(e,t),getEnsName:t=>Fi(e,t),getEnsResolver:t=>Bi(e,t),getEnsText:t=>As(e,t),getFeeHistory:t=>Hi(e,t),estimateFeesPerGas:t=>Uo(e,t),getFilterChanges:t=>xn(e,t),getFilterLogs:t=>_i(e,t),getGasPrice:()=>pr(e),getLogs:t=>yr(e,t),getProof:t=>sc(e,t),estimateMaxPriorityFeePerGas:t=>zo(e,t),getStorageAt:t=>ac(e,t),getTransaction:t=>Pr(e,t),getTransactionConfirmations:t=>oc(e,t),getTransactionCount:t=>bs(e,t),getTransactionReceipt:t=>er(e,t),multicall:t=>ic(e,t),prepareTransactionRequest:t=>yn(e,t),readContract:t=>_e(e,t),sendRawTransaction:t=>wr(e,t),simulateContract:t=>ti(e,t),verifyMessage:t=>dc(e,t),verifyTypedData:t=>fc(e,t),uninstallFilter:t=>vn(e,t),waitForTransactionReceipt:t=>hc(e,t),watchBlocks:t=>mc(e,t),watchBlockNumber:t=>zs(e,t),watchContractEvent:t=>ci(e,t),watchEvent:t=>gc(e,t),watchPendingTransactions:t=>pc(e,t)}}function yc(e){const{key:t="public",name:n="Public Client"}=e;return Ps({...e,key:t,name:n,type:"publicClient"}).extend(bc)}function wc(e,{abi:t,args:n,bytecode:r,...s}){const a=Ls({abi:t,args:n,bytecode:r});return xr(e,{...s,data:a})}async function xc(e){var n;return((n=e.account)==null?void 0:n.type)==="local"?[e.account.address]:(await e.request({method:"eth_accounts"})).map(r=>ur(r))}async function vc(e){return await e.request({method:"wallet_getPermissions"})}async function Tc(e){return(await e.request({method:"eth_requestAccounts"})).map(n=>go(n))}async function Ec(e,t){return e.request({method:"wallet_requestPermissions",params:[t]})}async function Pc(e,{account:t=e.account,message:n}){if(!t)throw new ft({docsPath:"/docs/actions/wallet/signMessage"});const r=Pe(t);if(r.type==="local")return r.signMessage({message:n});const s=typeof n=="string"?nr(n):n.raw instanceof Uint8Array?De(n.raw):n.raw;return e.request({method:"personal_sign",params:[s,r.address]})}async function Nc(e,t){var g,m,y,x;const{account:n=e.account,chain:r=e.chain,...s}=t;if(!n)throw new ft({docsPath:"/docs/actions/wallet/signTransaction"});const a=Pe(n);_t({account:a,...t});const o=await K(e,Lt,"getChainId")({});r!==null&&Es({currentChainId:o,chain:r});const i=(r==null?void 0:r.formatters)||((g=e.chain)==null?void 0:g.formatters),l=((m=i==null?void 0:i.transactionRequest)==null?void 0:m.format)||bn;return a.type==="local"?a.signTransaction({...s,chainId:o},{serializer:(x=(y=e.chain)==null?void 0:y.serializers)==null?void 0:x.transaction}):await e.request({method:"eth_signTransaction",params:[{...l(s),chainId:V(o),from:a.address}]})}async function Cc(e,{account:t=e.account,domain:n,message:r,primaryType:s,types:a}){if(!t)throw new ft({docsPath:"/docs/actions/wallet/signTypedData"});const o=Pe(t),i={EIP712Domain:Ds({domain:n}),...a};if(Bs({domain:n,message:r,primaryType:s,types:i}),o.type==="local")return o.signTypedData({domain:n,primaryType:s,types:i,message:r});const l=be({domain:n??{},primaryType:s,types:i,message:r},(g,m)=>Ae(m)?m.toLowerCase():m);return e.request({method:"eth_signTypedData_v4",params:[o.address,l]})}async function jc(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:V(t)}]})}async function Rc(e,t){return await e.request({method:"wallet_watchAsset",params:t})}function Sc(e){return{addChain:t=>di(e,t),deployContract:t=>wc(e,t),getAddresses:()=>xc(e),getChainId:()=>Lt(e),getPermissions:()=>vc(e),prepareTransactionRequest:t=>yn(e,t),requestAddresses:()=>Tc(e),requestPermissions:t=>Ec(e,t),sendRawTransaction:t=>wr(e,t),sendTransaction:t=>xr(e,t),signMessage:t=>Pc(e,t),signTransaction:t=>Nc(e,t),signTypedData:t=>Cc(e,t),switchChain:t=>jc(e,t),watchAsset:t=>Rc(e,t),writeContract:t=>ui(e,t)}}function Ur(e){const{key:t="wallet",name:n="Wallet Client",transport:r}=e;return Ps({...e,key:t,name:n,transport:a=>r({...a,retryCount:0}),type:"walletClient"}).extend(Sc)}const nt={ERROR:"error",WARN:"warn",INFO:"info",DEBUG:"debug",LOG:"log"},Ac=[nt.ERROR];class $c{constructor(t="App"){this.module=t}_shouldLog(t){return!(t!==nt.ERROR||!Ac.includes(t))}_formatMessage(t){return`[${this.module}] ${t}`}error(...t){}warn(...t){this._shouldLog(nt.WARN)}info(...t){this._shouldLog(nt.INFO)&&console.info(this._formatMessage(t[0]),...t.slice(1))}debug(...t){this._shouldLog(nt.DEBUG)&&console.debug(this._formatMessage(t[0]),...t.slice(1))}log(...t){this._shouldLog(nt.LOG)}}const Ic=e=>new $c(e),h=Ic("Blockchain"),Se={6342:{name:"MegaETH Testnet",rpcUrl:"https://carrot.megaeth.com/rpc",fallbackRpcUrls:["https://carrot.megaeth.com/rpc"],wsUrl:"wss://carrot.megaeth.com/ws",contractAddress:"0xb34cac1135c27ec810e7e6880325085783c1a7e0",faucetAddress:"0x76b71a17d82232fd29aca475d14ed596c67c4b85",chainId:6342,sendMethod:"realtime_sendRawTransaction",connectionTimeouts:{initial:1e4,retry:3e3,request:5e3},maxConnections:3},31337:{name:"Foundry Local",rpcUrl:"http://127.0.0.1:8545",fallbackRpcUrls:["http://127.0.0.1:8545"],contractAddress:"0xb34cac1135c27ec810e7e6880325085783c1a7e0",faucetAddress:"0x76b71a17d82232fd29aca475d14ed596c67c4b85",chainId:31337,sendMethod:"eth_sendRawTransaction",connectionTimeouts:{initial:1e4,retry:5e3,request:15e3},maxConnections:2},50311:{name:"Somnia Testnet",rpcUrl:"https://testnet.somnia.network",fallbackRpcUrls:["https://testnet.somnia.network"],contractAddress:"0xb34cac1135c27ec810e7e6880325085783c1a7e0",faucetAddress:"0x76b71a17d82232fd29aca475d14ed596c67c4b85",chainId:50311,sendMethod:"eth_sendRawTransaction",connectionTimeouts:{initial:2e4,retry:1e4,request:3e4},maxConnections:2},1313161556:{name:"RISE Testnet",rpcUrl:"https://testnet-rpc.rise.com",fallbackRpcUrls:["https://testnet-rpc.rise.com"],contractAddress:"0xb34cac1135c27ec810e7e6880325085783c1a7e0",faucetAddress:"0x76b71a17d82232fd29aca475d14ed596c67c4b85",chainId:1313161556,sendMethod:"eth_sendRawTransactionSync",connectionTimeouts:{initial:2e4,retry:1e4,request:3e4},maxConnections:2}},Oc=[{inputs:[],name:"update",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"number",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"}],In=e=>{try{if(typeof e=="string"){const t=e.replace(/^cadesplugin_loaded/,"").replace(/^EnableInte.*?$/,"").trim();return t.length===0?null:JSON.parse(t)}return e}catch(t){return h.warn("Failed to parse JSON response:",t.message,"Data:",e),null}},Us=()=>{const{authenticated:e}=ct(),{wallets:t}=on(),[n,r]=F.useState(!1),[s,a]=F.useState(!1),[o,i]=F.useState("0"),[l,g]=F.useState(0),m=F.useRef({}),y=F.useRef({}),x="megaBuddies_globalCache",C={gasParams:5*60*1e3,chainParams:30*1e3,rpcHealth:2*60*1e3,clients:10*60*1e3,nonce:30*1e3},w=()=>{try{const f={gasParams:{data:(d=>JSON.parse(JSON.stringify(d,(p,b)=>typeof b=="bigint"?b.toString()+"n":b)))(y.current),timestamp:Date.now()},chainParams:{data:H.current,timestamp:Date.now()},rpcHealth:{data:S.current,timestamp:Date.now()},nonceCache:{data:v.current,timestamp:Date.now()}};localStorage.setItem(x,JSON.stringify(f))}catch(c){h.warn("Failed to save global cache:",c)}},N=()=>{try{const c=localStorage.getItem(x);if(c){const f=JSON.parse(c),d=Date.now(),p=b=>{if(typeof b=="string"&&b.endsWith("n"))return BigInt(b.slice(0,-1));if(typeof b=="object"&&b!==null){const P=Array.isArray(b)?[]:{};for(const[R,z]of Object.entries(b))P[R]=p(z);return P}return b};f.gasParams&&d-f.gasParams.timestamp<C.gasParams&&(y.current=p(f.gasParams.data),h.log(" Loaded cached gas parameters from storage")),f.chainParams&&d-f.chainParams.timestamp<C.chainParams&&(H.current=f.chainParams.data,h.log(" Loaded cached chain parameters from storage")),f.rpcHealth&&d-f.rpcHealth.timestamp<C.rpcHealth&&(S.current=f.rpcHealth.data,h.log(" Loaded cached RPC health from storage")),f.nonceCache&&d-f.nonceCache.timestamp<C.nonce&&(Object.entries(f.nonceCache.data).forEach(([b,P])=>{P&&typeof P.currentNonce=="number"&&(v.current[b]={...P,isUpdating:!1,lastUpdate:P.lastUpdate||0})}),h.log(" Loaded cached nonce data from storage"))}}catch(c){h.warn("Failed to load global cache:",c)}};F.useEffect(()=>{N();const c=setInterval(w,3e4),f=()=>w();window.addEventListener("beforeunload",f);const d=setInterval(()=>{Object.keys(me.current).forEach(p=>{const b=me.current[p];b&&b.state==="OPEN"&&Date.now()-b.lastFailureTime>b.timeout&&(b.state="HALF_OPEN",b.failures=0,h.log(` Auto-reset circuit breaker for chain ${p} - trying again`))})},1e4);return()=>{clearInterval(c),clearInterval(d),window.removeEventListener("beforeunload",f),w()}},[]),F.useRef({});const S=F.useRef({}),E=F.useRef({}),T=F.useRef({}),v=F.useRef({}),j=F.useRef({}),k=F.useRef(0),$=F.useRef({}),I=c=>($.current[c]||($.current[c]={recentTransactions:[],averageBlockchainTime:0,successRate:0,totalTransactions:0,successfulTransactions:0,lastUpdate:Date.now()}),$.current[c]),J=(c,f,d)=>{const p=I(c);p.recentTransactions.push({blockchainTime:f,success:d,timestamp:Date.now()}),p.recentTransactions.length>50&&p.recentTransactions.shift(),p.totalTransactions++,d&&p.successfulTransactions++;const b=p.recentTransactions.filter(P=>P.success);return b.length>0&&(p.averageBlockchainTime=b.reduce((P,R)=>P+R.blockchainTime,0)/b.length),p.successRate=p.successfulTransactions/p.totalTransactions*100,p.lastUpdate=Date.now(),p},H=F.useRef({}),U={6342:{poolSize:200,refillAt:.15,batchSize:50,maxRetries:3,retryDelay:200,burstMode:!0,maxBurstSize:10,burstCooldown:200},31337:{poolSize:120,refillAt:.2,batchSize:30,maxRetries:3,retryDelay:150,burstMode:!0,maxBurstSize:8,burstCooldown:200},50311:{poolSize:100,refillAt:.2,batchSize:25,maxRetries:3,retryDelay:300,burstMode:!0,maxBurstSize:6,burstCooldown:400},1313161556:{poolSize:50,refillAt:.4,batchSize:12,maxRetries:2,retryDelay:400,burstMode:!1,maxBurstSize:2,burstCooldown:1500},default:{poolSize:60,refillAt:.3,batchSize:15,maxRetries:3,retryDelay:300,burstMode:!1,maxBurstSize:2,burstCooldown:1e3}},Z={reducedBatchSize:1,increasedDelay:1e3,degradedMode:!1},te=F.useRef({6342:{...Z}}),ne=F.useRef({}),$e=c=>(ne.current[c]||(ne.current[c]={lastBurstTime:0,burstCount:0,inCooldown:!1,pendingTransactions:[],processingBurst:!1}),ne.current[c]),Le=c=>{const f=U[c]||U.default;if(!f.burstMode)return!1;const d=$e(c),p=Date.now();return d.inCooldown&&p-d.lastBurstTime<f.burstCooldown?!1:(d.inCooldown&&p-d.lastBurstTime>=f.burstCooldown&&(d.inCooldown=!1,d.burstCount=0),d.burstCount<f.maxBurstSize)},Ke=(c,f)=>{const d=U[c]||U.default;if(!d.burstMode)return;const p=$e(c),b=Date.now();f&&(p.burstCount++,p.lastBurstTime=b,p.burstCount>=d.maxBurstSize&&(p.inCooldown=!0,h.log(`Burst mode short cooldown activated for chain ${c} (${d.burstCooldown}ms) - optimized for long sessions`)))},En=async(c,f)=>{const d=$e(c);return new Promise((p,b)=>{d.pendingTransactions.push({fn:f,resolve:p,reject:b,timestamp:Date.now()}),d.processingBurst||Pn(c)})},Pn=async c=>{const f=$e(c);for(f.processingBurst=!0;f.pendingTransactions.length>0;){if(!Le(c)){const b=U[c]||U.default,P=Math.max(100,b.burstCooldown/10);await new Promise(R=>setTimeout(R,P));continue}const p=f.pendingTransactions.shift();if(!p)break;try{const b=await p.fn();Ke(c,!0),p.resolve(b)}catch(b){Ke(c,!1),p.reject(b)}}f.processingBurst=!1},Jt=c=>{const f=Se[c];f&&(S.current[c]||(S.current[c]={endpoints:f.fallbackRpcUrls.map(d=>({url:d,healthy:!0,lastChecked:0,consecutiveFailures:0,responseTime:0})),currentEndpointIndex:0,lastHealthCheck:0}))},Yt=async c=>{const f=S.current[c];if(!f)return Jt(c),Se[c].rpcUrl;for(let d=0;d<f.endpoints.length;d++){const p=f.endpoints[f.currentEndpointIndex];if(p.healthy||p.consecutiveFailures<3)return p.url;f.currentEndpointIndex=(f.currentEndpointIndex+1)%f.endpoints.length}return h.warn(`All RPC endpoints for chain ${c} appear unhealthy, using primary`),f.endpoints[0].url},Nn=(c,f,d,p=0)=>{const b=S.current[c];if(!b)return;const P=b.endpoints.find(R=>R.url===f);P&&(P.lastChecked=Date.now(),P.responseTime=p,d?(P.healthy=!0,P.consecutiveFailures=0):(P.consecutiveFailures++,P.consecutiveFailures>=3&&(P.healthy=!1,h.warn(`Marking RPC endpoint as unhealthy: ${f} (${P.consecutiveFailures} failures)`))))},Cn=(c,f)=>{const d=`${c}-${f}`,p=Se[c];if(E.current[d]||(E.current[d]=0),E.current[d]>=p.maxConnections)throw new Error(`Maximum connections (${p.maxConnections}) reached for ${d}`);return E.current[d]++,()=>{E.current[d]>0&&E.current[d]--}},pt=c=>{const f=te.current[c];f&&(f.degradedMode=!0,h.log(`Enabled fallback mode for chain ${c}`))},Vt=c=>{const f=te.current[c];return f!=null&&f.degradedMode?f:null},fe=()=>{if(!e||!t.length)return null;const c=t.find(f=>f.walletClientType==="privy"||f.connectorType==="embedded"||f.connectorType==="privy");return c||(t.length>0?t[0]:null)},ve=async c=>{const f=`${c}`;if(m.current[f])return m.current[f];const d=Se[c];if(!d)throw new Error(`Unsupported network: ${c}`);const p=fe();if(!p)throw new Error("No embedded wallet found");Jt(c);try{const b=await Yt(c);h.log(`Using RPC endpoint for chain ${c}: ${b}`);const P=Cn(c,b),R=yc({chain:{id:c,name:d.name,network:d.name.toLowerCase().replace(/\s+/g,"-"),nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:[b]},public:{http:[b]}}},transport:Gr(b,{timeout:d.connectionTimeouts.initial,retryCount:4,retryDelay:({count:A})=>Math.min(1e3*Math.pow(2,A),8e3)})});let z;c===6342?z=Ur({account:p.address,chain:R.chain,transport:gi({async request({method:A,params:D}){var _,W;if(A==="eth_signTransaction"){const Y=fe();if(!Y)throw new Error("No embedded wallet found for signing");const q=await((_=Y.getProvider)==null?void 0:_.call(Y))||await((W=Y.getEthereumProvider)==null?void 0:W.call(Y))||Y;if(q!=null&&q.request)return await q.request({method:A,params:D});throw new Error("Unable to get provider for signing")}return await R.request({method:A,params:D})}})}):z=Ur({account:p.address,chain:R.chain,transport:Gr(b,{timeout:d.connectionTimeouts.retry,retryCount:4,retryDelay:({count:A})=>Math.min(1e3*Math.pow(2,A),5e3)})});const B={publicClient:R,walletClient:z,config:d,rpcUrl:b,releaseConnection:P};return m.current[f]=B,h.log(`Created clients for chain ${c}:`,{publicRPC:b,signingMethod:c===6342?"Local Privy":"RPC"}),B}catch(b){throw h.error(`Error creating clients for chain ${c}:`,b),b}},Ee=(c,f)=>{const d=`${c}-${f}`;return v.current[d]||(v.current[d]={currentNonce:null,pendingNonce:null,lastUpdate:0,isUpdating:!1}),v.current[d]},tt=async(c,f,d=!1)=>{const p=Ee(c,f),b=Date.now(),P=c.toString(),R=T.current[P];if(R&&R.isReady&&!d){const B=R.baseNonce+R.currentIndex;return h.log(` Using pool-based nonce ${B} for ${f} on chain ${c} (pool: ${R.currentIndex}/${R.transactions.length})`),B}if(!p.currentNonce||d||b-p.lastUpdate>3e4){if(p.isUpdating){let B=0;for(;p.isUpdating&&B<5e3;)await new Promise(A=>setTimeout(A,100)),B+=100;p.isUpdating&&(h.warn(" Nonce update timeout, forcing reset"),p.isUpdating=!1)}if(!p.isUpdating){p.isUpdating=!0;try{const{publicClient:B}=await ve(c),[A,D]=await Promise.all([B.getTransactionCount({address:f,blockTag:"latest"}),B.getTransactionCount({address:f,blockTag:"pending"})]),_=Math.max(A,D),W=p.currentNonce||0;d?(p.currentNonce=_,p.pendingNonce=_,h.log(` Force refresh: nonce updated for ${f} on chain ${c}: ${W}  ${_}`)):_>W?(p.currentNonce=_,p.pendingNonce=_,h.log(` Nonce updated for ${f} on chain ${c}: ${W}  ${_}`)):(p.pendingNonce=p.currentNonce,h.log(` Keeping local nonce for ${f} on chain ${c}: ${p.currentNonce} (network: ${_})`)),p.lastUpdate=b}catch(B){h.error(" Error updating nonce:",B),p.currentNonce!==null?(h.warn(` Using cached nonce ${p.currentNonce} due to network error`),p.pendingNonce=p.currentNonce):(p.currentNonce=0,p.pendingNonce=0,h.warn(" Initializing nonce to 0 due to network error"))}finally{p.isUpdating=!1}}}const z=p.pendingNonce;return p.pendingNonce+=1,h.log(` Allocated nonce ${z} for ${f} on chain ${c}`),z},Xt=async c=>{const f=c.toString();if(y.current[f]){const d=y.current[f],p=Date.now()-(d.timestamp||0),b=c===6342?2*60*1e3:C.gasParams;if(p<b)return h.log(` Using cached gas params for chain ${c} (age: ${Math.round(p/1e3)}s)`),d}try{const{publicClient:d}=await ve(c);let p,b;if(c===6342)h.log(" Using ultra-optimized gas parameters for MegaETH real-time gaming"),p=Me("0.001"),b=Me("0.0005");else if(c===31337)p=Me("0.01"),b=Me("0.001");else try{p=await d.getGasPrice()*2n,b=Me("1")}catch(R){h.warn("Failed to get dynamic gas price, using fallback:",R),p=Me("20"),b=Me("2")}const P={maxFeePerGas:p,maxPriorityFeePerGas:b,timestamp:Date.now()};return y.current[f]=P,h.log(` Gas params for chain ${c}: {maxFeePerGas: ${Number(p)/1e9} gwei, maxPriorityFeePerGas: ${Number(b)/1e9} gwei}`),setTimeout(w,100),P}catch(d){if(h.error("Error getting gas params:",d),y.current[f])return h.log(" Using stale cached gas params due to error"),y.current[f];const p={maxFeePerGas:Me("20"),maxPriorityFeePerGas:Me("2"),timestamp:Date.now()};return y.current[f]=p,p}},L=async c=>{const f=c.toString();if(H.current[f])return H.current[f];try{const{publicClient:d}=await ve(c),[p,b]=await Promise.all([je(()=>d.getChainId(),2,500,c),je(()=>d.getBlockNumber(),2,500,c)]),P={chainId:p,blockNumber:Number(b)},R=c===6342?3e4:6e4;return H.current[f]=P,setTimeout(()=>{delete H.current[f]},R),h.log(`Cached chain params for ${c}:`,P),P}catch(d){return h.error("Error getting chain params:",d),{chainId:c,blockNumber:0}}},M=async(c,f,d)=>{const p=c.toString(),b=U[c]||U.default,P=Vt(c);let R=Math.min(d,b.poolSize);P&&(R=Math.min(R,P.reducedBatchSize),h.log(`Using fallback mode for chain ${c}: batch size ${R}`)),h.log(`Pre-signing ${R} transactions for chain ${c} starting from nonce ${f}`),T.current[p]||(T.current[p]={transactions:[],currentIndex:0,baseNonce:f,hasTriggeredRefill:!1,isRefilling:!1,isReady:!1});const z=T.current[p],{walletClient:B}=await ve(c),A=await Xt(c);h.log(`Using gas parameters: {maxFeePerGasGwei: ${Number(A.maxFeePerGas)/10**9}, maxPriorityFeePerGasGwei: ${Number(A.maxPriorityFeePerGas)/10**9}}`);const D=Se[c],_=fe(),W=10;h.log(` Starting parallel pre-signing of ${R} transactions`);try{const q=f,Q={account:_.address,to:D.contractAddress,data:"0xa2e62045",nonce:q,maxFeePerGas:A.maxFeePerGas,maxPriorityFeePerGas:A.maxPriorityFeePerGas,value:0n,type:"eip1559",gas:100000n},ue=await B.signTransaction(Q);z.transactions.push({signedTx:ue,_reservedNonce:q,timestamp:Date.now()}),z.isReady=!0,h.log(" First transaction ready - gaming can begin!"),h.log(" Pre-signed transaction pool is now ACTIVE with 1 transaction"),Je(c)}catch(q){throw h.error("Failed to sign first transaction:",q),q}for(let q=1;q<R;q+=W){const Q=Math.min(q+W,R),ue=[];for(let ge=q;ge<Q;ge++){const ce=f+ge,Xe=async()=>{var ye,Ze;try{const Re={account:_.address,to:D.contractAddress,data:"0xa2e62045",nonce:ce,maxFeePerGas:A.maxFeePerGas,maxPriorityFeePerGas:A.maxPriorityFeePerGas,value:0n,type:"eip1559",gas:100000n};let jn;return c===6342?jn=await je(async()=>await B.signTransaction(Re),P?1:b.maxRetries,b.retryDelay,c):jn=await je(()=>B.signTransaction(Re),P?1:b.maxRetries,b.retryDelay,c),{signedTx:jn,_reservedNonce:ce,timestamp:Date.now()}}catch(Re){return h.error(`Error signing transaction with nonce ${ce}:`,Re),((ye=Re.message)!=null&&ye.includes("rate limit")||Re.status===429||Re.status===403||(Ze=Re.message)!=null&&Ze.includes("not whitelisted"))&&h.log("Rate limit/403/not whitelisted detected during pre-signing, skipping transaction"),null}};ue.push(Xe())}const X=(await Promise.all(ue)).filter(ge=>ge!==null);if(z.transactions.push(...X),h.log(`Pre-signed batch ${Math.floor((q-1)/W)+1}/${Math.ceil((R-1)/W)} - total ${z.transactions.length}/${R}`),Q<R){const ge=P?P.increasedDelay:Math.min(b.retryDelay,100);ge>0&&await new Promise(ce=>setTimeout(ce,ge))}}h.log(`Successfully pre-signed ${z.transactions.length} transactions`),P&&z.transactions.length>0&&h.log("Fallback mode: minimum transactions ready for gaming");const Y=Ee(c,_.address);Y&&(Y.pendingNonce=Math.max(Y.pendingNonce||0,f+z.transactions.length))},ee=async(c,f,d)=>{const p=c.toString(),b=T.current[p];if(!b||b.isRefilling){h.log("Pool extension already in progress, skipping");return}try{b.isRefilling=!0,h.log(`Extending pool for chain ${c} from nonce ${f} with ${d} transactions`);const P=[],{walletClient:R}=await ve(c),z=await Xt(c),B=Se[c],A=fe(),D=10;h.log(` Starting parallel signing of ${d} transactions in batches of ${D}`);for(let _=0;_<d;_+=D){const W=Math.min(_+D,d),Y=W-_,q=[];for(let oe=_;oe<W;oe++){const X=f+oe,ge=async()=>{try{const ce={account:A.address,to:B.contractAddress,data:"0xa2e62045",nonce:X,maxFeePerGas:z.maxFeePerGas,maxPriorityFeePerGas:z.maxPriorityFeePerGas,value:0n,type:"eip1559",gas:100000n};return{signedTx:await R.signTransaction(ce),_reservedNonce:X,timestamp:Date.now()}}catch(ce){return h.error(`Error signing extension transaction with nonce ${X}:`,ce),null}};q.push(ge())}const ue=(await Promise.all(q)).filter(oe=>oe!==null);if(P.push(...ue),h.log(`Extended pool: signed batch ${Math.floor(_/D)+1}/${Math.ceil(d/D)} - total ${P.length}/${d}`),ue.length<Y){h.warn(` Only ${ue.length}/${Y} transactions signed in batch, stopping extension`);break}}if(b&&P.length>0){b.transactions.push(...P),h.log(`Pool extended successfully. Total transactions: ${b.transactions.length}`);const _=Ee(c,A.address);_&&(_.pendingNonce=Math.max(_.pendingNonce||0,f+P.length)),setTimeout(()=>{b&&(b.hasTriggeredRefill=!1)},1e3)}}catch(P){h.error("Error extending transaction pool:",P)}finally{b&&(b.isRefilling=!1)}},G=async c=>{const f=c.toString(),d=T.current[f],p=U[c]||U.default;if(d&&d.isReady&&d.transactions.length>d.currentIndex){const b=d.transactions[d.currentIndex];d.currentIndex++,h.log(` Using pre-signed transaction ${d.currentIndex}/${d.transactions.length} (nonce: ${b._reservedNonce})`),d.currentIndex%10===0&&d.currentIndex>0&&!d.hasTriggeredRefill&&!d.isRefilling&&(h.log(` OPTIMIZED refilling at ${d.currentIndex} transactions used`),d.hasTriggeredRefill=!0,setTimeout(async()=>{try{const R=fe();if(R){const B=Ee(c,R.address).pendingNonce,A=d.currentIndex,D=Math.max(35,p.batchSize*2),_=A>50?Math.floor(D*1.5):D;h.log(` ENHANCED pool: adding ${_} transactions (consumed 3, net growth +${_-3})`),h.log(` Pool status before refill: ${d.transactions.length-d.currentIndex} remaining`),await ee(c,B,_)}}catch(R){h.error(" Error in enhanced pool refill:",R),d.hasTriggeredRefill=!1}},0));const P=d.transactions.length-d.currentIndex;return P<=5&&!d.hasTriggeredRefill&&!d.isRefilling&&(h.warn(` CRITICAL: Only ${P} transactions left, emergency refill!`),d.hasTriggeredRefill=!0,setTimeout(async()=>{try{const R=fe();if(R){const B=Ee(c,R.address).pendingNonce,A=Math.max(50,p.batchSize*2.5);h.log(` EMERGENCY refill: adding ${A} transactions`),await ee(c,B,A)}}catch(R){h.error(" Emergency refill failed:",R),d.hasTriggeredRefill=!1}},0)),b.signedTx}else if(d)if(d.isReady){if(d.transactions.length<=d.currentIndex)throw h.log(` Transaction pool empty for chain ${c} (used ${d.currentIndex}/${d.transactions.length})`),new Error(`Pre-signed transaction pool exhausted for chain ${c}. Only pre-signed transactions are allowed.`)}else throw h.log(` Transaction pool not ready yet for chain ${c} (${d.transactions.length} transactions in progress)`),new Error(`Pre-signed transaction pool not ready for chain ${c}. Wait for initialization to complete.`);else throw h.log(` No transaction pool exists for chain ${c}`),new Error(`No pre-signed transaction pool available for chain ${c}. Only pre-signed transactions are allowed.`);try{h.error(" CRITICAL: Pre-signed pool empty! Attempting emergency refill...");const b=fe();if(b){const P=Ee(c,b.address),R=U[c]||U.default,z=Math.min(5,R.batchSize),B=P.pendingNonce;h.log(` Emergency pre-signing ${z} transactions from nonce ${B}`),await M(c,B,z);const A=T.current[c.toString()];if(A&&A.isReady&&A.transactions.length>A.currentIndex){const D=A.transactions[A.currentIndex];return A.currentIndex++,h.log(` Emergency transaction obtained: ${A.currentIndex}/${A.transactions.length}`),D.signedTx}}}catch(b){h.error(" Emergency refill failed:",b)}throw new Error("CRITICAL ERROR: Pre-signed transaction pool exhausted and emergency refill failed. Only pre-signed transactions are allowed in this game.")},Je=c=>{const f=c.toString(),d=setInterval(()=>{const p=T.current[f];if(!p||!p.isReady)return;const b=p.transactions.length-p.currentIndex,P=p.transactions.length,R=p.currentIndex,z=Math.floor(R/5);if(R%5===0&&R>0){const B=b>30?" EXCELLENT":b>20?" GOOD":b>10?" WARNING":" CRITICAL";h.log(` Enhanced Pool Stats for chain ${c} (Jump #${R}):`),h.log(`   Consumed: ${R} transactions`),h.log(`   Remaining: ${b} transactions`),h.log(`   Total pool size: ${P} transactions`),h.log(`   Pool health: ${B}`),h.log(`   Refill status: ${p.isRefilling?" ACTIVE":" IDLE"}`),h.log(`   Last refill triggered: ${p.hasTriggeredRefill?" YES":" NO"}`),R>=15&&R<=25&&(h.warn(` CRITICAL ZONE: Jump ${R}/20+ - monitoring for slowdown issues`),b<15&&h.error(` DANGER: Only ${b} transactions left at jump ${R}! This causes 5s delays!`))}b<=3&&!p.isRefilling&&(h.error(` INFINITE POOL VIOLATION: Only ${b} transactions left!`),h.error("   This should never happen with infinite pool logic"),h.error(`   Consumed: ${R}, Total: ${P}, Cycles: ${z}`),p.hasTriggeredRefill||(p.hasTriggeredRefill=!0,h.log(" EMERGENCY: Force-refilling infinite pool..."),setTimeout(async()=>{try{const B=fe();if(B){const A=Ee(c,B.address);await ee(c,A.pendingNonce,25)}}catch(B){h.error(" Emergency infinite pool refill failed:",B)}},0))),b<=8&&R>10&&h.warn(` INFINITE POOL: Low remaining transactions (${b}) - check refill mechanism`)},3e3);return h.log(` Started INFINITE pool monitoring for chain ${c}`),h.log(" Pool will grow by +10 transactions every 5 consumed (mathematical infinity)"),d},se=async c=>{try{const{publicClient:f}=await ve(c),d=fe();if(!d)return h.error("No embedded wallet available for balance check"),"0";const p=await f.getBalance({address:d.address}),b=(Number(p)/10**18).toFixed(4);return i(b),h.log(`Balance for ${d.address}: ${b} ETH`),b}catch(f){return h.error("Error checking balance:",f),i("0"),"0"}},ae=async(c,f)=>{const d=`faucet_${f}_${c}`,p=5*60*1e3;try{const b=localStorage.getItem(d);if(b){const A=Date.now()-parseInt(b);if(A<p){const D=Math.ceil((p-A)/1e3);throw h.log(` Faucet cooldown: ${D}s remaining`),new Error(`Faucet is on cooldown. Try again in ${D} seconds.`)}}h.log(" Calling optimized faucet for address:",c);const P=new AbortController,R=setTimeout(()=>P.abort(),3e4),z=await fetch("/api/faucet",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({address:c,chainId:f,timestamp:Date.now(),clientVersion:"1.0"}),signal:P.signal,mode:"cors"});if(clearTimeout(R),!z.ok){let A="Faucet request failed";try{const D=await z.json();if(A=D.error||A,D.code==="INSUFFICIENT_BALANCE")A="Faucet is temporarily empty. Please try again later.";else if(D.code==="RATE_LIMIT")A=`Rate limit exceeded. Try again in ${D.retryAfter||300} seconds.`;else if(D.code==="ALREADY_SUFFICIENT")return h.log(" Balance already sufficient, skipping faucet"),{success:!0,message:"Sufficient balance already available",skipped:!0}}catch(D){h.error("Failed to parse faucet error response:",D),z.status===429?A="Too many requests. Please wait a few minutes and try again.":z.status===503?A="Faucet service is temporarily unavailable. Please try again later.":A=`HTTP ${z.status}: ${z.statusText}`}throw new Error(A)}const B=await z.json();return localStorage.setItem(d,Date.now().toString()),h.log(" Faucet success:",B),B.txHash&&(h.log(" Waiting for faucet transaction to be processed..."),setTimeout(async()=>{try{await se(f),h.log(" Balance updated after faucet transaction")}catch(A){h.warn("Failed to update balance after faucet:",A)}},3e3)),{success:!0,...B,timestamp:Date.now()}}catch(b){throw h.error(" Faucet error:",b),b.name==="AbortError"?new Error("Faucet request timed out. Please check your connection and try again."):b.message.includes("Failed to fetch")||b.message.includes("NetworkError")?new Error("Network error. Please check your connection and try again."):b.message.includes("cooldown")||b.message.includes("Rate limit")||b.message.includes("temporarily unavailable")?b:new Error(`Faucet error: ${b.message}`)}},de=async(c,f)=>{var z,B,A;const d=Se[c],p=U[c]||U.default,b=await Yt(c),P=Date.now();let R=!1;try{let D,_;if(d.sendMethod==="realtime_sendRawTransaction"){if(h.log(" Using MegaETH realtime_sendRawTransaction for instant execution..."),D=await je(async()=>{var Q,ue,oe,X,ge;const Y=new AbortController,q=setTimeout(()=>Y.abort(),d.connectionTimeouts.request);try{const ce=await fetch(b,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",method:"realtime_sendRawTransaction",params:[f],id:Date.now()}),signal:Y.signal,mode:"cors"});if(clearTimeout(q),!ce.ok){const Ze=await ce.text();throw new Error(`HTTP ${ce.status}: ${Ze}`)}const Xe=await ce.text(),ye=In(Xe);if(!ye)throw new Error("Invalid response format from MegaETH RPC");if(ye.error){if((Q=ye.error.message)!=null&&Q.includes("nonce too low"))throw h.log(" MegaETH nonce too low, triggering refresh"),new Error("nonce too low");if((ue=ye.error.message)!=null&&ue.includes("rate limit"))throw h.log(" MegaETH rate limit hit, will retry"),new Error("rate limit exceeded");if((oe=ye.error.message)!=null&&oe.includes("already known"))return h.log(" Transaction already known by network - likely duplicate, treating as success"),{result:{transactionHash:"duplicate_tx_"+Date.now(),status:"0x1",gasUsed:"0x66f9",blockNumber:"0x"+Date.now().toString(16),from:((X=ye.error.data)==null?void 0:X.from)||"0x0",to:((ge=ye.error.data)==null?void 0:ge.to)||"0x0"}};throw new Error(`MegaETH RPC Error: ${ye.error.message}`)}return ye}catch(ce){throw clearTimeout(q),ce.name==="AbortError"?new Error("MegaETH RPC timeout - real-time deadline exceeded"):ce}},p.maxRetries,100,c),D.error)throw new Error(`MegaETH Real-time Error: ${D.error.message}`);return _=D.result,h.log(" MegaETH instant transaction hash:",_),R=!0,{hash:_,receipt:D.result,isInstant:!0,network:"MegaETH"}}else if(d.sendMethod==="eth_sendRawTransactionSync"){h.log(" Using RISE eth_sendRawTransactionSync for fast execution...");const W=new AbortController,Y=setTimeout(()=>W.abort(),d.connectionTimeouts.retry);try{D=await fetch(b,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",method:"eth_sendRawTransactionSync",params:[f],id:Date.now()}),signal:W.signal,mode:"cors"}),clearTimeout(Y);const q=await D.text(),Q=In(q);if(!Q)throw new Error("Invalid response format from RISE RPC");if(Q.error)throw(z=Q.error.message)!=null&&z.includes("nonce too low")?(h.log(" RISE nonce too low detected"),new Error("nonce too low")):new Error(Q.error.message||"RISE transaction failed");return R=!0,{hash:Q.result,receipt:Q.result,isInstant:!0,network:"RISE"}}catch(q){throw clearTimeout(Y),q.name==="AbortError"?new Error("RISE RPC timeout"):q}}else{h.log(" Using standard eth_sendRawTransaction...");const W=new AbortController,Y=setTimeout(()=>W.abort(),d.connectionTimeouts.retry);try{D=await fetch(b,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",method:"eth_sendRawTransaction",params:[f],id:Date.now()}),signal:W.signal,mode:"cors"}),clearTimeout(Y);const q=await D.text(),Q=In(q);if(!Q)throw new Error("Invalid response format from RPC");if(Q.error)throw(B=Q.error.message)!=null&&B.includes("nonce too low")?(h.log(" Standard RPC nonce too low detected"),new Error("nonce too low")):new Error(Q.error.message||"Transaction failed");return R=!0,{hash:Q.result,isInstant:!1,network:d.name}}catch(q){throw clearTimeout(Y),q.name==="AbortError"?new Error("Standard RPC timeout"):q}}}catch(D){if(h.error(" Send transaction error:",D),(A=D.message)!=null&&A.includes("nonce too low")){const _=fe();if(_){h.log(' Refreshing nonce due to "nonce too low" error');try{await tt(c,_.address,!0);const W=c.toString(),Y=T.current[W];Y&&(h.log(" Clearing invalid pre-signed transaction pool"),Y.transactions=[],Y.currentIndex=0,Y.isReady=!1,Y.hasTriggeredRefill=!1,setTimeout(async()=>{try{const{publicClient:q}=await ve(c),Q=await q.getTransactionCount({address:_.address,blockTag:"pending"});h.log(` Recreating pool with actual network nonce: ${Q}`);const ue=Ee(c,_.address);ue.currentNonce=Q,ue.pendingNonce=Q,ue.lastUpdate=Date.now();const oe=U[c]||U.default;await M(c,Q,oe.batchSize),h.log(` Pre-signed transaction pool recreated with correct nonces starting from ${Q}`)}catch(q){h.error(" Failed to recreate transaction pool:",q)}},100))}catch(W){h.error("Failed to refresh nonce:",W)}}}throw D}finally{const D=Date.now()-P;Nn(c,b,R,D),R&&h.log(` Transaction sent successfully in ${D}ms via ${d.sendMethod}`)}},Ie=async c=>{if(!fe())throw new Error("No embedded wallet available");if(c===6342){const b=c.toString(),P=T.current[b];if(P&&P.isReady&&P.transactions.length>P.currentIndex){if(k.current>10)throw h.log(" Maximum MegaETH throughput reached, throttling"),new Error("Transaction throughput limit reached")}else if(k.current>2)throw h.log(" Too many concurrent realtime transactions"),new Error("Realtime transaction limit reached")}else if(s)throw new Error("Transaction already pending, blocking jump");I(c);const d=performance.now();return(U[c]||U.default).burstMode&&Le(c)?(h.log(" Using burst mode for transaction"),await En(c,async()=>await Te(c,d))):await Te(c,d)},Te=async(c,f)=>{var P,R,z;let d=null,p=0,b=!1;try{if(c!==6342&&a(!0),k.current++,d=await G(c),!d)throw new Error("Failed to get transaction for sending");h.log(" Sending instant on-chain jump transaction...");const B=await de(c,d);h.log(" Transaction sent:",B);const A=Se[c];let D=B;if(A.sendMethod==="realtime_sendRawTransaction")h.log(" MegaETH instant confirmation:",B),D=B.receipt||B,b=!0;else if(A.sendMethod==="eth_sendRawTransactionSync")h.log(" RISE sync confirmation:",B),D=B.receipt||B,b=!0;else{h.log(" Waiting for transaction confirmation...");try{const{publicClient:W}=await ve(c),Y=await Promise.race([W.waitForTransactionReceipt({hash:B.hash,timeout:3e4}),new Promise((q,Q)=>setTimeout(()=>Q(new Error("Transaction confirmation timeout")),35e3))]);h.log(" Transaction confirmed:",Y),D=Y,b=!0}catch(W){h.warn(" Transaction confirmation failed, but transaction may still be valid:",W),D=B,b=!0}}p=performance.now()-f,h.log(` Jump transaction completed in ${Math.round(p)}ms:`,D);const _=J(c,p,b);return h.log(` Performance: Avg ${Math.round(_.averageBlockchainTime)}ms, Success Rate ${_.successRate.toFixed(1)}%`),{...D,blockchainTime:Math.round(p),reactionTime:0,performanceMetrics:{averageBlockchainTime:Math.round(_.averageBlockchainTime),successRate:_.successRate,totalTransactions:_.totalTransactions}}}catch(B){if(h.error(" Error sending on-chain movement:",B),p=performance.now()-f,J(c,p,!1),(P=B.message)!=null&&P.includes("nonce too low")){h.log(" Nonce too low detected, refreshing nonce and retrying...");try{const A=fe();if(A){await tt(c,A.address,!0);const D=c.toString(),_=T.current[D];_&&(h.log(" Clearing invalid pre-signed transaction pool due to nonce error"),_.transactions=[],_.currentIndex=0,_.isReady=!1,_.hasTriggeredRefill=!1),h.log(" Nonce refreshed, please try again")}else h.error(" No wallet available for nonce refresh")}catch(A){h.error(" Failed to refresh nonce:",A)}}else(R=B.message)!=null&&R.includes("context deadline exceeded")?h.log(" Network timeout detected, transaction may still be processing..."):(z=B.message)!=null&&z.includes("insufficient funds")&&h.log(" Insufficient funds detected, consider calling faucet...");throw new Error(`Blockchain transaction error: ${B.message}`)}finally{c!==6342&&a(!1),k.current=Math.max(0,k.current-1)}},Ce=async c=>{const f=c.toString();if(!(j.current[f]||n))try{r(!0),h.log(" Starting instant blockchain initialization for chain:",c);let d=null,p=0;const b=10;for(;!d&&p<b;)d=fe(),d||(await new Promise(W=>setTimeout(W,1e3)),p++);if(!d)throw new Error("No embedded wallet available");d.walletClientType==="privy"&&h.log(" INSTANT GAMING MODE ENABLED -  !"),await L(c);const P=Ee(c,d.address),R=[],z=Promise.all([se(c),je(async()=>{const{publicClient:W}=await ve(c);return await W.getTransactionCount({address:d.address,blockTag:"pending"})},3,1e3,c)]).then(([W,Y])=>(P.currentNonce=Y,P.pendingNonce=Y,P.lastUpdate=Date.now(),h.log(" Current balance:",W),h.log(" Starting nonce:",Y),parseFloat(W)<5e-5&&(h.log(` Balance is ${W} ETH (< 0.00005), calling faucet in background...`),ae(d.address,c).then(()=>(h.log(" Background faucet completed"),setTimeout(()=>se(c),5e3),tt(c,d.address,!0))).catch(q=>{h.warn(" Background faucet failed (non-blocking):",q)})),{currentBalance:W,initialNonce:Y}));R.push(z),j.current[f]=!0,h.log(" INSTANT GAMING MODE ENABLED -  !");const B=U[c]||U.default,A=Vt(c);let D=B.poolSize;A&&(D=A.reducedBatchSize,h.log(`Using fallback batch size: ${D}`)),z.then(({initialNonce:W})=>{h.log(` Background pre-signing ${D} transactions starting from nonce ${W}`);const Y=Ee(c,d.address);return Y&&(Y.pendingNonce=Math.max(Y.pendingNonce||W,W+D)),M(c,W,D).then(()=>{const q=T.current[f];q&&q.transactions.length>0?h.log(` Background pre-signed ${q.transactions.length} transactions - performance boost ready!`):h.log(" Pre-signing completed with 0 transactions - using realtime mode")}).catch(q=>{h.warn(" Background pre-signing failed (non-blocking):",q),pt(c),h.log(" Enabled realtime fallback mode - game continues smoothly")})}).catch(W=>{h.warn("Background pre-signing error (non-critical):",W)}),await z,h.log(" Blockchain ready for instant gaming on chain:",c),A?h.log(" Running in fallback mode - reduced performance expected"):h.log(" Full performance mode activating in background..."),Promise.all(R.slice(1)).then(()=>{h.log(" Full blockchain optimization complete")}).catch(W=>{h.warn(" Some background optimizations failed (non-critical):",W)})}catch(d){h.error(" Critical initialization error:",d),j.current[f]=!0,pt(c),h.log(" Emergency fallback mode enabled - game will work with realtime signing")}finally{r(!1)}},Ye=async c=>{try{const{publicClient:f,config:d}=await ve(c),p=await f.readContract({address:d.contractAddress,abi:Oc,functionName:"number"});return g(Number(p)),Number(p)}catch(f){return h.error("Error reading contract number:",f),0}},me=F.useRef({}),Ve=c=>(me.current[c]||(me.current[c]={failures:0,lastFailureTime:0,state:"CLOSED",threshold:5,timeout:6e4}),me.current[c]),je=async(c,f=3,d=1e3,p=null)=>{var R,z,B,A,D,_,W,Y,q,Q,ue;let b,P=null;if(p&&(P=Ve(p),P.state==="OPEN")){const oe=Date.now()-P.lastFailureTime;if(oe<P.timeout)throw new Error(`Circuit breaker is OPEN for chain ${p}. Try again in ${Math.round((P.timeout-oe)/1e3)} seconds.`);P.state="HALF_OPEN",h.log(`Circuit breaker for chain ${p} entering HALF_OPEN state`)}for(let oe=0;oe<f;oe++)try{const X=await c();return P&&(P.failures=0,P.state="CLOSED"),X}catch(X){b=X;const ge=oe===f-1;P&&(P.failures++,P.lastFailureTime=Date.now(),P.failures>=P.threshold&&(P.state="OPEN",h.warn(`Circuit breaker OPENED for chain ${p} after ${P.failures} failures`)));const ce=X.status===429||X.status===403||X.status===500||X.status===502||X.status===503||X.status===504||((R=X.message)==null?void 0:R.includes("rate limit"))||((z=X.message)==null?void 0:z.includes("timeout"))||((B=X.message)==null?void 0:B.includes("context deadline exceeded"))||((A=X.message)==null?void 0:A.includes("connection"))||((D=X.message)==null?void 0:D.includes("network"))||((_=X.message)==null?void 0:_.includes("fetch"))||X.name==="AbortError"||X.name==="TypeError",Xe=((W=X.message)==null?void 0:W.includes("nonce too low"))||((Y=X.message)==null?void 0:Y.includes("insufficient funds"))||((q=X.message)==null?void 0:q.includes("gas too low"))||((Q=X.message)==null?void 0:Q.includes("invalid signature"))||((ue=X.message)==null?void 0:ue.includes("execution reverted"));if(ge||Xe||!ce)throw Xe&&h.log(`Non-retryable error encountered: ${X.message}`),X;if(P&&P.state==="OPEN"){h.log(`Circuit breaker is OPEN, stopping retries for chain ${p}`);break}const ye=Math.random()*1e3,Ze=Math.min(d*Math.pow(2,oe)+ye,3e4);h.log(`Retry attempt ${oe+1}/${f} after ${Math.round(Ze)}ms delay due to:`,X.message),await new Promise(Re=>setTimeout(Re,Ze))}throw b};return F.useEffect(()=>{window.location.hostname==="localhost"&&(window.blockchainDebug={getRPCHealth:c=>S.current[c],getCircuitBreaker:c=>me.current[c],getTransactionPool:c=>T.current[c],getBurstState:c=>ne.current[c],getConnectionPool:()=>E.current,getNonceManager:(c,f)=>v.current[`${c}-${f}`],forceCircuitBreakerOpen:c=>{const f=Ve(c);f.state="OPEN",f.failures=f.threshold,f.lastFailureTime=Date.now(),h.log(`Force opened circuit breaker for chain ${c}`)},resetCircuitBreaker:c=>{const f=Ve(c);f.state="CLOSED",f.failures=0,h.log(`Reset circuit breaker for chain ${c}`)},clearTransactionPool:c=>{const f=c.toString();T.current[f]&&(T.current[f].transactions=[],T.current[f].currentIndex=0,h.log(`Cleared transaction pool for chain ${c}`))},generateHealthReport:c=>{const f=S.current[c],d=T.current[c==null?void 0:c.toString()],p=me.current[c],b={timestamp:new Date().toISOString(),chainId:c,rpcEndpoints:f,transactionPool:d?{totalTransactions:d.transactions.length,currentIndex:d.currentIndex,availableTransactions:d.transactions.length-d.currentIndex,isRefilling:d.isRefilling}:null,circuitBreaker:p,connections:E.current,burstState:ne.current[c]};return console.table(b),b}},h.log(" Blockchain debug utilities loaded. Use window.blockchainDebug for monitoring."),h.log(" Example: window.blockchainDebug.generateHealthReport(6342)"))},[]),F.useEffect(()=>{window.location.hostname==="localhost"&&(window.blockchainDebug={getRPCHealth:c=>S.current[c],getCircuitBreaker:c=>me.current[c],getTransactionPool:c=>T.current[c],getBurstState:c=>ne.current[c],getConnectionPool:()=>E.current,getNonceManager:(c,f)=>v.current[`${c}-${f}`],getPerformanceMetrics:c=>$.current[c],getGlobalCache:()=>{try{const c=localStorage.getItem(x);return c?JSON.parse(c):null}catch{return null}},forceCircuitBreakerOpen:c=>{const f=Ve(c);f.state="OPEN",f.failures=f.threshold,f.lastFailureTime=Date.now(),h.log(`Force opened circuit breaker for chain ${c}`)},resetCircuitBreaker:c=>{const f=Ve(c);f.state="CLOSED",f.failures=0,h.log(`Reset circuit breaker for chain ${c}`)},clearTransactionPool:c=>{const f=c.toString();T.current[f]&&(T.current[f].transactions=[],T.current[f].currentIndex=0,h.log(`Cleared transaction pool for chain ${c}`))},generatePerformanceReport:c=>{var z,B;const f=S.current[c],d=T.current[c==null?void 0:c.toString()],p=me.current[c],b=$.current[c],P=window.blockchainDebug.getGlobalCache(),R={timestamp:new Date().toISOString(),chainId:c,network:((z=Se[c])==null?void 0:z.name)||"Unknown",rpcEndpoints:f?{current:(B=f.endpoints[f.currentEndpointIndex])==null?void 0:B.url,healthyCount:f.endpoints.filter(A=>A.healthy).length,totalCount:f.endpoints.length,endpoints:f.endpoints.map(A=>({url:A.url,healthy:A.healthy,failures:A.consecutiveFailures,responseTime:A.responseTime}))}:null,transactionPool:d?{totalTransactions:d.transactions.length,currentIndex:d.currentIndex,availableTransactions:d.transactions.length-d.currentIndex,poolUtilization:`${Math.round(d.currentIndex/d.transactions.length*100)}%`,isRefilling:d.isRefilling,hasTriggeredRefill:d.hasTriggeredRefill}:null,circuitBreaker:p?{state:p.state,failures:p.failures,threshold:p.threshold,lastFailure:p.lastFailureTime?new Date(p.lastFailureTime).toISOString():null}:null,performance:b?{totalTransactions:b.totalTransactions,successfulTransactions:b.successfulTransactions,successRate:`${b.successRate.toFixed(1)}%`,averageBlockchainTime:`${Math.round(b.averageBlockchainTime)}ms`,recentTransactions:b.recentTransactions.slice(-10).map(A=>({blockchainTime:`${A.blockchainTime}ms`,success:A.success,timestamp:new Date(A.timestamp).toISOString()})),performanceGrade:b.averageBlockchainTime<1e3?" INSTANT":b.averageBlockchainTime<3e3?" FAST":b.averageBlockchainTime<5e3?" GOOD":" SLOW"}:null,connections:E.current,burstState:ne.current[c]?{lastBurstTime:new Date(ne.current[c].lastBurstTime).toISOString(),burstCount:ne.current[c].burstCount,inCooldown:ne.current[c].inCooldown,pendingTransactions:ne.current[c].pendingTransactions.length}:null,globalCache:P?{gasParamsAge:P.gasParams?`${Math.round((Date.now()-P.gasParams.timestamp)/1e3)}s ago`:"None",chainParamsAge:P.chainParams?`${Math.round((Date.now()-P.chainParams.timestamp)/1e3)}s ago`:"None",rpcHealthAge:P.rpcHealth?`${Math.round((Date.now()-P.rpcHealth.timestamp)/1e3)}s ago`:"None"}:null};return console.group(` Performance Report - ${R.network} (Chain ${c})`),console.table(R.performance),h.log(" RPC Health:",R.rpcEndpoints),h.log(" Transaction Pool:",R.transactionPool),h.log(" Circuit Breaker:",R.circuitBreaker),h.log(" Burst State:",R.burstState),h.log(" Global Cache:",R.globalCache),console.groupEnd(),R},quickStats:c=>{var p;const f=$.current[c],d=T.current[c==null?void 0:c.toString()];if(f&&d){const b=d.currentIndex,P=d.transactions.length-d.currentIndex,R=Math.floor(b/5),z=R*10;h.log(` ${((p=Se[c])==null?void 0:p.name)||"Chain "+c}:`),h.log(`   Avg Speed: ${Math.round(f.averageBlockchainTime)}ms`),h.log(`   Success Rate: ${f.successRate.toFixed(1)}%`),h.log(`   Pool Status: ${P}/${d.transactions.length} ready`),h.log(`    Infinite Pool: ${b} used, +${z} growth (${R} cycles)`),h.log(`   Next refill: ${5-b%5} transactions`),h.log(`   Performance: ${f.averageBlockchainTime<1e3?"INSTANT":f.averageBlockchainTime<3e3?"FAST":"SLOW"}`)}else h.log(" No performance data available yet")},infinitePoolStats:c=>{const f=T.current[c==null?void 0:c.toString()];if(!f){h.log(" No pool found for chain",c);return}const d=f.currentIndex,p=f.transactions.length-f.currentIndex,b=f.transactions.length,P=Math.floor(d/5),R=P*10,z=(Math.floor(d/5)+1)*5,B=z-d;if(console.group(` Infinite Pool Analysis - Chain ${c}`),h.log(" Current Status:"),h.log(`   Total transactions: ${b}`),h.log(`   Consumed: ${d}`),h.log(`   Remaining: ${p}`),h.log(`   Pool ready: ${f.isReady?"":""}`),h.log(`   Refilling: ${f.isRefilling?"":""}`),h.log(" Growth Cycles:"),h.log(`   Completed cycles: ${P}`),h.log(`   Net growth: +${R} transactions`),h.log(`   Growth rate: ${d>0?(R/d*100).toFixed(1):0}%`),h.log(" Next Refill:"),h.log(`   Refill trigger at: ${z} consumed`),h.log(`   Transactions until refill: ${B}`),h.log("   Will add: +15 transactions"),h.log(" Pool Efficiency:"),h.log(`   Efficiency: ${(p/b*100).toFixed(1)}%`),h.log(`   Trend: ${p>20?" Growing":p>10?" Stable":" Needs attention"}`),h.log(`   Is infinite: ${b>50?" Yes":" Not yet"}`),d>0){const A=d+R;h.log(" Mathematical Verification:"),h.log(`   Theoretical pool size: ${A}`),h.log(`   Actual pool size: ${b}`),h.log(`   Difference: ${b-A} (should be positive)`)}console.groupEnd()},forceResetAllCircuitBreakers:()=>{Object.keys(me.current).forEach(c=>{const f=me.current[c];f&&(f.state="CLOSED",f.failures=0,f.lastFailureTime=0,h.log(` Force reset circuit breaker for chain ${c}`))}),h.log(" All circuit breakers reset - ready for gaming!")}},h.log(" Blockchain debug utilities loaded. Use window.blockchainDebug for monitoring."),h.log(" Examples:"),h.log("   window.blockchainDebug.generatePerformanceReport(6342)"),h.log("   window.blockchainDebug.quickStats(6342)"),h.log("   window.blockchainDebug.infinitePoolStats(6342) //  Infinite pool analysis"),h.log("   window.blockchainDebug.getPerformanceMetrics(6342)"),h.log("   window.blockchainDebug.forceResetAllCircuitBreakers() //  "),setTimeout(()=>{Object.keys(me.current).forEach(c=>{const f=me.current[c];f&&f.state==="OPEN"&&(f.state="CLOSED",f.failures=0,h.log(` Auto-reset circuit breaker for chain ${c} on page load`))})},2e3))},[]),{isInitializing:n,transactionPending:s,transactionPendingCount:k.current,balance:o,contractNumber:l,initData:Ce,sendUpdate:Ie,checkBalance:se,callFaucet:ae,getContractNumber:Ye,getEmbeddedWallet:fe,isAuthenticated:e,isReady:e&&t.length>0,getPoolStatus:c=>{const f=T.current[c==null?void 0:c.toString()];if(!f)return null;const d=Math.floor(f.currentIndex/5),p=d*10;return{total:f.transactions.length,used:f.currentIndex,remaining:f.transactions.length-f.currentIndex,isReady:f.isReady,isRefilling:f.isRefilling,cyclesCompleted:d,netGrowth:p,isInfinite:f.transactions.length>50,trend:f.transactions.length-f.currentIndex>20?"growing":f.transactions.length-f.currentIndex>10?"stable":"attention"}},getInfinitePoolStats:c=>{const f=T.current[c==null?void 0:c.toString()];if(!f)return null;const d=f.currentIndex,p=f.transactions.length-f.currentIndex,b=f.transactions.length,P=Math.floor(d/5),R=P*10,z=(Math.floor(d/5)+1)*5,B=z-d;return{consumed:d,remaining:p,total:b,cyclesCompleted:P,netGrowth:R,nextRefillAt:z,transactionsToNextRefill:B,isInfinite:b>50,growthRate:d>0?(R/d*100).toFixed(1)+"%":"0%",poolEfficiency:b>0?(p/b*100).toFixed(1)+"%":"0%"}},startPoolMonitoring:Je}},Mc=({selectedNetwork:e,className:t=""})=>{const{authenticated:n}=ct(),{wallets:r}=on(),{balance:s,getEmbeddedWallet:a,getPoolStatus:o,getInfinitePoolStats:i}=Us(),[l,g]=F.useState(null),[m,y]=F.useState(null),[x,C]=F.useState(!1);if(F.useEffect(()=>{if(n&&r.length>0){const E=a();E&&y({address:E.address,type:E.walletClientType,isEmbedded:E.walletClientType==="privy"})}},[n,r,a]),F.useEffect(()=>{if(e&&e.id!=="select"){const E=()=>{try{const v=o(e.id),j=i(e.id);g({...v,infiniteStats:j})}catch(v){console.warn("Failed to get pool status:",v)}};E();const T=setInterval(E,1e3);return()=>clearInterval(T)}},[e,o,i]),!n||!m)return null;const w=E=>E?`${E.slice(0,6)}...${E.slice(-4)}`:"",N=E=>E?E.isReady&&E.totalTransactions>10?"text-green-400":E.isReady&&E.totalTransactions>5?"text-yellow-400":E.isReady?"text-orange-400":"text-red-400":"text-gray-400",S=E=>E?E.isReady&&E.totalTransactions>10?"":E.isReady&&E.totalTransactions>5?"":E.isReady?"":"":"";return u.jsxs("div",{className:`privy-wallet-status ${t}`,children:[u.jsxs("div",{className:"status-header",onClick:()=>C(!x),style:{cursor:"pointer"},children:[u.jsxs("div",{className:"wallet-info",children:[u.jsx("span",{className:"wallet-icon",children:""}),u.jsx("span",{className:"wallet-address",children:w(m.address)}),m.isEmbedded&&u.jsx("span",{className:"embedded-badge",children:"Privy"})]}),e&&e.id!=="select"&&l&&u.jsxs("div",{className:"pool-status",children:[u.jsx("span",{className:`status-icon ${N(l)}`,children:S(l)}),u.jsx("span",{className:`pool-count ${N(l)}`,children:l.totalTransactions-l.consumedTransactions})]}),u.jsx("span",{className:`expand-icon ${x?"expanded":""}`,children:""})]}),x&&u.jsxs("div",{className:"status-details",children:[u.jsxs("div",{className:"detail-section",children:[u.jsx("h4",{children:" Wallet Details"}),u.jsxs("div",{className:"detail-item",children:[u.jsx("span",{children:"Address:"}),u.jsx("span",{className:"monospace",children:m.address})]}),u.jsxs("div",{className:"detail-item",children:[u.jsx("span",{children:"Type:"}),u.jsx("span",{children:m.isEmbedded?"Privy Embedded":"External"})]}),u.jsxs("div",{className:"detail-item",children:[u.jsx("span",{children:"Balance:"}),u.jsxs("span",{children:[s||"0.0000"," ETH"]})]})]}),e&&e.id!=="select"&&l&&u.jsxs("div",{className:"detail-section",children:[u.jsx("h4",{children:" Pre-signed Pool Status"}),u.jsxs("div",{className:"detail-item",children:[u.jsx("span",{children:"Network:"}),u.jsx("span",{children:e.name})]}),u.jsxs("div",{className:"detail-item",children:[u.jsx("span",{children:"Status:"}),u.jsx("span",{className:N(l),children:l.isReady?"Ready":"Initializing"})]}),u.jsxs("div",{className:"detail-item",children:[u.jsx("span",{children:"Available:"}),u.jsx("span",{className:N(l),children:l.totalTransactions-l.consumedTransactions})]}),u.jsxs("div",{className:"detail-item",children:[u.jsx("span",{children:"Total Signed:"}),u.jsx("span",{children:l.totalTransactions})]}),u.jsxs("div",{className:"detail-item",children:[u.jsx("span",{children:"Used:"}),u.jsx("span",{children:l.consumedTransactions})]}),l.infiniteStats&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"detail-item",children:[u.jsx("span",{children:"Refill Cycles:"}),u.jsx("span",{children:l.infiniteStats.cycles})]}),u.jsxs("div",{className:"detail-item",children:[u.jsx("span",{children:"Growth Rate:"}),u.jsxs("span",{children:["+",l.infiniteStats.netGrowthPerCycle,"/cycle"]})]})]})]}),e&&e.id!=="select"&&u.jsxs("div",{className:"detail-section",children:[u.jsx("h4",{children:" Gaming Performance"}),u.jsxs("div",{className:"detail-item",children:[u.jsx("span",{children:"Instant Mode:"}),u.jsx("span",{className:"text-green-400",children:l!=null&&l.isReady?"Active":"Preparing"})]}),u.jsxs("div",{className:"detail-item",children:[u.jsx("span",{children:"Burst Mode:"}),u.jsx("span",{className:"text-blue-400",children:"Enabled"})]}),u.jsxs("div",{className:"detail-item",children:[u.jsx("span",{children:"Auto-refill:"}),u.jsx("span",{className:"text-purple-400",children:"Infinite"})]})]})]})]})},kc=({transactionPending:e,transactionPendingCount:t,balance:n,blockchainStatus:r,selectedNetwork:s,authenticated:a})=>{var E;const[o,i]=F.useState([]),[l,g]=F.useState(1),[m,y]=F.useState(0),[x,C]=F.useState(0);F.useEffect(()=>{if(a&&s&&!s.isWeb2&&r&&(r.totalMovements||0)>0){const v=r.lastTransactionTime||0;if(v>m&&v>0){const j={id:l,type:"transaction",title:"Jump Completed",message:`Jump completed in ${v}ms on ${s.name}`,status:"completed",timestamp:Date.now(),completedAt:Date.now()};i(k=>[...k,j]),g(k=>k+1),y(v)}}},[r==null?void 0:r.totalMovements,r==null?void 0:r.lastTransactionTime,a,s,l,m]),F.useEffect(()=>{if(a&&s&&!s.isWeb2)if(t>x){const T={id:l,type:"transaction",title:"Transaction Pending",message:`Processing jump on ${s.name}`,status:"pending",timestamp:Date.now()};i(v=>[...v,T]),g(v=>v+1),C(t)}else t<x&&C(t)},[t,a,s,l,x]),F.useEffect(()=>{r!=null&&r.lastTransactionTime&&a&&s&&!s.isWeb2&&i(T=>T.map(v=>v.status==="pending"&&v.type==="transaction"?{...v,status:"completed",message:`Jump completed in ${r.lastTransactionTime}ms`,completedAt:Date.now()}:v))},[r==null?void 0:r.lastTransactionTime,a,s]),F.useEffect(()=>{var T;if(r!=null&&r.lastError&&a&&s&&!s.isWeb2&&!o.some(j=>j.type==="error"&&Date.now()-j.timestamp<5e3&&j.message.includes(r.lastError.type))){const j={id:l,type:"error",title:"Transaction Error",message:`${r.lastError.type}: ${(T=r.lastError.message)==null?void 0:T.slice(0,50)}...`,status:"error",timestamp:Date.now()};i(k=>[...k,j]),g(k=>k+1)}},[(E=r==null?void 0:r.lastError)==null?void 0:E.timestamp,a,s,o,l]),F.useEffect(()=>{if(r!=null&&r.averageTransactionTime&&r.averageTransactionTime<1e3&&a&&s&&!s.isWeb2&&!o.some(v=>v.type==="performance"&&Date.now()-v.timestamp<3e4)){const v={id:l,type:"performance",title:"Excellent Performance!",message:`Average speed: ${Math.round(r.averageTransactionTime)}ms - Gaming Mode Active! `,status:"success",timestamp:Date.now()};i(j=>[...j,v]),g(j=>j+1)}},[r==null?void 0:r.averageTransactionTime,a,s,o,l]),F.useEffect(()=>{if(n&&parseFloat(n)<5e-5&&a&&s&&!s.isWeb2&&!o.some(v=>v.type==="low-balance"&&v.status!=="dismissed")){const v={id:l,type:"low-balance",title:"Low Balance",message:`Balance: ${n} ETH - Get test tokens`,status:"warning",timestamp:Date.now()};i(j=>[...j,v]),g(j=>j+1)}},[n,a,s,o,l]),F.useEffect(()=>{const T=setInterval(()=>{i(v=>{const j=Date.now(),k=v.filter($=>!($.status==="completed"&&$.completedAt&&j-$.completedAt>3e3||j-$.timestamp>1e4));return k.length===v.length?v:k})},2e3);return()=>clearInterval(T)},[]);const w=F.useCallback(T=>{i(v=>v.filter(j=>j.id!==T))},[]),N=F.useCallback((T,v)=>T==="transaction"?v==="pending"?"":v==="completed"?"":"":T==="low-balance"?"":T==="error"?"":T==="performance"?"":"",[]),S=F.useCallback((T,v)=>T==="transaction"?v==="pending"?"pending":v==="completed"?"success":"info":T==="low-balance"?"warning":T==="error"?"error":T==="performance"?"success":"info",[]);return!a||!s||s.isWeb2||o.length===0?null:u.jsx("div",{className:"transaction-notifications",children:o.map(T=>u.jsx("div",{className:`notification ${S(T.type,T.status)}`,children:u.jsxs("div",{className:"notification-content",children:[u.jsxs("div",{className:"notification-header",children:[u.jsx("span",{className:"notification-icon",children:N(T.type,T.status)}),u.jsx("span",{className:"notification-title",children:T.title}),u.jsx("button",{className:"notification-close",onClick:()=>w(T.id),children:""})]}),u.jsx("div",{className:"notification-message",children:T.message}),T.type==="transaction"&&T.status==="pending"&&u.jsx("div",{className:"notification-progress",children:u.jsx("div",{className:"progress-bar",children:u.jsx("div",{className:"progress-fill"})})})]})},T.id))})};class Fc{constructor(t,n,r,s,a,o,i=null){re(this,"WALK_ANIMATION_TIMER",180);re(this,"walkAnimationTimer",this.WALK_ANIMATION_TIMER);re(this,"buddyRunImages",[]);re(this,"jumpPressed",!1);re(this,"jumpInProgress",!1);re(this,"falling",!1);re(this,"JUMP_SPEED",.65);re(this,"GRAVITY",.38);re(this,"dustParticles",[]);re(this,"showDust",!1);re(this,"dustTimer",0);re(this,"touchstart",()=>{this.jumpPressed=!0});re(this,"touchend",()=>{this.jumpPressed=!1});re(this,"keydown",t=>{t.code==="Space"&&(this.jumpPressed=!0)});re(this,"keyup",t=>{t.code==="Space"&&(this.jumpPressed=!1)});this.ctx=t,this.canvas=t.canvas,this.width=n,this.height=r,this.minJumpHeight=s,this.maxJumpHeight=a,this.scaleRatio=o,this.onMovementCallback=i,this.x=10*o,this.y=this.canvas.height-this.height,this.yStandingPosition=this.y,this.standingStillImage=new Image,this.standingStillImage.src="assets/buddy_standing_still.png",this.standingStillImage.onerror=()=>{},this.image=this.standingStillImage,this.jumpingImage=new Image,this.jumpingImage.src="assets/buddy_standing_still_eye_closed.png",this.jumpingImage.onerror=()=>{};const l=new Image;l.src="assets/buddy_run1.png",l.onerror=()=>{};const g=new Image;g.src="assets/buddy_run2.png",g.onerror=()=>{},this.buddyRunImages.push(l),this.buddyRunImages.push(g),window.removeEventListener("keydown",this.keydown),window.removeEventListener("keyup",this.keyup),window.addEventListener("keydown",this.keydown),window.addEventListener("keyup",this.keyup),window.removeEventListener("touchstart",this.touchstart),window.removeEventListener("touchend",this.touchend),window.addEventListener("touchstart",this.touchstart),window.addEventListener("touchend",this.touchend)}update(t,n){this.run(t,n),this.jumpInProgress&&(this.image=this.jumpingImage),this.jump(n),this.updateDust(n)}jump(t){this.jumpPressed&&(this.jumpInProgress||this.onMovementCallback&&this.onMovementCallback(),this.jumpInProgress=!0),this.jumpInProgress&&!this.falling?this.y>this.canvas.height-this.minJumpHeight||this.y>this.canvas.height-this.maxJumpHeight&&this.jumpPressed?this.y-=this.JUMP_SPEED*t*this.scaleRatio:this.falling=!0:this.y<this.yStandingPosition?(this.y+=this.GRAVITY*t*this.scaleRatio,this.y+this.height>this.canvas.height&&(this.y=this.yStandingPosition,this.createDustEffect())):(this.falling=!1,this.jumpInProgress=!1)}createDustEffect(){this.showDust=!0,this.dustTimer=300}updateDust(t){this.showDust&&(this.dustTimer-=t,this.dustTimer<=0&&(this.showDust=!1))}run(t,n){this.walkAnimationTimer<=0&&(this.image===this.buddyRunImages[0]?this.image=this.buddyRunImages[1]:this.image=this.buddyRunImages[0],this.walkAnimationTimer=this.WALK_ANIMATION_TIMER),this.walkAnimationTimer-=n*t}draw(){if(this.image&&this.image.complete&&this.image.naturalWidth>0&&this.ctx.drawImage(this.image,this.x,this.y,this.width,this.height),this.showDust){this.ctx.fillStyle="rgba(139, 69, 19, 0.6)";const t=this.yStandingPosition+this.height;for(let n=0;n<5;n++){const r=this.x+this.width*.2+n*8*this.scaleRatio,s=(3-n*.5)*this.scaleRatio;this.ctx.beginPath(),this.ctx.arc(r,t-s,s,0,Math.PI*2),this.ctx.fill()}}}}class Bc{constructor(t,n,r,s,a){this.ctx=t,this.canvas=t.canvas,this.width=n,this.height=r,this.speed=s,this.scaleRatio=a,this.x=0,this.y=this.canvas.height-this.height,this.groundImage=new Image,this.groundImage.src="assets/ground.png",this.groundImage.onerror=()=>{}}update(t,n){this.x-=t*n*this.speed*this.scaleRatio}draw(){this.ctx.fillStyle="#7BA428",this.ctx.fillRect(0,this.y,this.canvas.width,this.height),this.ctx.fillStyle="#6B9420";for(let t=0;t<this.canvas.width;t+=3)this.ctx.fillRect(t,this.y,1,this.height);this.ctx.fillStyle="#8B4513",this.ctx.fillRect(0,this.y+this.height*.7,this.canvas.width,this.height*.3),this.x<-this.width&&(this.x=0)}reset(){this.x=0}}class Dc{constructor(t,n,r,s,a,o){this.ctx=t,this.x=n,this.y=r,this.width=s,this.height=a,this.image=o}update(t,n,r,s){this.x-=t*n*r*s}draw(){this.image&&this.image.complete&&this.image.naturalWidth>0&&this.ctx.drawImage(this.image,this.x,this.y,this.width,this.height)}collideWith(t){return t.x<this.x+this.width/1.4&&t.x+t.width/1.4>this.x&&t.y<this.y+this.height/1.4&&t.height+t.y/1.4>this.y}}class Lc{constructor(t,n,r,s){re(this,"CARROT_INTERVAL_MIN",500);re(this,"CARROT_INTERVAL_MAX",2e3);re(this,"nextCarrotInterval",null);re(this,"carrots",[]);this.ctx=t,this.canvas=t.canvas,this.carrotImages=n,this.scaleRatio=r,this.speed=s,this.setNextCarrotTime()}setNextCarrotTime(){const t=this.getRandomNumber(this.CARROT_INTERVAL_MIN,this.CARROT_INTERVAL_MAX);this.nextCarrotInterval=t}getRandomNumber(t,n){return Math.floor(Math.random()*(n-t+1)+t)}createCarrot(){const t=this.getRandomNumber(0,this.carrotImages.length-1),n=this.carrotImages[t],r=this.canvas.width*1.5,s=this.canvas.height-n.height,a=new Dc(this.ctx,r,s,n.width,n.height,n.image);this.carrots.push(a)}update(t,n){this.nextCarrotInterval<=0&&(this.createCarrot(),this.setNextCarrotTime()),this.nextCarrotInterval-=n,this.carrots.forEach(r=>{r.update(this.speed,t,n,this.scaleRatio)}),this.carrots=this.carrots.filter(r=>r.x>-r.width)}draw(){this.carrots.forEach(t=>t.draw())}collideWith(t){return this.carrots.some(n=>n.collideWith(t))}reset(){this.carrots=[]}}class Gc{constructor(t,n,r=null){re(this,"score",0);re(this,"HIGH_SCORE_KEY","highScore");this.ctx=t,this.canvas=t.canvas,this.scaleRatio=n,this.blockchainStatus=r}update(t){this.score+=t*.01}reset(){this.score=0}setHighScore(){const t=Number(localStorage.getItem(this.HIGH_SCORE_KEY));this.score>t&&localStorage.setItem(this.HIGH_SCORE_KEY,Math.floor(this.score))}draw(){const t=Number(localStorage.getItem(this.HIGH_SCORE_KEY)),n=20*this.scaleRatio,r=20*this.scaleRatio;this.ctx.font=`${r}px serif`,this.ctx.fillStyle="#6B8E6B";const s=this.canvas.width-75*this.scaleRatio,a=s-125*this.scaleRatio,o=Math.floor(this.score).toString().padStart(6,0),i=t.toString().padStart(6,0);if(this.ctx.fillText(o,s,n),this.ctx.fillText(`HI ${i}`,a,n),this.blockchainStatus){const l=n+30*this.scaleRatio,g=12*this.scaleRatio;if(this.ctx.font=`${g}px monospace`,this.ctx.fillStyle=this.blockchainStatus.contractAvailable?"#7FBC7F":"#FFA500",this.ctx.fillText(` ${this.blockchainStatus.networkName}`,10*this.scaleRatio,l),this.ctx.fillStyle="#4169E1",this.ctx.fillText(`Moves: ${this.blockchainStatus.totalMovements}`,10*this.scaleRatio,l+20*this.scaleRatio),this.blockchainStatus.pendingTransactions>0&&(this.ctx.fillStyle="#FF6347",this.ctx.fillText(`Pending: ${this.blockchainStatus.pendingTransactions}`,10*this.scaleRatio,l+40*this.scaleRatio)),this.blockchainStatus.poolStatus){const m=this.blockchainStatus.poolStatus,y=Math.floor(m.used/5),x=y*10,C=m.remaining>20?"#32CD32":m.remaining>10?"#7FBC7F":m.remaining>3?"#FFA500":"#FF6347";this.ctx.fillStyle=C;const w=m.total>50?"":"";this.ctx.fillText(`Pool: ${m.remaining}/${m.total}${w}`,10*this.scaleRatio,l+40*this.scaleRatio),m.used>0&&(this.ctx.fillStyle="#4169E1",this.ctx.fillText(`Growth: +${x} (${y} cycles)`,10*this.scaleRatio,l+60*this.scaleRatio)),m.isReady?m.isRefilling?(this.ctx.fillStyle="#32CD32",this.ctx.fillText(" Growing pool...",10*this.scaleRatio,l+80*this.scaleRatio)):m.total>50&&(this.ctx.fillStyle="#7FBC7F",this.ctx.fillText(" Infinite mode",10*this.scaleRatio,l+80*this.scaleRatio)):(this.ctx.fillStyle="#FF6347",this.ctx.fillText(" Initializing...",10*this.scaleRatio,l+80*this.scaleRatio))}this.blockchainStatus.onChainScore>0&&(this.ctx.fillStyle="#32CD32",this.ctx.fillText(`On-chain: ${this.blockchainStatus.onChainScore}`,10*this.scaleRatio,l+100*this.scaleRatio))}}}const zc=({selectedNetwork:e})=>{const t=F.useRef(null),n=F.useRef({}),{user:r,authenticated:s}=ct(),{wallets:a}=on();cn();const{isInitializing:o,transactionPending:i,transactionPendingCount:l,balance:g,contractNumber:m,initData:y,sendUpdate:x,checkBalance:C,getContractNumber:w,isReady:N,getEmbeddedWallet:S,callFaucet:E,getPoolStatus:T}=Us(),[v,j]=F.useState({initialized:!1,networkName:(e==null?void 0:e.name)||"Unknown",contractAvailable:!1,pendingTransactions:0,totalMovements:0,onChainScore:0,poolStatus:null}),[k,$]=F.useState(!1),[I,J]=F.useState(!1),H=F.useRef(!1);F.useRef(null);const U=F.useRef(0),Z=F.useRef(0),te=F.useRef({});F.useEffect(()=>{te.current={sendUpdate:x,getContractNumber:w,selectedNetwork:e,blockchainInitialized:v.initialized}},[x,w,e,v.initialized]);const ne=1,$e=1e-5,Le=800,Ke=200,En=88/1.5,Pn=94/1.5,Jt=Ke,Yt=150,Nn=2400,Cn=24,pt=.5,Vt=[{width:48/1.5,height:100/1.5,imageSrc:"assets/carrot_1.png"},{width:98/1.5,height:100/1.5,imageSrc:"assets/carrot_2.png"},{width:68/1.5,height:70/1.5,imageSrc:"assets/carrot_3.png"}],fe=async()=>{if(!N||!e||e.isWeb2){console.log("Skipping blockchain initialization - Web2 mode or not ready"),j(L=>({...L,initialized:!1,networkName:(e==null?void 0:e.name)||"Web2 Mode"}));return}try{console.log("Initializing blockchain for network:",e.name),await y(e.id);const L=await w(e.id);j({initialized:!0,networkName:e.name,contractAvailable:!0,pendingTransactions:0,totalMovements:L,onChainScore:L}),console.log("Blockchain initialization complete")}catch(L){console.error("Failed to initialize blockchain:",L),j(M=>({...M,initialized:!1,contractAvailable:!1}))}},ve=F.useCallback(async()=>{const{sendUpdate:L,getContractNumber:M,selectedNetwork:ee,blockchainInitialized:G}=te.current;if(!ee||ee.isWeb2||!G){console.log("Skipping on-chain movement - Web2 mode or not initialized");return}if((ee==null?void 0:ee.chainId)===6342){if(U.current>8){console.log(" Maximum MegaETH transaction throughput reached:",U.current);return}const se=Date.now();Z.current&&se-Z.current>1e4&&(console.log(" Resetting pending count due to timeout, was:",U.current),U.current=0)}else if(H.current){console.log(" Transaction already pending, blocking jump");return}const Je=Date.now();if(Z.current&&Je-Z.current<100){console.log(" Transaction rate limit: minimum 100ms between transactions");return}Z.current=Je;try{(ee==null?void 0:ee.chainId)!==6342&&(H.current=!0),U.current++,$(!0);const se=performance.now();console.log(" Sending instant on-chain jump transaction...");const ae=await L(ee.id),de=performance.now()-se,Ie=ae.blockchainTime||Math.round(de),Te={reactionTime:Math.round(de-Ie),blockchainTime:Ie,totalTime:Math.round(de),network:ee.name,isInstant:ae.isInstant||!1,txHash:ae.hash||ae.transactionHash,performanceMetrics:ae.performanceMetrics};return console.log(" Real-Time Gaming Result:",Te),console.log(` Jump completed: ${Te.blockchainTime}ms blockchain time, ${Te.isInstant?"INSTANT":"PENDING"} confirmation`),j(Ce=>{var Ye;return{...Ce,totalMovements:Ce.totalMovements+1,onChainScore:Ce.onChainScore+1,lastTransactionTime:Te.blockchainTime,averageTransactionTime:((Ye=Te.performanceMetrics)==null?void 0:Ye.averageBlockchainTime)||Ce.averageTransactionTime,lastError:null}}),setTimeout(async()=>{try{await M(ee.id)}catch(Ce){console.error("Error updating contract number:",Ce)}},1e3),Te}catch(se){console.error(" Error sending on-chain movement:",se);let ae="Transaction failed",de="UNKNOWN";se.message.includes("insufficient funds")?(ae="Insufficient funds for transaction. Please check your balance.",de="INSUFFICIENT_FUNDS"):se.message.includes("nonce")?(ae="Transaction nonce error. Please try again.",de="NONCE_ERROR",console.log(" Nonce error detected, applying recovery cooldown and resetting pending count"),Z.current=Date.now()+1e3,U.current>0&&(console.log(` Resetting pending count from ${U.current} to 0 due to nonce error`),U.current=0)):se.message.includes("timeout")?(ae="Transaction timeout. Please try again.",de="TIMEOUT"):se.message.includes("rejected")?(ae="Transaction was rejected by the network.",de="REJECTED"):se.message.includes("rate limit")?(ae="Rate limit exceeded. Please wait a moment.",de="RATE_LIMIT"):(ae=`Transaction failed: ${se.message}`,de="BLOCKCHAIN_ERROR"),console.error(` Blockchain Error [${de}]:`,ae),j(Te=>({...Te,lastError:{type:de,message:ae,timestamp:Date.now()}}));const Ie=new Error(ae);throw Ie.type=de,Ie}finally{(ee==null?void 0:ee.chainId)!==6342&&(H.current=!1),U.current=Math.max(0,U.current-1),$(!1)}},[]),Ee=async()=>{if(!(!e||e.isWeb2||!N))try{J(!0);const L=S();if(!L){alert("Please connect your wallet first");return}console.log("Manual faucet request for:",L.address),await E(L.address,e.id),setTimeout(async()=>{await C(e.id)},3e3),alert("Faucet request successful! Funds should arrive shortly.")}catch(L){console.error("Manual faucet error:",L),alert(`Faucet request failed: ${L.message}`)}finally{J(!1)}},tt=()=>{if(e&&e.isWeb2)return{identifier:"CLASSIC PLAYER",address:null,isWeb2:!0};if(!s||!r)return null;const L=Xt();return L?{identifier:`${L.slice(0,6)}...${L.slice(-4)}`,address:L}:r.email?{identifier:r.email.split("@")[0],address:null}:null},Xt=()=>{var L;return!s||!a||a.length===0?null:((L=a[0])==null?void 0:L.address)||null};return F.useEffect(()=>{if(e&&e.isWeb2){console.log("Web2 mode selected, skipping blockchain initialization"),j({initialized:!1,networkName:e.name,contractAvailable:!1,pendingTransactions:0,totalMovements:0,onChainScore:0});return}e&&N&&s&&a.length>0&&(console.log("Initializing blockchain for:",e.name),fe())},[e,N,s,a]),F.useEffect(()=>{if(e&&!e.isWeb2){const L=T(e.id);j(M=>({...M,pendingTransactions:i?1:0,poolStatus:L}))}},[i,e,T]),F.useEffect(()=>{const L=t.current;if(!L)return;const M=L.getContext("2d");let ee;M.imageSmoothingEnabled=!1,M.webkitImageSmoothingEnabled=!1,M.mozImageSmoothingEnabled=!1,M.msImageSmoothingEnabled=!1;const G=n.current;Object.assign(G,{scaleRatio:null,previousTime:null,gameSpeed:ne,gameOver:!1,hasAddedEventListenersForRestart:!1,waitingToStart:!0});function Je(){const d=En*G.scaleRatio,p=Pn*G.scaleRatio,b=Yt*G.scaleRatio,P=Jt*G.scaleRatio,R=Nn*G.scaleRatio,z=Cn*G.scaleRatio;G.player=new Fc(M,d,p,b,P,G.scaleRatio,e&&!e.isWeb2?ve:null),G.ground=new Bc(M,R,z,pt,G.scaleRatio);const B=Vt.map(A=>{const D=new Image;return D.src=A.imageSrc,D.onerror=()=>console.error(`Failed to load ${A.imageSrc}`),{image:D,width:A.width*G.scaleRatio,height:A.height*G.scaleRatio}});G.carrotController=new Lc(M,B,G.scaleRatio,pt),G.score=new Gc(M,G.scaleRatio)}function se(){G.scaleRatio=ae(),L.width=Le*G.scaleRatio,L.height=Ke*G.scaleRatio,Je()}function ae(){const d=Math.min(window.innerHeight,document.documentElement.clientHeight),p=Math.min(window.innerWidth,document.documentElement.clientWidth);return p/d<Le/Ke?p/Le:d/Ke}function de(){const d=Math.floor(G.scaleRatio*32);M.font=`${d}px monospace`,M.fillStyle="#ef5435",M.textAlign="center",M.shadowColor="#ef5435",M.shadowBlur=10,M.fillText("GAME OVER",L.width/2,L.height/2-d),M.shadowBlur=0;const p=Math.floor(G.scaleRatio*16);M.font=`${p}px monospace`,M.fillStyle="#929397",M.fillText("> PRESS ANY KEY TO RESTART",L.width/2,L.height/2+p);const b=tt();if(b){const P=Math.floor(G.scaleRatio*12);M.font=`${P}px monospace`,M.fillStyle="#1391ff",M.fillText(`> PILOT: ${b.identifier}`,L.width/2,L.height/2+p+P+20),M.fillStyle="#929397",M.fillText(`> NETWORK: ${v.networkName}`,L.width/2,L.height/2+p+P*2+25),v.totalMovements>0&&M.fillText(`> ON-CHAIN MOVES: ${v.totalMovements}`,L.width/2,L.height/2+p+P*3+30)}}function Ie(){const d=Math.floor(G.scaleRatio*24);M.font=`${d}px monospace`,M.fillStyle="#929397",M.textAlign="center",M.shadowColor="#929397",M.shadowBlur=5,M.fillText("> PRESS ANY KEY TO START MISSION",L.width/2,L.height/2),M.shadowBlur=0;const p=tt(),b=Math.floor(G.scaleRatio*12);M.font=`${b}px monospace`,p?(M.fillStyle="#1391ff",M.shadowColor="#1391ff",M.shadowBlur=3,M.fillText(`> PILOT AUTHENTICATED: ${p.identifier}`,L.width/2,L.height/2+d+20),M.shadowBlur=0,M.fillStyle="#929397",M.fillText(`> TARGET NETWORK: ${v.networkName}`,L.width/2,L.height/2+d+b+25),v.initialized?(M.fillStyle="#28a745",M.fillText("> BLOCKCHAIN CONNECTION: ACTIVE",L.width/2,L.height/2+d+b*2+30)):(M.fillStyle="#ffc107",M.fillText("> BLOCKCHAIN CONNECTION: SIMULATED MODE",L.width/2,L.height/2+d+b*2+30))):(M.fillStyle="#ef5435",M.fillText("> WARNING: NO PILOT AUTHENTICATED",L.width/2,L.height/2+d+20))}function Te(){const d=M.createLinearGradient(0,0,0,L.height);d.addColorStop(0,"#121218"),d.addColorStop(.5,"#1a1a2e"),d.addColorStop(1,"#16213e"),M.fillStyle=d,M.fillRect(0,0,L.width,L.height),M.strokeStyle="rgba(146, 147, 151, 0.1)",M.lineWidth=1;const p=20*G.scaleRatio;for(let R=0;R<L.width;R+=p)M.beginPath(),M.moveTo(R,0),M.lineTo(R,L.height),M.stroke();for(let R=0;R<L.height;R+=p)M.beginPath(),M.moveTo(0,R),M.lineTo(L.width,R),M.stroke();const b=Date.now()/20%L.height;M.strokeStyle="rgba(19, 145, 255, 0.3)",M.lineWidth=2,M.beginPath(),M.moveTo(0,b),M.lineTo(L.width,b),M.stroke();const P=M.createLinearGradient(0,0,0,L.height*.3);P.addColorStop(0,"rgba(19, 145, 255, 0.1)"),P.addColorStop(1,"transparent"),M.fillStyle=P,M.fillRect(0,0,L.width,L.height*.3)}function Ce(){G.hasAddedEventListenersForRestart||(G.hasAddedEventListenersForRestart=!0,setTimeout(()=>{const d=()=>{Ye(),document.removeEventListener("keyup",d),document.removeEventListener("touchstart",d)};document.addEventListener("keyup",d),document.addEventListener("touchstart",d)},1e3))}function Ye(){G.hasAddedEventListenersForRestart=!1,G.gameOver=!1,G.waitingToStart=!1,G.ground.reset(),G.carrotController.reset(),G.score.reset(),G.gameSpeed=ne}function me(d){G.gameSpeed+=d*$e}function Ve(){return G.carrotController.collideWith(G.player)}function je(d){if(G.previousTime===null){G.previousTime=d,ee=requestAnimationFrame(je);return}const p=d-G.previousTime;G.previousTime=d,Te(),!G.gameOver&&!G.waitingToStart&&(G.ground.update(G.gameSpeed,p),G.carrotController.update(G.gameSpeed,p),G.player.update(G.gameSpeed,p),G.score.update(p),me(p),Ve()&&(G.gameOver=!0,Ce())),G.ground.draw(),G.carrotController.draw(),G.player.draw(),G.score.draw(),G.gameOver&&de(),G.waitingToStart&&Ie(),ee=requestAnimationFrame(je)}se();const c=()=>setTimeout(se,500);window.addEventListener("resize",c),screen.orientation&&screen.orientation.addEventListener("change",se);const f=()=>{Ye(),document.removeEventListener("keyup",f),document.removeEventListener("touchstart",f)};return document.addEventListener("keyup",f),document.addEventListener("touchstart",f),ee=requestAnimationFrame(je),()=>{ee&&cancelAnimationFrame(ee),window.removeEventListener("resize",c),screen.orientation&&screen.orientation.removeEventListener("change",se),document.removeEventListener("keyup",f),document.removeEventListener("touchstart",f)}},[e,ve]),u.jsxs("div",{className:"game-container",children:[u.jsx("canvas",{ref:t}),s&&e&&!e.isWeb2&&u.jsx(Mc,{selectedNetwork:e,className:"wallet-status-overlay"}),k&&u.jsx("div",{className:"transaction-toast",children:u.jsxs("div",{className:"toast-content",children:[u.jsx("div",{className:"loading-spinner"}),u.jsx("span",{children:"Sending on-chain jump..."})]})}),e&&!e.isWeb2&&u.jsxs("div",{className:"blockchain-status-panel",children:[u.jsxs("div",{className:"status-header",children:[u.jsx("span",{className:"network-name",children:v.networkName}),u.jsx("span",{className:`status-indicator ${v.initialized?"connected":"disconnected"}`,children:v.initialized?"":""})]}),v.initialized&&u.jsxs("div",{className:"status-details",children:[u.jsxs("div",{className:"status-item",children:[u.jsx("span",{className:"label",children:"Balance:"}),u.jsxs("span",{className:"value",children:[g," ETH"]})]}),u.jsxs("div",{className:"status-item",children:[u.jsx("span",{className:"label",children:"Contract #:"}),u.jsx("span",{className:"value",children:m})]}),u.jsxs("div",{className:"status-item",children:[u.jsx("span",{className:"label",children:"Jumps:"}),u.jsx("span",{className:"value",children:v.totalMovements})]}),v.lastTransactionTime&&u.jsxs("div",{className:"status-item",children:[u.jsx("span",{className:"label",children:"Last TX:"}),u.jsxs("span",{className:"value performance-metric",children:[v.lastTransactionTime,"ms"]})]}),v.averageTransactionTime&&u.jsxs("div",{className:"status-item",children:[u.jsx("span",{className:"label",children:"Avg Speed:"}),u.jsxs("span",{className:"value performance-metric",children:[Math.round(v.averageTransactionTime),"ms"]})]}),v.averageTransactionTime&&u.jsxs("div",{className:"status-item",children:[u.jsx("span",{className:"label",children:"Performance:"}),u.jsx("span",{className:`value performance-indicator ${v.averageTransactionTime<1e3?"excellent":v.averageTransactionTime<3e3?"good":v.averageTransactionTime<5e3?"fair":"slow"}`,children:v.averageTransactionTime<1e3?" INSTANT":v.averageTransactionTime<3e3?" FAST":v.averageTransactionTime<5e3?" GOOD":" SLOW"})]}),v.lastError&&u.jsxs("div",{className:"status-item error",children:[u.jsx("span",{className:"label",children:"Last Error:"}),u.jsx("span",{className:"value error-text",title:v.lastError.message,children:v.lastError.type})]}),parseFloat(g)<5e-5&&u.jsx("div",{className:"status-item",children:u.jsx("button",{className:"faucet-button",onClick:Ee,disabled:I,children:I?"Requesting...":"Get Test ETH"})}),i&&u.jsxs("div",{className:"status-item",children:[u.jsx("span",{className:"label",children:"Status:"}),u.jsx("span",{className:"value pending",children:" Processing TX..."})]})]}),o&&u.jsxs("div",{className:"initialization-status",children:[u.jsx("div",{className:"loading-spinner"}),u.jsx("span",{children:" Initializing blockchain..."})]})]}),u.jsx(kc,{transactionPending:i,transactionPendingCount:l,balance:g,blockchainStatus:v,selectedNetwork:e,authenticated:s})]})},Uc=({selectedNetwork:e,onDisconnect:t,disableNetworkControls:n=!1})=>{var $;const{user:r,authenticated:s,ready:a}=ct(),{login:o}=cn(),{logout:i}=qs(),{wallets:l}=on(),[g,m]=F.useState(!1),[y,x]=F.useState(!1),C=[{id:6342,name:"MegaETH Testnet",emoji:""},{id:84532,name:"Base Sepolia",emoji:""},{id:10143,name:"Monad Testnet",emoji:""}];F.useEffect(()=>{(async()=>{var J;if(s&&l&&l.length>0&&e&&!y)try{const H=l[0];if(H.walletClientType==="privy"){console.log(`Auto-switching to ${e.name}...`),console.log(" INSTANT GAMING MODE ENABLED -  !");return}let Z;try{if(typeof H.getChainId=="function")Z=await H.getChainId();else if(H.chainId)Z=H.chainId;else{const te=await((J=H.getEthereumProvider)==null?void 0:J.call(H));if(te&&te.request){const ne=await te.request({method:"eth_chainId"});Z=parseInt(ne,16)}else{console.warn("Cannot determine current chain ID, skipping auto-switch");return}}}catch(te){console.warn("Failed to get current chain ID:",te);return}Z!==e.id&&(console.log(`Auto-switching to ${e.name}...`),x(!0),await N(e.id))}catch(H){console.warn("Auto network switch failed:",H)}finally{x(!1)}})()},[s,l,e]);const w=()=>{s?(i(),t&&t()):o()},N=async I=>{var J,H;if(!(!l||l.length===0)){x(!0);try{const U=l[0],Z=((J=C.find(ne=>ne.id===I))==null?void 0:J.name)||"Unknown Network";if(U.walletClientType==="privy"){console.log(" INSTANT GAMING MODE ENABLED -  !"),m(!1);return}if(typeof U.switchChain!="function"){console.warn("Wallet does not support network switching"),alert("This wallet does not support automatic network switching. Please switch manually.");return}try{await U.switchChain(I),m(!1),console.log(`Successfully switched to ${Z}`);return}catch(ne){console.log(`Network ${Z} not found, attempting to add it...`,ne);const $e=S(I);if($e)await E(U,$e),await new Promise(Le=>setTimeout(Le,1e3)),console.log(`Switching to ${Z}...`),await U.switchChain(I),m(!1),console.log(`Successfully added and switched to ${Z}`);else throw new Error(`Network configuration not found for chain ID ${I}`)}}catch(U){if(console.error("Failed to switch network:",U),((H=l[0])==null?void 0:H.walletClientType)==="privy"&&U.message.includes("Unsupported chainId")){m(!1);return}let te="Failed to switch network. ";U.message.includes("rejected")?te+="User cancelled the operation.":U.message.includes("already pending")?te+="Another network operation is in progress. Please wait and try again.":te+="Please try again or add the network manually.",alert(te)}finally{x(!1)}}},S=I=>({6342:{chainId:"0x18C6",chainName:"MegaETH Testnet",rpcUrls:["https://carrot.megaeth.com/rpc"],nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockExplorerUrls:["https://carrot.megaeth.com"]},84532:{chainId:"0x14A34",chainName:"Base Sepolia",rpcUrls:["https://sepolia.base.org"],nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockExplorerUrls:["https://sepolia.basescan.org"]},10143:{chainId:"0x279F",chainName:"Monad Testnet",rpcUrls:["https://testnet-rpc.monad.xyz"],nativeCurrency:{name:"Monad",symbol:"MON",decimals:18},blockExplorerUrls:["https://testnet.monadexplorer.com"]}})[I],E=async(I,J)=>{try{await(await I.getEthersProvider()).send("wallet_addEthereumChain",[J])}catch(H){if(H.code===4902||H.message.includes("already exists")||H.message.includes("Already added")){console.log("Network already exists in wallet");return}throw H}},T=()=>{if(!l||l.length===0)return null;const I=l[0];return C.find(J=>J.id===I.chainId)},v=I=>I?`${I.slice(0,6)}...${I.slice(-4)}`:"",j=()=>{var I;if((I=r==null?void 0:r.wallet)!=null&&I.address)return r.wallet.address;if(r!=null&&r.linkedAccounts){const J=r.linkedAccounts.find(H=>H.type==="wallet");return J==null?void 0:J.address}return null},k=()=>{var J,H;if((J=r==null?void 0:r.email)!=null&&J.address)return r.email.address;if((H=r==null?void 0:r.phone)!=null&&H.number)return r.phone.number;const I=j();return I?v(I):"Unknown User"};return a?u.jsxs("div",{className:"wallet-container",children:[u.jsxs("div",{className:"wallet-controls",children:[u.jsx("button",{className:`wallet-button ${s?"connected":""}`,onClick:w,children:s?"Disconnect":"Connect Wallet"}),s&&l&&l.length>0&&!n&&u.jsxs("div",{className:"network-selector",children:[u.jsx("button",{className:"network-button",onClick:()=>m(!g),disabled:y,children:y?" Switching...":T()?`${T().emoji} ${T().name}`:" Select Network"}),g&&u.jsx("div",{className:"network-dropdown",children:C.map(I=>{var J;return u.jsxs("button",{className:`network-option ${((J=T())==null?void 0:J.id)===I.id?"active":""} ${(e==null?void 0:e.id)===I.id?"selected-game-network":""}`,onClick:()=>N(I.id),disabled:y,children:[y?"":I.emoji," ",I.name,(e==null?void 0:e.id)===I.id&&" "]},I.id)})})]})]}),s&&u.jsxs("div",{className:"wallet-info",children:[u.jsx("div",{className:"wallet-status",children:"Connected"}),u.jsx("div",{className:"wallet-user",children:k()}),u.jsx("div",{className:"wallet-network",children:e?e.name:(($=T())==null?void 0:$.name)||"Unknown Network"})]})]}):u.jsx("div",{className:"wallet-container",children:u.jsx("button",{className:"wallet-button",disabled:!0,children:"Loading..."})})},Hc=({onNetworkSelect:e,onStartGame:t})=>{const[n,r]=F.useState(null),[s,a]=F.useState(!0),[o,i]=F.useState(""),[l,g]=F.useState({width:window.innerWidth,height:window.innerHeight}),{user:m,authenticated:y}=ct(),{login:x}=cn(),C=[{id:"web2",name:"CLASSIC BROWSER",emoji:"",description:"Pure web2 experience",tech:"No wallet required",color:"#2ecc71",status:"ONLINE",icon:"",isWeb2:!0},{id:6342,name:"MEGAETH TESTNET",emoji:"",description:"Ultra-fast execution layer",tech:"Lightning-fast transactions",color:"#ff6b6b",status:"ONLINE",icon:""},{id:84532,name:"BASE SEPOLIA",emoji:"",description:"Ethereum L2 testnet",tech:"Reliable scaling solution",color:"#4ecdc4",status:"ONLINE",icon:""},{id:10143,name:"MONAD TESTNET",emoji:"",description:"Next-gen blockchain",tech:"Advanced consensus",color:"#9b59b6",status:"BETA",icon:""}];F.useEffect(()=>{const j=["INITIALIZING NETWORK SCANNER...","DETECTING AVAILABLE CHAINS...","ESTABLISHING SECURE CONNECTIONS...","SYSTEM READY FOR NETWORK SELECTION"];let k=0;const $=setInterval(()=>{i(j[k]),k++,k>=j.length&&(clearInterval($),setTimeout(()=>a(!1),500))},800);return()=>clearInterval($)},[]),F.useEffect(()=>{const j=()=>{g({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",j),()=>window.removeEventListener("resize",j)},[]),F.useEffect(()=>{},[l]);const w=()=>{const{width:j,height:k}=l,$=j<=768,I=j>768&&j<=1024,J=j>1024,H=j>1600;let U;$?U=Math.min(j*.98,j-20):I?U=Math.min(j*.92,j-60):H?U=Math.min(j*.85,1400):U=Math.min(j*.88,1200);const Z=k*($?.95:.9),te=Math.min(k*($?.7:.6),$?500:600),ne=$?Math.max(15,j*.03):Math.max(20,j*.025);return{containerStyle:{width:`${U}px`,maxHeight:`${Z}px`,minHeight:`${te}px`,transition:"all 0.3s ease"},contentStyle:{padding:`${ne}px`,transition:"all 0.3s ease"},networkGridStyle:{gridTemplateColumns:$?"1fr":I?"repeat(auto-fit, minmax(280px, 1fr))":"repeat(auto-fit, minmax(300px, 1fr))",gap:`${$?15:J?25:20}px`}}},{containerStyle:N,contentStyle:S,networkGridStyle:E}=w(),T=j=>{r(j),e(j)},v=()=>{if(n){if(n.isWeb2){t(n);return}y&&m?t(n):(e(n),x())}};return F.useEffect(()=>{y&&m&&n&&t(n)},[y,m,n,t]),s?u.jsx("div",{className:"network-scanner-overlay",children:u.jsx("div",{className:"scanner-container",style:N,children:u.jsxs("div",{className:"scanner-content",style:S,children:[u.jsxs("div",{className:"terminal-header",children:[u.jsx("div",{className:"terminal-title",children:"NETWORK SCANNER PROTOCOL"}),u.jsxs("div",{className:"terminal-buttons",children:[u.jsx("div",{className:"terminal-button red"}),u.jsx("div",{className:"terminal-button yellow"}),u.jsx("div",{className:"terminal-button green"})]})]}),u.jsx("div",{className:"logo-section",children:u.jsx("div",{className:"pixel-logo",children:u.jsxs("div",{className:"logo-text",children:[u.jsx("span",{className:"logo-main",children:"BUDDY"}),u.jsx("span",{className:"logo-accent",children:"RUNNER"})]})})}),u.jsx("div",{className:"scanner-display",children:u.jsxs("div",{className:"radar-container",children:[u.jsx("div",{className:"radar-sweep"}),u.jsx("div",{className:"radar-grid"})]})}),u.jsxs("div",{className:"scanner-text",children:[u.jsx("span",{className:"terminal-prompt",children:">"})," ",o]})]})})}):u.jsx("div",{className:"network-selection-overlay",children:u.jsx("div",{className:"network-selection-container",style:N,children:u.jsxs("div",{className:"network-selection-content",style:S,children:[u.jsxs("div",{className:"terminal-header",children:[u.jsx("div",{className:"terminal-title",children:"BLOCKCHAIN NETWORK SELECTOR"}),u.jsxs("div",{className:"terminal-buttons",children:[u.jsx("div",{className:"terminal-button red"}),u.jsx("div",{className:"terminal-button yellow"}),u.jsx("div",{className:"terminal-button green"})]})]}),u.jsx("div",{className:"logo-section",children:u.jsxs("div",{className:"pixel-logo",children:[u.jsxs("div",{className:"logo-text",children:[u.jsx("span",{className:"logo-main",children:"BUDDY"}),u.jsx("span",{className:"logo-accent",children:"RUNNER"})]}),u.jsxs("div",{className:"logo-powered",children:["POWERED BY ",u.jsx("strong",{children:"MEGA BUDDIES"})]})]})}),u.jsxs("div",{className:"mission-briefing",children:[u.jsx("div",{className:"briefing-title",children:"MISSION BRIEFING"}),u.jsxs("div",{className:"briefing-content",children:[u.jsxs("div",{className:"terminal-text",children:[u.jsx("span",{className:"terminal-prompt",children:">"})," OBJECTIVE: SURVIVE 60 SECONDS ON EACH NETWORK"]}),u.jsxs("div",{className:"terminal-text",children:[u.jsx("span",{className:"terminal-prompt",children:">"})," ANALYZE BLOCK TIME IMPACT ON USER EXPERIENCE"]}),u.jsxs("div",{className:"terminal-text",children:[u.jsx("span",{className:"terminal-prompt",children:">"})," DISCOVER THE POWER OF REAL-TIME BLOCKCHAIN"]})]})]}),u.jsxs("div",{className:"network-selection",children:[u.jsx("div",{className:"selection-title",children:"SELECT TARGET BLOCKCHAIN NETWORK:"}),u.jsx("div",{className:"network-grid",style:E,children:C.map(j=>u.jsxs("div",{className:`network-card ${(n==null?void 0:n.id)===j.id?"selected":""}`,onClick:()=>T(j),children:[u.jsxs("div",{className:"network-header",children:[u.jsx("div",{className:"network-icon",children:j.icon}),u.jsx("div",{className:"network-status","data-status":j.status,children:j.status})]}),u.jsxs("div",{className:"network-info",children:[u.jsx("div",{className:"network-name",children:j.name}),u.jsx("div",{className:"network-description",children:j.description}),u.jsx("div",{className:"network-tech",children:j.tech})]}),u.jsxs("div",{className:"network-specs",children:[u.jsxs("div",{className:"spec-item",children:[u.jsx("span",{className:"spec-label",children:j.isWeb2?"TYPE:":"CHAIN ID:"}),u.jsx("span",{className:"spec-value",children:j.isWeb2?"WEB2":j.id})]}),u.jsxs("div",{className:"spec-item",children:[u.jsx("span",{className:"spec-label",children:"NETWORK:"}),u.jsx("span",{className:"spec-value",children:j.isWeb2?"BROWSER":"TESTNET"})]})]}),u.jsx("div",{className:"selection-indicator",children:(n==null?void 0:n.id)===j.id&&u.jsx("div",{className:"selected-glow",children:"SELECTED"})})]},j.id))}),n&&u.jsxs("div",{className:"launch-section",children:[u.jsxs("div",{className:"launch-info",children:[u.jsxs("div",{className:"terminal-text",children:[u.jsx("span",{className:"terminal-prompt",children:">"})," TARGET NETWORK: ",n.name]}),u.jsxs("div",{className:"terminal-text",children:[u.jsx("span",{className:"terminal-prompt",children:">"})," MISSION STATUS: READY FOR DEPLOYMENT"]})]}),u.jsxs("button",{className:"launch-button",onClick:v,children:[u.jsx("span",{className:"button-icon",children:""}),"LAUNCH MISSION ON ",n.name,u.jsx("div",{className:"button-glow"})]})]})]})]})})})},_c=({onWalletConnected:e})=>{const{user:t,authenticated:n,ready:r}=ct(),{login:s}=cn(),[a,o]=F.useState("INITIALIZING"),[i,l]=F.useState("");F.useEffect(()=>{n&&t&&e()},[n,t,e]),F.useEffect(()=>{const m=setInterval(()=>{l(x=>x.length>=3?"":x+".")},500),y=setInterval(()=>{const x=["INITIALIZING","LOADING SYSTEMS","CONNECTING","SYNCING"];o(x[Math.floor(Math.random()*x.length)])},2e3);return()=>{clearInterval(m),clearInterval(y)}},[]);const g=()=>{s()};return r?u.jsx("div",{className:"wallet-connection-overlay",children:u.jsx("div",{className:"wallet-connection-container",children:u.jsxs("div",{className:"wallet-connection-content",children:[u.jsxs("div",{className:"terminal-header",children:[u.jsx("div",{className:"terminal-title",children:"WALLET CONNECTION PROTOCOL"}),u.jsxs("div",{className:"terminal-buttons",children:[u.jsx("div",{className:"terminal-button red"}),u.jsx("div",{className:"terminal-button yellow"}),u.jsx("div",{className:"terminal-button green"})]})]}),u.jsx("div",{className:"logo-section",children:u.jsxs("div",{className:"pixel-logo",children:[u.jsxs("div",{className:"logo-text",children:[u.jsx("span",{className:"logo-main",children:"BUDDY"}),u.jsx("span",{className:"logo-accent",children:"RUNNER"})]}),u.jsxs("div",{className:"logo-powered",children:["POWERED BY ",u.jsx("strong",{children:"MEGA BUDDIES"})]})]})}),u.jsxs("div",{className:"connection-section",children:[u.jsx("div",{className:"connection-icon",children:""}),u.jsx("h2",{className:"connection-title",children:"AUTHENTICATION REQUIRED"}),u.jsxs("div",{className:"terminal-content",children:[u.jsxs("div",{className:"terminal-text",children:[u.jsx("span",{className:"terminal-prompt",children:">"})," CONNECT YOUR WALLET TO ACCESS THE GAME"]}),u.jsxs("div",{className:"terminal-text",children:[u.jsx("span",{className:"terminal-prompt",children:">"})," ALL SCORES WILL BE STORED ON-CHAIN"]}),u.jsxs("div",{className:"terminal-text",children:[u.jsx("span",{className:"terminal-prompt",children:">"})," SECURE BLOCKCHAIN AUTHENTICATION"]})]}),u.jsxs("button",{className:"connect-wallet-button",onClick:g,children:[u.jsx("span",{className:"button-icon",children:""}),"CONNECT WALLET",u.jsx("div",{className:"button-glow"})]}),u.jsxs("div",{className:"supported-options",children:[u.jsx("div",{className:"options-title",children:"SUPPORTED AUTHENTICATION METHODS:"}),u.jsxs("div",{className:"options-grid",children:[u.jsxs("div",{className:"option-item",children:[u.jsx("span",{className:"option-icon",children:""}),u.jsx("span",{className:"option-text",children:"EMAIL"})]}),u.jsxs("div",{className:"option-item",children:[u.jsx("span",{className:"option-icon",children:""}),u.jsx("span",{className:"option-text",children:"PHONE"})]}),u.jsxs("div",{className:"option-item",children:[u.jsx("span",{className:"option-icon",children:""}),u.jsx("span",{className:"option-text",children:"METAMASK"})]}),u.jsxs("div",{className:"option-item",children:[u.jsx("span",{className:"option-icon",children:""}),u.jsx("span",{className:"option-text",children:"OTHER WALLETS"})]})]})]}),u.jsxs("div",{className:"security-info",children:[u.jsxs("div",{className:"terminal-text",children:[u.jsx("span",{className:"terminal-prompt",children:">"})," SECURITY: 256-BIT ENCRYPTION"]}),u.jsxs("div",{className:"terminal-text",children:[u.jsx("span",{className:"terminal-prompt",children:">"})," NETWORK: MEGAETH COMPATIBLE"]})]})]})]})})}):u.jsx("div",{className:"preloader-overlay",children:u.jsx("div",{className:"preloader-container",children:u.jsxs("div",{className:"preloader-content",children:[u.jsxs("div",{className:"terminal-header",children:[u.jsx("div",{className:"terminal-title",children:"BUDDY RUNNER SYSTEM"}),u.jsxs("div",{className:"terminal-buttons",children:[u.jsx("div",{className:"terminal-button red"}),u.jsx("div",{className:"terminal-button yellow"}),u.jsx("div",{className:"terminal-button green"})]})]}),u.jsx("div",{className:"logo-section",children:u.jsx("div",{className:"pixel-logo",children:u.jsxs("div",{className:"logo-text",children:[u.jsx("span",{className:"logo-main",children:"BUDDY"}),u.jsx("span",{className:"logo-accent",children:"RUNNER"})]})})}),u.jsx("div",{className:"loading-bar",children:u.jsx("div",{className:"progress",style:{width:"100%"}})}),u.jsxs("div",{className:"loading-text",children:[a,u.jsx("span",{className:"dots",children:i})]}),u.jsxs("div",{className:"terminal-text",children:[u.jsx("span",{className:"terminal-prompt",children:">"})," System initialization in progress..."]})]})})})};var Wc={};const qc=()=>{const e="cme84q0og02aalc0bh9blzwa9",[t,n]=F.useState("network-selection"),[r,s]=F.useState(null),a={id:6342,name:"MegaETH Testnet",network:"megaeth-testnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://carrot.megaeth.com/rpc"],webSocket:["wss://carrot.megaeth.com/ws"]}},blockExplorers:{default:{name:"MegaETH Explorer",url:"https://carrot.megaeth.com"}}},g={appId:"cm25q62mj00nks8j5lxk4qyly",config:{appearance:{theme:"dark",accentColor:"#1391ff",logo:"https://images.unsplash.com/photo-1614680376573-df3480f0c6ff?w=100&h=100&fit=crop&crop=center",walletChainType:"ethereum-and-solana",showWalletLoginFirst:!1,showWalletUiOnNotConnected:!1,showWalletUi:!1},embeddedWallets:{createOnLogin:"all-users",requireUserPasswordOnCreate:!1,prependWithWalletUi:!1,noPromptOnSignature:!0,showWalletUiOnNotConnected:!1,showWalletLoginFirst:!1},loginMethods:["email","wallet","google","discord","twitter"],defaultChain:a,supportedChains:[a,{id:31337,name:"Foundry Local",network:"foundry",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["http://127.0.0.1:8545"]}}},{id:50311,name:"Somnia Testnet",network:"somnia-testnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://testnet.somnia.network"]}}},{id:1313161556,name:"RISE Testnet",network:"rise-testnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://testnet-rpc.rise.com"]}}},{id:84532,name:"Base Sepolia",network:"base-sepolia",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Base Sepolia Explorer",url:"https://sepolia.basescan.org"}}},{id:10143,name:"Monad Testnet",network:"monad-testnet",nativeCurrency:{name:"Monad",symbol:"MON",decimals:18},rpcUrls:{default:{http:["https://testnet-rpc.monad.xyz"]}},blockExplorers:{default:{name:"Monad Explorer",url:"https://testnet.monadexplorer.com"}}},{id:1,name:"Ethereum",network:"homestead",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://eth-mainnet.g.alchemy.com/v2/your-api-key"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io"}}},{id:11155111,name:"Sepolia",network:"sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.infura.io/v3/your-api-key"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.etherscan.io"}}}],walletConnectCloudProjectId:Wc.REACT_APP_WALLETCONNECT_PROJECT_ID||"default",legal:{termsAndConditionsUrl:"/terms",privacyPolicyUrl:"/privacy"},mfa:{noPromptOnMfaRequired:!1},analytics:{enabled:!1},telemetry:!1,disableAnalytics:!0}},m=N=>{s(N)},y=N=>{s(N),N.isWeb2?n("game"):n("wallet-connection")},x=()=>{n("game")},C=()=>{n("network-selection"),s(null)},w=()=>{n("network-selection"),s(null)};return u.jsx(Ks,{appId:e,config:g,children:u.jsx("div",{className:"app",children:t==="network-selection"?u.jsx(Hc,{onNetworkSelect:m,onStartGame:y}):t==="wallet-connection"?u.jsxs("div",{children:[u.jsx("div",{className:"back-to-wallet",children:u.jsx("button",{className:"back-button-small",onClick:C,children:" Back to Network Selection"})}),u.jsx(_c,{onWalletConnected:x})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"back-to-network-button",children:u.jsx("button",{className:"back-button",onClick:C,children:" Back to Network Selection"})}),r&&!r.isWeb2&&u.jsx(Uc,{selectedNetwork:r,onDisconnect:w,disableNetworkControls:!0}),u.jsx("div",{className:"game-layout",children:u.jsx("div",{className:"game-header",children:u.jsx("div",{className:"header-center",children:u.jsxs("div",{className:"title",children:["Buddy Runner",r&&r.isWeb2&&u.jsx("span",{className:"web2-mode",children:" - Classic Mode"})]})})})}),u.jsx(zc,{selectedNetwork:r}),u.jsxs("div",{className:"instructions",children:[u.jsx("p",{className:"main-instruction",children:" Press SPACE or tap to make Buddy jump!"}),u.jsx("p",{className:"help-text",children:"Help our brave bunny Buddy hop over the giant carrots and achieve the highest score!"}),u.jsx("p",{className:"warning-text",children:"Watch out for those sneaky garden carrots!"})]})]})})})};On.createRoot(document.getElementById("root")).render(u.jsx(Ys.StrictMode,{children:u.jsx(qc,{})}));export{O as B,xt as H,Tt as I,Be as a,Ae as b,wn as c,Po as d,Gt as e,un as g,Ue as i,be as s};
