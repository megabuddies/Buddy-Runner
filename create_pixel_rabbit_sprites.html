<!DOCTYPE html>
<html>
<head>
    <title>Pixel Rabbit Sprite Generator</title>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            padding: 20px; 
            background: #f0f0f0; 
        }
        canvas { 
            border: 2px solid #333; 
            margin: 10px; 
            image-rendering: pixelated;
            image-rendering: -moz-crisp-edges;
            image-rendering: crisp-edges;
            background: transparent;
        }
        .sprite-container {
            display: inline-block;
            margin: 10px;
            text-align: center;
            background: white;
            padding: 10px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        button {
            padding: 10px 20px;
            margin: 5px;
            background: #4CAF50;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 16px;
        }
        button:hover {
            background: #45a049;
        }
        .controls {
            margin-bottom: 20px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body>
    <h1>üê∞ Pixel Rabbit Sprite Generator</h1>
    
    <div class="controls">
        <button onclick="generateAllSprites()">Generate All Sprites</button>
        <button onclick="downloadAllSprites()">Download All Sprites</button>
        <p>Generates pixel art rabbit sprites based on the provided reference image</p>
    </div>

    <div id="sprites-container">
        <div class="sprite-container">
            <h3>Standing Still</h3>
            <canvas id="rabbit-standing" width="264" height="282"></canvas>
            <br><button onclick="downloadSprite('rabbit-standing', 'buddy_standing_still.png')">Download</button>
        </div>

        <div class="sprite-container">
            <h3>Standing (Eyes Closed)</h3>
            <canvas id="rabbit-standing-closed" width="264" height="282"></canvas>
            <br><button onclick="downloadSprite('rabbit-standing-closed', 'buddy_standing_still_eye_closed.png')">Download</button>
        </div>

        <div class="sprite-container">
            <h3>Running 1</h3>
            <canvas id="rabbit-run1" width="264" height="282"></canvas>
            <br><button onclick="downloadSprite('rabbit-run1', 'buddy_run1.png')">Download</button>
        </div>

        <div class="sprite-container">
            <h3>Running 2</h3>
            <canvas id="rabbit-run2" width="264" height="282"></canvas>
            <br><button onclick="downloadSprite('rabbit-run2', 'buddy_run2.png')">Download</button>
        </div>
    </div>

    <script>
        function drawPixelRabbitStanding(ctx, eyesClosed = false) {
            // Scale factor for easier pixel drawing
            const scale = 6;
            
            // Clear canvas
            ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);
            
            function pixel(x, y, color) {
                ctx.fillStyle = color;
                ctx.fillRect(x * scale, y * scale, scale, scale);
            }

            // Based on the provided pixel rabbit image
            // Colors from the reference image
            const WHITE = '#F5F2EB';
            const BLACK = '#000000';
            const ORANGE = '#F85A4A';  // Carrot/nose color
            const PINK = '#FFB8B8';    // Cheeks
            const GRAY = '#9BB8C9';    // Shadow/ear inside
            const GREEN = '#4A9E4A';   // Grass (if needed)

            // Draw rabbit body outline (black)
            // Head outline
            for(let x = 15; x <= 29; x++) {
                pixel(x, 8, BLACK);  // Top of head
                pixel(x, 32, BLACK); // Bottom of head
            }
            for(let y = 9; y <= 31; y++) {
                pixel(14, y, BLACK); // Left side
                pixel(30, y, BLACK); // Right side
            }

            // Left ear outline
            for(let y = 2; y <= 7; y++) {
                pixel(17, y, BLACK);
                pixel(21, y, BLACK);
            }
            for(let x = 18; x <= 20; x++) {
                pixel(x, 1, BLACK);
                pixel(x, 8, BLACK);
            }

            // Right ear outline  
            for(let y = 2; y <= 7; y++) {
                pixel(23, y, BLACK);
                pixel(27, y, BLACK);
            }
            for(let x = 24; x <= 26; x++) {
                pixel(x, 1, BLACK);
                pixel(x, 8, BLACK);
            }

            // Body outline
            for(let x = 10; x <= 34; x++) {
                pixel(x, 33, BLACK); // Top of body
                pixel(x, 46, BLACK); // Bottom of body
            }
            for(let y = 34; y <= 45; y++) {
                pixel(9, y, BLACK);  // Left side
                pixel(35, y, BLACK); // Right side
            }

            // Arms
            for(let y = 36; y <= 40; y++) {
                pixel(6, y, BLACK);
                pixel(11, y, BLACK);
                pixel(33, y, BLACK);
                pixel(38, y, BLACK);
            }
            for(let x = 7; x <= 10; x++) {
                pixel(x, 35, BLACK);
                pixel(x, 41, BLACK);
            }
            for(let x = 34; x <= 37; x++) {
                pixel(x, 35, BLACK);
                pixel(x, 41, BLACK);
            }

            // Fill rabbit body (white)
            // Head fill
            for(let y = 9; y <= 31; y++) {
                for(let x = 15; x <= 29; x++) {
                    pixel(x, y, WHITE);
                }
            }

            // Ear fills
            for(let y = 2; y <= 7; y++) {
                for(let x = 18; x <= 20; x++) {
                    pixel(x, y, WHITE);
                }
                for(let x = 24; x <= 26; x++) {
                    pixel(x, y, WHITE);
                }
            }

            // Ear insides (gray)
            for(let y = 3; y <= 6; y++) {
                pixel(19, y, GRAY);
                pixel(25, y, GRAY);
            }

            // Body fill
            for(let y = 34; y <= 45; y++) {
                for(let x = 10; x <= 34; x++) {
                    pixel(x, y, WHITE);
                }
            }

            // Arms fill
            for(let y = 36; y <= 40; y++) {
                for(let x = 7; x <= 10; x++) {
                    pixel(x, y, WHITE);
                }
                for(let x = 34; x <= 37; x++) {
                    pixel(x, y, WHITE);
                }
            }

            // Eyes
            if (eyesClosed) {
                // Closed eyes (horizontal lines)
                for(let x = 18; x <= 20; x++) {
                    pixel(x, 16, BLACK);
                }
                for(let x = 24; x <= 26; x++) {
                    pixel(x, 16, BLACK);
                }
            } else {
                // Open eyes
                pixel(19, 15, BLACK);
                pixel(19, 16, BLACK);
                pixel(25, 15, BLACK);
                pixel(25, 16, BLACK);
                
                // Eye pupils (white dot)
                pixel(19, 15, WHITE);
                pixel(25, 15, WHITE);
            }

            // Nose
            pixel(22, 20, ORANGE);

            // Cheeks
            pixel(16, 22, PINK);
            pixel(28, 22, PINK);

            // Mouth
            pixel(21, 24, BLACK);
            pixel(22, 25, BLACK);
            pixel(23, 24, BLACK);
        }

        function drawPixelRabbitRunning(ctx, frame) {
            // Scale factor for easier pixel drawing
            const scale = 6;
            
            // Clear canvas
            ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);
            
            function pixel(x, y, color) {
                ctx.fillStyle = color;
                ctx.fillRect(x * scale, y * scale, scale, scale);
            }

            // Colors
            const WHITE = '#F5F2EB';
            const BLACK = '#000000';
            const ORANGE = '#F85A4A';
            const PINK = '#FFB8B8';
            const GRAY = '#9BB8C9';

            // Slight body tilt for running animation
            const tilt = frame === 1 ? 0 : 1;

            // Draw rabbit similar to standing but with slight position changes
            // Head outline (slightly tilted)
            for(let x = 15; x <= 29; x++) {
                pixel(x, 8 + tilt, BLACK);
                pixel(x, 32 + tilt, BLACK);
            }
            for(let y = 9; y <= 31; y++) {
                pixel(14, y + tilt, BLACK);
                pixel(30, y + tilt, BLACK);
            }

            // Ears (different positions for animation)
            if (frame === 1) {
                // Frame 1: ears more upright
                for(let y = 2; y <= 7; y++) {
                    pixel(17, y, BLACK);
                    pixel(21, y, BLACK);
                    pixel(23, y, BLACK);
                    pixel(27, y, BLACK);
                }
                for(let x = 18; x <= 20; x++) {
                    pixel(x, 1, BLACK);
                    pixel(x, 8, BLACK);
                }
                for(let x = 24; x <= 26; x++) {
                    pixel(x, 1, BLACK);
                    pixel(x, 8, BLACK);
                }
            } else {
                // Frame 2: ears slightly back
                for(let y = 3; y <= 8; y++) {
                    pixel(16, y, BLACK);
                    pixel(20, y, BLACK);
                    pixel(24, y, BLACK);
                    pixel(28, y, BLACK);
                }
                for(let x = 17; x <= 19; x++) {
                    pixel(x, 2, BLACK);
                    pixel(x, 9, BLACK);
                }
                for(let x = 25; x <= 27; x++) {
                    pixel(x, 2, BLACK);
                    pixel(x, 9, BLACK);
                }
            }

            // Body (same as standing)
            for(let x = 10; x <= 34; x++) {
                pixel(x, 33 + tilt, BLACK);
                pixel(x, 46 + tilt, BLACK);
            }
            for(let y = 34; y <= 45; y++) {
                pixel(9, y + tilt, BLACK);
                pixel(35, y + tilt, BLACK);
            }

            // Arms in different positions
            if (frame === 1) {
                // Arms forward
                for(let y = 36; y <= 40; y++) {
                    pixel(5, y + tilt, BLACK);
                    pixel(10, y + tilt, BLACK);
                    pixel(34, y + tilt, BLACK);
                    pixel(39, y + tilt, BLACK);
                }
            } else {
                // Arms back
                for(let y = 37; y <= 41; y++) {
                    pixel(7, y + tilt, BLACK);
                    pixel(12, y + tilt, BLACK);
                    pixel(32, y + tilt, BLACK);
                    pixel(37, y + tilt, BLACK);
                }
            }

            // Fill areas (similar to standing, adjusted for tilt)
            // Head fill
            for(let y = 9; y <= 31; y++) {
                for(let x = 15; x <= 29; x++) {
                    pixel(x, y + tilt, WHITE);
                }
            }

            // Ear fills
            if (frame === 1) {
                for(let y = 2; y <= 7; y++) {
                    for(let x = 18; x <= 20; x++) {
                        pixel(x, y, WHITE);
                    }
                    for(let x = 24; x <= 26; x++) {
                        pixel(x, y, WHITE);
                    }
                }
                pixel(19, 4, GRAY);
                pixel(25, 4, GRAY);
            } else {
                for(let y = 3; y <= 8; y++) {
                    for(let x = 17; x <= 19; x++) {
                        pixel(x, y, WHITE);
                    }
                    for(let x = 25; x <= 27; x++) {
                        pixel(x, y, WHITE);
                    }
                }
                pixel(18, 5, GRAY);
                pixel(26, 5, GRAY);
            }

            // Body fill
            for(let y = 34; y <= 45; y++) {
                for(let x = 10; x <= 34; x++) {
                    pixel(x, y + tilt, WHITE);
                }
            }

            // Arms fill
            if (frame === 1) {
                for(let y = 36; y <= 40; y++) {
                    for(let x = 6; x <= 9; x++) {
                        pixel(x, y + tilt, WHITE);
                    }
                    for(let x = 35; x <= 38; x++) {
                        pixel(x, y + tilt, WHITE);
                    }
                }
            } else {
                for(let y = 37; y <= 41; y++) {
                    for(let x = 8; x <= 11; x++) {
                        pixel(x, y + tilt, WHITE);
                    }
                    for(let x = 33; x <= 36; x++) {
                        pixel(x, y + tilt, WHITE);
                    }
                }
            }

            // Eyes (always open for running)
            pixel(19, 15 + tilt, BLACK);
            pixel(19, 16 + tilt, BLACK);
            pixel(25, 15 + tilt, BLACK);
            pixel(25, 16 + tilt, BLACK);
            pixel(19, 15 + tilt, WHITE);
            pixel(25, 15 + tilt, WHITE);

            // Nose
            pixel(22, 20 + tilt, ORANGE);

            // Cheeks
            pixel(16, 22 + tilt, PINK);
            pixel(28, 22 + tilt, PINK);

            // Mouth
            pixel(21, 24 + tilt, BLACK);
            pixel(22, 25 + tilt, BLACK);
            pixel(23, 24 + tilt, BLACK);
        }

        function generateAllSprites() {
            const standingCtx = document.getElementById('rabbit-standing').getContext('2d');
            const standingClosedCtx = document.getElementById('rabbit-standing-closed').getContext('2d');
            const run1Ctx = document.getElementById('rabbit-run1').getContext('2d');
            const run2Ctx = document.getElementById('rabbit-run2').getContext('2d');

            // Generate all sprites
            drawPixelRabbitStanding(standingCtx, false);
            drawPixelRabbitStanding(standingClosedCtx, true);
            drawPixelRabbitRunning(run1Ctx, 1);
            drawPixelRabbitRunning(run2Ctx, 2);
        }

        function downloadSprite(canvasId, filename) {
            const canvas = document.getElementById(canvasId);
            const link = document.createElement('a');
            link.download = filename;
            link.href = canvas.toDataURL('image/png');
            link.click();
        }

        function downloadAllSprites() {
            setTimeout(() => downloadSprite('rabbit-standing', 'buddy_standing_still.png'), 100);
            setTimeout(() => downloadSprite('rabbit-standing-closed', 'buddy_standing_still_eye_closed.png'), 200);
            setTimeout(() => downloadSprite('rabbit-run1', 'buddy_run1.png'), 300);
            setTimeout(() => downloadSprite('rabbit-run2', 'buddy_run2.png'), 400);
        }

        // Generate sprites on page load
        window.onload = function() {
            generateAllSprites();
        };
    </script>
</body>
</html>